import{I as tn}from"./internmap-BkD7Hj8s.js";import{a as hn,p as Yn,b as bn,c as Hn,d as Sn,f as mn}from"./d3-format-z4aR3EL-.js";import{i as In,a as An,b as xn}from"./d3-interpolate-BZ0iqsaf.js";import{t as On,b as zn}from"./d3-time-format-BsgzIIjF.js";function H(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Rn(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function j(n){let e,i,t;n.length!==2?(e=H,i=(l,c)=>H(n(l),c),t=(l,c)=>n(l)-c):(e=n===H||n===Rn?n:Wn,i=n,t=n);function a(l,c,u=0,g=l.length){if(u<g){if(e(c,c)!==0)return g;do{const f=u+g>>>1;i(l[f],c)<0?u=f+1:g=f}while(u<g)}return u}function r(l,c,u=0,g=l.length){if(u<g){if(e(c,c)!==0)return g;do{const f=u+g>>>1;i(l[f],c)<=0?u=f+1:g=f}while(u<g)}return u}function o(l,c,u=0,g=l.length){const f=a(l,c,u,g-1);return f>u&&t(l[f-1],c)>-t(l[f],c)?f-1:f}return{left:a,center:o,right:r}}function Wn(){return 0}function qn(n){return n===null?NaN:+n}const En=j(H),Mn=En.right;j(qn).center;const Ln=Math.sqrt(50),$n=Math.sqrt(10),jn=Math.sqrt(2);function S(n,e,i){const t=(e-n)/Math.max(0,i),a=Math.floor(Math.log10(t)),r=t/Math.pow(10,a),o=r>=Ln?10:r>=$n?5:r>=jn?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(n*u),c=Math.round(e*u),l/u<n&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(n/u),c=Math.round(e/u),l*u<n&&++l,c*u>e&&--c),c<l&&.5<=i&&i<2?S(n,e,i*2):[l,c,u]}function q(n,e,i){if(e=+e,n=+n,i=+i,!(i>0))return[];if(n===e)return[n];const t=e<n,[a,r,o]=t?S(e,n,i):S(n,e,i);if(!(r>=a))return[];const l=r-a+1,c=new Array(l);if(t)if(o<0)for(let u=0;u<l;++u)c[u]=(r-u)/-o;else for(let u=0;u<l;++u)c[u]=(r-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function E(n,e,i){return e=+e,n=+n,i=+i,S(n,e,i)[2]}function L(n,e,i){e=+e,n=+n,i=+i;const t=e<n,a=t?E(e,n,i):E(n,e,i);return(t?-1:1)*(a<0?1/-a:a)}function Bn(n,e,i){n=+n,e=+e,i=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+i;for(var t=-1,a=Math.max(0,Math.ceil((e-n)/i))|0,r=new Array(a);++t<a;)r[t]=n+t*i;return r}function F(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const un=Symbol("implicit");function yn(){var n=new tn,e=[],i=[],t=un;function a(r){let o=n.get(r);if(o===void 0){if(t!==un)return t;n.set(r,o=e.push(r)-1)}return i[o%i.length]}return a.domain=function(r){if(!arguments.length)return e.slice();e=[],n=new tn;for(const o of r)n.has(o)||n.set(o,e.push(o)-1);return a},a.range=function(r){return arguments.length?(i=Array.from(r),a):i.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return yn(e,i).unknown(t)},F.apply(a,arguments),a}function Tn(){var n=yn().unknown(void 0),e=n.domain,i=n.range,t=0,a=1,r,o,l=!1,c=0,u=0,g=.5;delete n.unknown;function f(){var s=e().length,m=a<t,M=m?a:t,T=m?t:a;r=(T-M)/Math.max(1,s-c+u*2),l&&(r=Math.floor(r)),M+=(T-M-r*(s-c))*g,o=r*(1-c),l&&(M=Math.round(M),o=Math.round(o));var v=Bn(s).map(function(w){return M+r*w});return i(m?v.reverse():v)}return n.domain=function(s){return arguments.length?(e(s),f()):e()},n.range=function(s){return arguments.length?([t,a]=s,t=+t,a=+a,f()):[t,a]},n.rangeRound=function(s){return[t,a]=s,t=+t,a=+a,l=!0,f()},n.bandwidth=function(){return o},n.step=function(){return r},n.round=function(s){return arguments.length?(l=!!s,f()):l},n.padding=function(s){return arguments.length?(c=Math.min(1,u=+s),f()):c},n.paddingInner=function(s){return arguments.length?(c=Math.min(1,s),f()):c},n.paddingOuter=function(s){return arguments.length?(u=+s,f()):u},n.align=function(s){return arguments.length?(g=Math.max(0,Math.min(1,s)),f()):g},n.copy=function(){return Tn(e(),[t,a]).round(l).paddingInner(c).paddingOuter(u).align(g)},F.apply(f(),arguments)}function pn(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return pn(e())},n}function He(){return pn(Tn.apply(null,arguments).paddingInner(1))}function Pn(n){return function(){return n}}function Gn(n){return+n}var on=[0,1];function b(n){return n}function $(n,e){return(e-=n=+n)?function(i){return(i-n)/e}:Pn(isNaN(e)?NaN:.5)}function Jn(n,e){var i;return n>e&&(i=n,n=e,e=i),function(t){return Math.max(n,Math.min(e,t))}}function Kn(n,e,i){var t=n[0],a=n[1],r=e[0],o=e[1];return a<t?(t=$(a,t),r=i(o,r)):(t=$(t,a),r=i(r,o)),function(l){return r(t(l))}}function Qn(n,e,i){var t=Math.min(n.length,e.length)-1,a=new Array(t),r=new Array(t),o=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<t;)a[o]=$(n[o],n[o+1]),r[o]=i(e[o],e[o+1]);return function(l){var c=Mn(n,l,1,t)-1;return r[c](a[c](l))}}function A(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function B(){var n=on,e=on,i=An,t,a,r,o=b,l,c,u;function g(){var s=Math.min(n.length,e.length);return o!==b&&(o=Jn(n[0],n[s-1])),l=s>2?Qn:Kn,c=u=null,f}function f(s){return s==null||isNaN(s=+s)?r:(c||(c=l(n.map(t),e,i)))(t(o(s)))}return f.invert=function(s){return o(a((u||(u=l(e,n.map(t),In)))(s)))},f.domain=function(s){return arguments.length?(n=Array.from(s,Gn),g()):n.slice()},f.range=function(s){return arguments.length?(e=Array.from(s),g()):e.slice()},f.rangeRound=function(s){return e=Array.from(s),i=xn,g()},f.clamp=function(s){return arguments.length?(o=s?!0:b,g()):o!==b},f.interpolate=function(s){return arguments.length?(i=s,g()):i},f.unknown=function(s){return arguments.length?(r=s,f):r},function(s,m){return t=s,a=m,g()}}function vn(){return B()(b,b)}function Vn(n,e,i,t){var a=L(n,e,i),r;switch(t=hn(t??",f"),t.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return t.precision==null&&!isNaN(r=Hn(a,o))&&(t.precision=r),Sn(t,o)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(r=bn(a,Math.max(Math.abs(n),Math.abs(e))))&&(t.precision=r-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(r=Yn(a))&&(t.precision=r-(t.type==="%")*2);break}}return mn(t)}function P(n){var e=n.domain;return n.ticks=function(i){var t=e();return q(t[0],t[t.length-1],i??10)},n.tickFormat=function(i,t){var a=e();return Vn(a[0],a[a.length-1],i??10,t)},n.nice=function(i){i==null&&(i=10);var t=e(),a=0,r=t.length-1,o=t[a],l=t[r],c,u,g=10;for(l<o&&(u=o,o=l,l=u,u=a,a=r,r=u);g-- >0;){if(u=E(o,l,i),u===c)return t[a]=o,t[r]=l,e(t);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return n},n}function Xn(){var n=vn();return n.copy=function(){return A(n,Xn())},F.apply(n,arguments),P(n)}function wn(n,e){n=n.slice();var i=0,t=n.length-1,a=n[i],r=n[t],o;return r<a&&(o=i,i=t,t=o,o=a,a=r,r=o),n[i]=e.floor(a),n[t]=e.ceil(r),n}function an(n){return Math.log(n)}function ln(n){return Math.exp(n)}function Zn(n){return-Math.log(-n)}function _n(n){return-Math.exp(-n)}function ne(n){return isFinite(n)?+("1e"+n):n<0?0:n}function ee(n){return n===10?ne:n===Math.E?Math.exp:e=>Math.pow(n,e)}function re(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function cn(n){return(e,i)=>-n(-e,i)}function te(n){const e=n(an,ln),i=e.domain;let t=10,a,r;function o(){return a=re(t),r=ee(t),i()[0]<0?(a=cn(a),r=cn(r),n(Zn,_n)):n(an,ln),e}return e.base=function(l){return arguments.length?(t=+l,o()):t},e.domain=function(l){return arguments.length?(i(l),o()):i()},e.ticks=l=>{const c=i();let u=c[0],g=c[c.length-1];const f=g<u;f&&([u,g]=[g,u]);let s=a(u),m=a(g),M,T;const v=l==null?10:+l;let w=[];if(!(t%1)&&m-s<v){if(s=Math.floor(s),m=Math.ceil(m),u>0){for(;s<=m;++s)for(M=1;M<t;++M)if(T=s<0?M/r(-s):M*r(s),!(T<u)){if(T>g)break;w.push(T)}}else for(;s<=m;++s)for(M=t-1;M>=1;--M)if(T=s>0?M/r(-s):M*r(s),!(T<u)){if(T>g)break;w.push(T)}w.length*2<v&&(w=q(u,g,v))}else w=q(s,m,Math.min(m-s,v)).map(r);return f?w.reverse():w},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=t===10?"s":","),typeof c!="function"&&(!(t%1)&&(c=hn(c)).precision==null&&(c.trim=!0),c=mn(c)),l===1/0)return c;const u=Math.max(1,t*l/e.ticks().length);return g=>{let f=g/r(Math.round(a(g)));return f*t<t-.5&&(f*=t),f<=u?c(g):""}},e.nice=()=>i(wn(i(),{floor:l=>r(Math.floor(a(l))),ceil:l=>r(Math.ceil(a(l)))})),e}function ue(){const n=te(B()).domain([1,10]);return n.copy=()=>A(n,ue()).base(n.base()),F.apply(n,arguments),n}function sn(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function gn(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function ie(n){var e=1,i=n(sn(e),gn(e));return i.constant=function(t){return arguments.length?n(sn(e=+t),gn(e)):e},P(i)}function oe(){var n=ie(B());return n.copy=function(){return A(n,oe()).constant(n.constant())},F.apply(n,arguments)}function ae(){var n=0,e=1,i=1,t=[.5],a=[0,1],r;function o(c){return c!=null&&c<=c?a[Mn(t,c,0,i)]:r}function l(){var c=-1;for(t=new Array(i);++c<i;)t[c]=((c+1)*e-(c-i)*n)/(i+1);return o}return o.domain=function(c){return arguments.length?([n,e]=c,n=+n,e=+e,l()):[n,e]},o.range=function(c){return arguments.length?(i=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[n,t[0]]:u>=i?[t[i-1],e]:[t[u-1],t[u]]},o.unknown=function(c){return arguments.length&&(r=c),o},o.thresholds=function(){return t.slice()},o.copy=function(){return ae().domain([n,e]).range(a).unknown(r)},F.apply(P(o),arguments)}const z=new Date,R=new Date;function y(n,e,i,t){function a(r){return n(r=arguments.length===0?new Date:new Date(+r)),r}return a.floor=r=>(n(r=new Date(+r)),r),a.ceil=r=>(n(r=new Date(r-1)),e(r,1),n(r),r),a.round=r=>{const o=a(r),l=a.ceil(r);return r-o<l-r?o:l},a.offset=(r,o)=>(e(r=new Date(+r),o==null?1:Math.floor(o)),r),a.range=(r,o,l)=>{const c=[];if(r=a.ceil(r),l=l==null?1:Math.floor(l),!(r<o)||!(l>0))return c;let u;do c.push(u=new Date(+r)),e(r,l),n(r);while(u<r&&r<o);return c},a.filter=r=>y(o=>{if(o>=o)for(;n(o),!r(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!r(o););else for(;--l>=0;)for(;e(o,1),!r(o););}),i&&(a.count=(r,o)=>(z.setTime(+r),R.setTime(+o),n(z),n(R),Math.floor(i(z,R))),a.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?a.filter(t?o=>t(o)%r===0:o=>a.count(0,o)%r===0):a)),a}const I=y(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);I.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?y(e=>{e.setTime(Math.floor(e/n)*n)},(e,i)=>{e.setTime(+e+i*n)},(e,i)=>(i-e)/n):I);I.range;const U=1e3,p=U*60,D=p*60,d=D*24,G=d*7,fn=d*30,W=d*365,k=y(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*U)},(n,e)=>(e-n)/U,n=>n.getUTCSeconds());k.range;const J=y(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*U)},(n,e)=>{n.setTime(+n+e*p)},(n,e)=>(e-n)/p,n=>n.getMinutes());J.range;const K=y(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*p)},(n,e)=>(e-n)/p,n=>n.getUTCMinutes());K.range;const Q=y(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*U-n.getMinutes()*p)},(n,e)=>{n.setTime(+n+e*D)},(n,e)=>(e-n)/D,n=>n.getHours());Q.range;const V=y(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*D)},(n,e)=>(e-n)/D,n=>n.getUTCHours());V.range;const X=y(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*p)/d,n=>n.getDate()-1);X.range;const Cn=y(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/d,n=>n.getUTCDate()-1);Cn.range;const Un=y(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/d,n=>Math.floor(n/d));Un.range;function N(n){return y(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,i)=>{e.setDate(e.getDate()+i*7)},(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*p)/G)}const Z=N(0),le=N(1),ce=N(2),se=N(3),ge=N(4),fe=N(5),he=N(6);Z.range;le.range;ce.range;se.range;ge.range;fe.range;he.range;function Y(n){return y(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i*7)},(e,i)=>(i-e)/G)}const _=Y(0),me=Y(1),Me=Y(2),ye=Y(3),Te=Y(4),pe=Y(5),ve=Y(6);_.range;me.range;Me.range;ye.range;Te.range;pe.range;ve.range;const nn=y(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());nn.range;const en=y(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());en.range;const x=y(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());x.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:y(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i*n)});x.range;const O=y(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());O.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:y(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*n)});O.range;function Dn(n,e,i,t,a,r){const o=[[k,1,U],[k,5,5*U],[k,15,15*U],[k,30,30*U],[r,1,p],[r,5,5*p],[r,15,15*p],[r,30,30*p],[a,1,D],[a,3,3*D],[a,6,6*D],[a,12,12*D],[t,1,d],[t,2,2*d],[i,1,G],[e,1,fn],[e,3,3*fn],[n,1,W]];function l(u,g,f){const s=g<u;s&&([u,g]=[g,u]);const m=f&&typeof f.range=="function"?f:c(u,g,f),M=m?m.range(u,+g+1):[];return s?M.reverse():M}function c(u,g,f){const s=Math.abs(g-u)/f,m=j(([,,v])=>v).right(o,s);if(m===o.length)return n.every(L(u/W,g/W,f));if(m===0)return I.every(Math.max(L(u,g,f),1));const[M,T]=o[s/o[m-1][2]<o[m][2]/s?m-1:m];return M.every(T)}return[l,c]}const[we,Ce]=Dn(O,en,_,Un,V,K),[Ue,De]=Dn(x,nn,Z,X,Q,J);function de(n){return new Date(n)}function Fe(n){return n instanceof Date?+n:+new Date(+n)}function rn(n,e,i,t,a,r,o,l,c,u){var g=vn(),f=g.invert,s=g.domain,m=u(".%L"),M=u(":%S"),T=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),dn=u("%b %d"),Fn=u("%B"),kn=u("%Y");function Nn(h){return(c(h)<h?m:l(h)<h?M:o(h)<h?T:r(h)<h?v:t(h)<h?a(h)<h?w:dn:i(h)<h?Fn:kn)(h)}return g.invert=function(h){return new Date(f(h))},g.domain=function(h){return arguments.length?s(Array.from(h,Fe)):s().map(de)},g.ticks=function(h){var C=s();return n(C[0],C[C.length-1],h??10)},g.tickFormat=function(h,C){return C==null?Nn:u(C)},g.nice=function(h){var C=s();return(!h||typeof h.range!="function")&&(h=e(C[0],C[C.length-1],h??10)),h?s(wn(C,h)):g},g.copy=function(){return A(g,rn(n,e,i,t,a,r,o,l,c,u))},g}function Se(){return F.apply(rn(Ue,De,x,nn,Z,X,Q,J,k,On).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ie(){return F.apply(rn(we,Ce,O,en,_,Cn,V,K,k,zn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}export{ue as a,Tn as b,Xn as l,yn as o,He as p,ae as q,oe as s,Se as t,Ie as u};
