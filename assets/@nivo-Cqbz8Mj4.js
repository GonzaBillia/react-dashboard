import{r as h,j as m}from"./react-CAnzuRs3.js";import{e as K,Z as Ui,x as Ao,y as Mt,z as Eo,R as at,v as jt,O as Vn,S as Bo,T as Po,m as Io,n as Si,N as Rn,r as zo,a as Fo,K as Vo,o as Yo,b as Ki,c as Ti}from"./lodash-BFXng43c.js";import{P as r}from"./prop-types-VBG_dl1v.js";import{u as Rt,a as Ae,c as Ji,t as Wt,b as Yt}from"./@react-spring-gPqCVirO.js";import{D as Go}from"./d3-delaunay-DIed0eqA.js";import{$ as Do,e as _o,r as Xo,t as Ho,i as No,n as Uo,o as Ko,a as Jo,l as Qo,s as Zo,d as ea,u as ta,m as na,b as ia,p as ra,h as oa,c as aa,f as la,g as sa,y as ua,v as da,R as ca,q as fa,k as ha,z as Qi,w as ga,x as ma,O as va,j as Zi,H as pa,A as ba,T as ya,G as xa}from"./d3-shape-BHVWIqEO.js";import{m as Li,s as Wi,a as ka,u as Ra,h as Ca,b as wa,n as qi,c as $i,d as Ai,e as ja,f as Ma,t as Oa,g as Sa,w as Ta,i as La,j as Wa,k as qa,l as $a,o as Aa,p as Ea,q as Ba,r as Pa,v as Ia,y as za,x as Fa}from"./d3-time-ToL9Ui94.js";import{t as er,u as Va,a as Ya}from"./d3-time-format-BsgzIIjF.js";import{o as Zt,q as Ei,l as Ga,p as Da,b as _a,u as Xa,t as Ha,a as Na,s as Ua}from"./d3-scale-BG34Qp4e.js";import{f as Yn}from"./d3-format-z4aR3EL-.js";import{s as Gn,a as Dn,b as _n,c as Xn,d as Hn,e as Nn,f as Un,g as Kn,h as Jn,i as Qn,j as Zn,k as ei,l as ti,m as ni,n as ii,o as ri,p as oi,q as ai,r as li,t as si,u as ui,v as di,w as ci,x as fi,y as hi,z as gi,A as mi,B as tr,C as nr,D as ir,E as rr,F as or,G as ar,H as lr,I as sr,J as vi,K as Ka,L as Ja,_ as Qa,M as Za,O as el,N as tl,P as nl,Q as il,R as rl,S as ol,T as al,U as ll,V as sl,W as ul,X as dl,Y as cl,Z as fl,$ as hl,a0 as gl,a1 as ml,a2 as vl,a3 as pl,a4 as bl,a5 as yl,a6 as xl,a7 as kl,a8 as Rl,a9 as Cl,aa as wl,ab as jl,ac as Ml,ad as Ol,ae as Sl,af as Tl,ag as Ll,ah as Wl,ai as ql,aj as $l}from"./d3-scale-chromatic-Dl979YbG.js";import{R as Al}from"./d3-interpolate-BZ0iqsaf.js";import{r as El}from"./d3-color-BBHDXmAz.js";import{q as Bl,w as Pl,T as Il,M as zl,W as Fl,k as Vl,F as Yl,O as Gl,L as Dl,E as _l,S as Xl,g as Hl,x as ur}from"./d3-geo-B6nqQC5l.js";function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vt.apply(this,arguments)}var Nl={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},Bi=function(e,t){return"translate("+e+"px, "+t+"px)"},dr=h.memo(function(e){var t,n=e.position,i=e.anchor,o=e.children,a=ke(),l=ct(),s=l.animate,u=l.config,d=yr(),f=d[0],c=d[1],g=h.useRef(!1),v=void 0,y=!1,p=c.width>0&&c.height>0,b=Math.round(n[0]),R=Math.round(n[1]);p&&(i==="top"?(b-=c.width/2,R-=c.height+14):i==="right"?(b+=14,R-=c.height/2):i==="bottom"?(b-=c.width/2,R+=14):i==="left"?(b-=c.width+14,R-=c.height/2):i==="center"&&(b-=c.width/2,R-=c.height/2),v={transform:Bi(b,R)},g.current||(y=!0),g.current=[b,R]);var x=Rt({to:v,config:u,immediate:!s||y}),k=Vt({},Nl,a.tooltip.wrapper,{transform:(t=x.transform)!=null?t:Bi(b,R),opacity:x.transform?1:0});return m.jsx(Ae.div,{ref:f,style:k,children:o})});dr.displayName="TooltipWrapper";var cr=h.memo(function(e){var t=e.size,n=t===void 0?12:t,i=e.color,o=e.style;return m.jsx("span",{style:Vt({display:"block",width:n,height:n,background:i},o===void 0?{}:o)})}),fn=h.memo(function(e){var t,n=e.id,i=e.value,o=e.format,a=e.enableChip,l=a!==void 0&&a,s=e.color,u=e.renderContent,d=ke(),f=_t(o);if(typeof u=="function")t=u();else{var c=i;f!==void 0&&c!==void 0&&(c=f(c)),t=m.jsxs("div",{style:d.tooltip.basic,children:[l&&m.jsx(cr,{color:s,style:d.tooltip.chip}),c!==void 0?m.jsxs("span",{children:[n,": ",m.jsx("strong",{children:""+c})]}):n]})}return m.jsx("div",{style:d.tooltip.container,children:t})}),Ul={width:"100%",borderCollapse:"collapse"},fr=h.memo(function(e){var t,n=e.title,i=e.rows,o=i===void 0?[]:i,a=e.renderContent,l=ke();return o.length?(t=typeof a=="function"?a():m.jsxs("div",{children:[n&&n,m.jsx("table",{style:Vt({},Ul,l.tooltip.table),children:m.jsx("tbody",{children:o.map(function(s,u){return m.jsx("tr",{children:s.map(function(d,f){return m.jsx("td",{style:l.tooltip.tableCell,children:d},f)})},u)})})})]}),m.jsx("div",{style:l.tooltip.container,children:t})):null});fr.displayName="TableTooltip";var Cn=h.memo(function(e){var t=e.x0,n=e.x1,i=e.y0,o=e.y1,a=ke(),l=ct(),s=l.animate,u=l.config,d=h.useMemo(function(){return Vt({},a.crosshair.line,{pointerEvents:"none"})},[a.crosshair.line]),f=Rt({x1:t,x2:n,y1:i,y2:o,config:u,immediate:!s});return m.jsx(Ae.line,Vt({},f,{fill:"none",style:d}))});Cn.displayName="CrosshairLine";var wn=h.memo(function(e){var t,n,i=e.width,o=e.height,a=e.type,l=e.x,s=e.y;return a==="cross"?(t={x0:l,x1:l,y0:0,y1:o},n={x0:0,x1:i,y0:s,y1:s}):a==="top-left"?(t={x0:l,x1:l,y0:0,y1:s},n={x0:0,x1:l,y0:s,y1:s}):a==="top"?t={x0:l,x1:l,y0:0,y1:s}:a==="top-right"?(t={x0:l,x1:l,y0:0,y1:s},n={x0:l,x1:i,y0:s,y1:s}):a==="right"?n={x0:l,x1:i,y0:s,y1:s}:a==="bottom-right"?(t={x0:l,x1:l,y0:s,y1:o},n={x0:l,x1:i,y0:s,y1:s}):a==="bottom"?t={x0:l,x1:l,y0:s,y1:o}:a==="bottom-left"?(t={x0:l,x1:l,y0:s,y1:o},n={x0:0,x1:l,y0:s,y1:s}):a==="left"?n={x0:0,x1:l,y0:s,y1:s}:a==="x"?t={x0:l,x1:l,y0:0,y1:o}:a==="y"&&(n={x0:0,x1:i,y0:s,y1:s}),m.jsxs(m.Fragment,{children:[t&&m.jsx(Cn,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),n&&m.jsx(Cn,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})});wn.displayName="Crosshair";var hr=h.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),jn={isVisible:!1,position:[null,null],content:null,anchor:null},gr=h.createContext(jn),Kl=function(e){var t=h.useState(jn),n=t[0],i=t[1],o=h.useCallback(function(s,u,d){var f=u[0],c=u[1];d===void 0&&(d="top"),i({isVisible:!0,position:[f,c],anchor:d,content:s})},[i]),a=h.useCallback(function(s,u,d){d===void 0&&(d="top");var f=e.current.getBoundingClientRect(),c=e.current.offsetWidth,g=c===f.width?1:c/f.width,v="touches"in u?u.touches[0]:u,y=v.clientX,p=v.clientY,b=(y-f.left)*g,R=(p-f.top)*g;d!=="left"&&d!=="right"||(d=b<f.width/2?"right":"left"),i({isVisible:!0,position:[b,R],anchor:d,content:s})},[e,i]),l=h.useCallback(function(){i(jn)},[i]);return{actions:h.useMemo(function(){return{showTooltipAt:o,showTooltipFromEvent:a,hideTooltip:l}},[o,a,l]),state:n}},Ct=function(){var e=h.useContext(hr);if(e===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return e},Jl=function(){var e=h.useContext(gr);if(e===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return e},Ql=function(e){return e.isVisible},Zl=function(){var e=Jl();return Ql(e)?m.jsx(dr,{position:e.position,anchor:e.anchor,children:e.content}):null},es=function(e){var t=e.container,n=e.children,i=Kl(t),o=i.actions,a=i.state;return m.jsx(hr.Provider,{value:o,children:m.jsx(gr.Provider,{value:a,children:n})})};function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},it.apply(this,arguments)}function Mn(e,t){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mn(e,t)}function pi(e,t){if(e==null)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}var qt={fill:r.string,fontSize:r.number,fontFamily:r.string},ts=r.shape({domain:r.shape({line:r.shape({stroke:r.string.isRequired,strokeWidth:r.number.isRequired,strokeDasharray:r.string}).isRequired}).isRequired,ticks:r.shape({line:r.shape({stroke:r.string.isRequired,strokeWidth:r.number.isRequired,strokeDasharray:r.string}).isRequired,text:r.shape(it({},qt)).isRequired}).isRequired,legend:r.shape({text:r.shape(it({},qt)).isRequired}).isRequired}),ns=r.shape({line:r.shape({stroke:r.string.isRequired,strokeWidth:r.number.isRequired,strokeDasharray:r.string}).isRequired}),is=r.shape({hidden:r.shape({symbol:r.shape({fill:r.string.isRequired,opacity:r.number}).isRequired,text:r.shape(it({},qt,{opacity:r.number})).isRequired}).isRequired,text:r.shape(it({},qt)).isRequired}),rs=r.shape({text:r.shape(it({},qt)).isRequired}),os=r.shape({text:r.shape(it({},qt)).isRequired}),as=r.shape({text:r.shape(it({},qt)).isRequired}),ls=r.shape({line:r.shape({stroke:r.string.isRequired,strokeWidth:r.number.isRequired,strokeDasharray:r.string}).isRequired}),ss=r.shape({text:r.shape(it({},qt,{outlineWidth:r.number.isRequired,outlineColor:r.string.isRequired})).isRequired,link:r.shape({stroke:r.string.isRequired,strokeWidth:r.number.isRequired,outlineWidth:r.number.isRequired,outlineColor:r.string.isRequired}).isRequired,outline:r.shape({stroke:r.string.isRequired,strokeWidth:r.number.isRequired,outlineWidth:r.number.isRequired,outlineColor:r.string.isRequired}).isRequired,symbol:r.shape({fill:r.string.isRequired,outlineWidth:r.number.isRequired,outlineColor:r.string.isRequired}).isRequired});r.shape({background:r.string.isRequired,fontFamily:r.string.isRequired,fontSize:r.number.isRequired,textColor:r.string.isRequired,axis:ts.isRequired,grid:ns.isRequired,legends:is.isRequired,labels:rs.isRequired,dots:os.isRequired,markers:as,crosshair:ls.isRequired,annotations:ss.isRequired});var us={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent"},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},ds=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],cs=function(e,t){var n=Io({},e,t);return ds.forEach(function(i){at(n,i+".fontFamily")===void 0&&jt(n,i+".fontFamily",n.text.fontFamily),at(n,i+".fontSize")===void 0&&jt(n,i+".fontSize",n.text.fontSize),at(n,i+".fill")===void 0&&jt(n,i+".fill",n.text.fill),at(n,i+".outlineWidth")===void 0&&jt(n,i+".outlineWidth",n.text.outlineWidth),at(n,i+".outlineColor")===void 0&&jt(n,i+".outlineColor",n.text.outlineColor)}),n},mr=h.createContext(),vr=function(e){var t=e.children,n=e.animate,i=n===void 0||n,o=e.config,a=o===void 0?"default":o,l=h.useMemo(function(){var s=Ao(a)?Ji[a]:a;return{animate:i,config:s}},[i,a]);return m.jsx(mr.Provider,{value:l,children:t})},On={animate:r.bool,motionConfig:r.oneOfType([r.oneOf(Object.keys(Ji)),r.shape({mass:r.number,tension:r.number,friction:r.number,clamp:r.bool,precision:r.number,velocity:r.number,duration:r.number,easing:r.func})])};vr.propTypes={children:r.node.isRequired,animate:On.animate,config:On.motionConfig};var ct=function(){return h.useContext(mr)},bi=function(e){var t=ct(),n=t.animate,i=t.config,o=function(s){var u=h.useRef();return h.useEffect(function(){u.current=s},[s]),u.current}(e),a=h.useMemo(function(){return Al(o,e)},[o,e]),l=Rt({from:{value:0},to:{value:1},reset:!0,config:i,immediate:!n}).value;return Wt(l,a)},Sn={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:K(Gn),PRGn:K(Dn),PiYG:K(_n),PuOr:K(Xn),RdBu:K(Hn),RdGy:K(Nn),RdYlBu:K(Un),RdYlGn:K(Kn),spectral:K(Jn),blues:K(Qn),greens:K(Zn),greys:K(ei),oranges:K(ti),purples:K(ni),reds:K(ii),BuGn:K(ri),BuPu:K(oi),GnBu:K(ai),OrRd:K(li),PuBuGn:K(si),PuBu:K(ui),PuRd:K(di),RdPu:K(ci),YlGnBu:K(fi),YlGn:K(hi),YlOrBr:K(gi),YlOrRd:K(mi)},pr=Object.keys(Sn),fs=function(e){if(Mt(e)){if(!Mt(e.domain))throw new Error("Provided colors should be a valid quantize scale providing a 'domain()' function");return e}if(Sn[e])return Ei().range(Sn[e]);if(Eo(e))return Ei().range(e);throw new Error("Unable to guess quantize color scale from '"+e+`',
must be a function or one of:
'`+pr.join("', '")+"'")};tr,nr,ir,rr,or,ar,lr,sr,vi,K(Gn),K(Dn),K(_n),K(Xn),K(Hn),K(Nn),K(Un),K(Kn),K(Jn),K(Qn),K(Zn),K(ei),K(ti),K(ni),K(ii),K(ri),K(oi),K(ai),K(li),K(si),K(ui),K(di),K(ci),K(fi),K(hi),K(gi),K(mi);var hs=r.oneOfType([r.oneOf(pr),r.func,r.arrayOf(r.string)]),Tn={basis:Do,basisClosed:_o,basisOpen:Xo,bundle:Ho,cardinal:No,cardinalClosed:Uo,cardinalOpen:Ko,catmullRom:Jo,catmullRomClosed:Qo,catmullRomOpen:Zo,linear:ea,linearClosed:ta,monotoneX:na,monotoneY:ia,natural:ra,step:oa,stepAfter:aa,stepBefore:la},hn=Object.keys(Tn);r.oneOf(hn);hn.filter(function(e){return e.endsWith("Closed")});Ui(hn,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");var gs=Ui(hn,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),ms=r.oneOf(gs),br=function(e){if(!Tn[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return Tn[e]},vs={defs:r.arrayOf(r.shape({id:r.string.isRequired})).isRequired,fill:r.arrayOf(r.shape({id:r.string.isRequired,match:r.oneOfType([r.oneOf(["*"]),r.object,r.func]).isRequired})).isRequired},ps={ascending:sa,descending:ua,insideOut:da,none:ca,reverse:fa},bs=Object.keys(ps);r.oneOf(bs);var ys={expand:ha,diverging:Qi,none:ga,silhouette:ma,wiggle:va},xs=Object.keys(ys);r.oneOf(xs);r.shape({top:r.number,right:r.number,bottom:r.number,left:r.number}).isRequired;var ks=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],yi=r.oneOf(ks);Zt(vi);var Rs={top:0,right:0,bottom:0,left:0},Ot=function(e,t,n){return n===void 0&&(n={}),h.useMemo(function(){var i=it({},Rs,n);return{margin:i,innerWidth:e-i.left-i.right,innerHeight:t-i.top-i.bottom,outerWidth:e,outerHeight:t}},[e,t,n.top,n.right,n.bottom,n.left])},yr=function(){var e=h.useRef(null),t=h.useState({left:0,top:0,width:0,height:0}),n=t[0],i=t[1],o=h.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(a){var l=a[0];return i(l.contentRect)})})[0];return h.useEffect(function(){return e.current&&o!==null&&o.observe(e.current),function(){o!==null&&o.disconnect()}},[]),[e,n]},Cs=function(e){return h.useMemo(function(){return cs(us,e)},[e])},ws=function(e){return typeof e=="function"?e:typeof e=="string"?e.indexOf("time:")===0?er(e.slice("5")):Yn(e):function(t){return""+t}},_t=function(e){return h.useMemo(function(){return ws(e)},[e])},xr=h.createContext(),js={},kr=function(e){var t=e.theme,n=t===void 0?js:t,i=e.children,o=Cs(n);return m.jsx(xr.Provider,{value:o,children:i})};kr.propTypes={children:r.node.isRequired,theme:r.object};var ke=function(){return h.useContext(xr)},Rr=function(e){var t=e.children,n=e.condition,i=e.wrapper;return n?h.cloneElement(i,{},t):t};Rr.propTypes={children:r.node.isRequired,condition:r.bool.isRequired,wrapper:r.element.isRequired};var Ms={position:"relative"},on=function(e){var t=e.children,n=e.theme,i=e.renderWrapper,o=i===void 0||i,a=e.isInteractive,l=a===void 0||a,s=e.animate,u=e.motionConfig,d=h.useRef(null);return m.jsx(kr,{theme:n,children:m.jsx(vr,{animate:s,config:u,children:m.jsx(es,{container:d,children:m.jsxs(Rr,{condition:o,wrapper:m.jsx("div",{style:Ms,ref:d}),children:[t,l&&m.jsx(Zl,{})]})})})})};on.propTypes={children:r.element.isRequired,isInteractive:r.bool,renderWrapper:r.bool,theme:r.object,animate:r.bool,motionConfig:r.string};r.func.isRequired,r.bool,r.bool,r.object.isRequired,r.bool.isRequired,r.string;var Gt=function(e){var t=e.children,n=yr(),i=n[0],o=n[1],a=o.width>0&&o.height>0;return m.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:a&&t({width:o.width,height:o.height})})};Gt.propTypes={children:r.func.isRequired};var Os=["id","colors"],Cr=function(e){var t=e.id,n=e.colors,i=pi(e,Os);return m.jsx("linearGradient",it({id:t,x1:0,x2:0,y1:0,y2:1},i,{children:n.map(function(o){var a=o.offset,l=o.color,s=o.opacity;return m.jsx("stop",{offset:a+"%",stopColor:l,stopOpacity:s!==void 0?s:1},a)})}))};Cr.propTypes={id:r.string.isRequired,colors:r.arrayOf(r.shape({offset:r.number.isRequired,color:r.string.isRequired,opacity:r.number})).isRequired,gradientTransform:r.string};var wr={linearGradient:Cr},Kt={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Ln=h.memo(function(e){var t=e.id,n=e.background,i=n===void 0?Kt.background:n,o=e.color,a=o===void 0?Kt.color:o,l=e.size,s=l===void 0?Kt.size:l,u=e.padding,d=u===void 0?Kt.padding:u,f=e.stagger,c=f===void 0?Kt.stagger:f,g=s+d,v=s/2,y=d/2;return c===!0&&(g=2*s+2*d),m.jsxs("pattern",{id:t,width:g,height:g,patternUnits:"userSpaceOnUse",children:[m.jsx("rect",{width:g,height:g,fill:i}),m.jsx("circle",{cx:y+v,cy:y+v,r:v,fill:a}),c&&m.jsx("circle",{cx:1.5*d+s+v,cy:1.5*d+s+v,r:v,fill:a})]})});Ln.displayName="PatternDots",Ln.propTypes={id:r.string.isRequired,color:r.string.isRequired,background:r.string.isRequired,size:r.number.isRequired,padding:r.number.isRequired,stagger:r.bool.isRequired};var pt=function(e){return e*Math.PI/180},gn=function(e){return 180*e/Math.PI},Ss=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},zt=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},Ts=function(e){var t=e%360;return t<0&&(t+=360),t},Ls={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},Jt={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},Wn=h.memo(function(e){var t=e.id,n=e.spacing,i=n===void 0?Jt.spacing:n,o=e.rotation,a=o===void 0?Jt.rotation:o,l=e.background,s=l===void 0?Jt.background:l,u=e.color,d=u===void 0?Jt.color:u,f=e.lineWidth,c=f===void 0?Jt.lineWidth:f,g=Math.round(a)%360,v=Math.abs(i);g>180?g-=360:g>90?g-=180:g<-180?g+=360:g<-90&&(g+=180);var y,p=v,b=v;return g===0?y=`
                M 0 0 L `+p+` 0
                M 0 `+b+" L "+p+" "+b+`
            `:g===90?y=`
                M 0 0 L 0 `+b+`
                M `+p+" 0 L "+p+" "+b+`
            `:(p=Math.abs(v/Math.sin(pt(g))),b=v/Math.sin(pt(90-g)),y=g>0?`
                    M 0 `+-b+" L "+2*p+" "+b+`
                    M `+-p+" "+-b+" L "+p+" "+b+`
                    M `+-p+" 0 L "+p+" "+2*b+`
                `:`
                    M `+-p+" "+b+" L "+p+" "+-b+`
                    M `+-p+" "+2*b+" L "+2*p+" "+-b+`
                    M 0 `+2*b+" L "+2*p+` 0
                `),m.jsxs("pattern",{id:t,width:p,height:b,patternUnits:"userSpaceOnUse",children:[m.jsx("rect",{width:p,height:b,fill:s,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),m.jsx("path",{d:y,strokeWidth:c,stroke:d,strokeLinecap:"square"})]})});Wn.displayName="PatternLines",Wn.propTypes={id:r.string.isRequired,spacing:r.number.isRequired,rotation:r.number.isRequired,background:r.string.isRequired,color:r.string.isRequired,lineWidth:r.number.isRequired};var Qt={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},qn=h.memo(function(e){var t=e.id,n=e.color,i=n===void 0?Qt.color:n,o=e.background,a=o===void 0?Qt.background:o,l=e.size,s=l===void 0?Qt.size:l,u=e.padding,d=u===void 0?Qt.padding:u,f=e.stagger,c=f===void 0?Qt.stagger:f,g=s+d,v=d/2;return c===!0&&(g=2*s+2*d),m.jsxs("pattern",{id:t,width:g,height:g,patternUnits:"userSpaceOnUse",children:[m.jsx("rect",{width:g,height:g,fill:a}),m.jsx("rect",{x:v,y:v,width:s,height:s,fill:i}),c&&m.jsx("rect",{x:1.5*d+s,y:1.5*d+s,width:s,height:s,fill:i})]})});qn.displayName="PatternSquares",qn.propTypes={id:r.string.isRequired,color:r.string.isRequired,background:r.string.isRequired,size:r.number.isRequired,padding:r.number.isRequired,stagger:r.bool.isRequired};var jr={patternDots:Ln,patternLines:Wn,patternSquares:qn},Ws=["type"],$n=it({},wr,jr),Mr=function(e){var t=e.defs;return!t||t.length<1?null:m.jsx("defs",{"aria-hidden":!0,children:t.map(function(n){var i=n.type,o=pi(n,Ws);return $n[i]?h.createElement($n[i],it({key:o.id},o)):null})})};Mr.propTypes={defs:r.arrayOf(r.shape({type:r.oneOf(Object.keys($n)).isRequired,id:r.string.isRequired}))};var qs=h.memo(Mr),Xt=function(e){var t=e.width,n=e.height,i=e.margin,o=e.defs,a=e.children,l=e.role,s=e.ariaLabel,u=e.ariaLabelledBy,d=e.ariaDescribedBy,f=e.isFocusable,c=ke();return m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,role:l,"aria-label":s,"aria-labelledby":u,"aria-describedby":d,focusable:f,tabIndex:f?0:void 0,children:[m.jsx(qs,{defs:o}),m.jsx("rect",{width:t,height:n,fill:c.background}),m.jsx("g",{transform:"translate("+i.left+","+i.top+")",children:a})]})};Xt.propTypes={width:r.number.isRequired,height:r.number.isRequired,margin:r.shape({top:r.number.isRequired,left:r.number.isRequired}).isRequired,defs:r.array,children:r.oneOfType([r.arrayOf(r.node),r.node]).isRequired,role:r.string,isFocusable:r.bool,ariaLabel:r.string,ariaLabelledBy:r.string,ariaDescribedBy:r.string};var Or=function(e){var t=e.size,n=e.color,i=e.borderWidth,o=e.borderColor;return m.jsx("circle",{r:t/2,fill:n,stroke:o,strokeWidth:i,style:{pointerEvents:"none"}})};Or.propTypes={size:r.number.isRequired,color:r.string.isRequired,borderWidth:r.number.isRequired,borderColor:r.string.isRequired};var $s=h.memo(Or),Sr=function(e){var t=e.x,n=e.y,i=e.symbol,o=i===void 0?$s:i,a=e.size,l=e.datum,s=e.color,u=e.borderWidth,d=e.borderColor,f=e.label,c=e.labelTextAnchor,g=c===void 0?"middle":c,v=e.labelYOffset,y=v===void 0?-12:v,p=ke(),b=ct(),R=b.animate,x=b.config,k=Rt({transform:"translate("+t+", "+n+")",config:x,immediate:!R});return m.jsxs(Ae.g,{transform:k.transform,style:{pointerEvents:"none"},children:[h.createElement(o,{size:a,color:s,datum:l,borderWidth:u,borderColor:d}),f&&m.jsx("text",{textAnchor:g,y,style:p.dots.text,children:f})]})};Sr.propTypes={x:r.number.isRequired,y:r.number.isRequired,datum:r.object.isRequired,size:r.number.isRequired,color:r.string.isRequired,borderWidth:r.number.isRequired,borderColor:r.string.isRequired,symbol:r.oneOfType([r.func,r.object]),label:r.oneOfType([r.string,r.number]),labelTextAnchor:r.oneOf(["start","middle","end"]),labelYOffset:r.number};var As=h.memo(Sr),Tr=function(e){var t=e.width,n=e.height,i=e.axis,o=e.scale,a=e.value,l=e.lineStyle,s=e.textStyle,u=e.legend,d=e.legendPosition,f=d===void 0?"top-right":d,c=e.legendOffsetX,g=c===void 0?14:c,v=e.legendOffsetY,y=v===void 0?14:v,p=e.legendOrientation,b=p===void 0?"horizontal":p,R=ke(),x=0,k=0,j=0,w=0;i==="y"?(j=o(a),k=t):(x=o(a),w=n);var M=null;if(u){var A=function(O){var T=O.axis,C=O.width,$=O.height,z=O.position,W=O.offsetX,I=O.offsetY,P=O.orientation,E=0,L=0,q=P==="vertical"?-90:0,S="start";if(T==="x")switch(z){case"top-left":E=-W,L=I,S="end";break;case"top":L=-I,S=P==="horizontal"?"middle":"start";break;case"top-right":E=W,L=I,S=P==="horizontal"?"start":"end";break;case"right":E=W,L=$/2,S=P==="horizontal"?"start":"middle";break;case"bottom-right":E=W,L=$-I,S="start";break;case"bottom":L=$+I,S=P==="horizontal"?"middle":"end";break;case"bottom-left":L=$-I,E=-W,S=P==="horizontal"?"end":"start";break;case"left":E=-W,L=$/2,S=P==="horizontal"?"end":"middle"}else switch(z){case"top-left":E=W,L=-I,S="start";break;case"top":E=C/2,L=-I,S=P==="horizontal"?"middle":"start";break;case"top-right":E=C-W,L=-I,S=P==="horizontal"?"end":"start";break;case"right":E=C+W,S=P==="horizontal"?"start":"middle";break;case"bottom-right":E=C-W,L=I,S="end";break;case"bottom":E=C/2,L=I,S=P==="horizontal"?"middle":"end";break;case"bottom-left":E=W,L=I,S=P==="horizontal"?"start":"end";break;case"left":E=-W,S=P==="horizontal"?"end":"middle"}return{x:E,y:L,rotation:q,textAnchor:S}}({axis:i,width:t,height:n,position:f,offsetX:g,offsetY:y,orientation:b});M=m.jsx("text",{transform:"translate("+A.x+", "+A.y+") rotate("+A.rotation+")",textAnchor:A.textAnchor,dominantBaseline:"central",style:s,children:u})}return m.jsxs("g",{transform:"translate("+x+", "+j+")",children:[m.jsx("line",{x1:0,x2:k,y1:0,y2:w,stroke:R.markers.lineColor,strokeWidth:R.markers.lineStrokeWidth,style:l}),M]})};Tr.propTypes={width:r.number.isRequired,height:r.number.isRequired,axis:r.oneOf(["x","y"]).isRequired,scale:r.func.isRequired,value:r.oneOfType([r.number,r.string,r.instanceOf(Date)]).isRequired,lineStyle:r.object,textStyle:r.object,legend:r.string,legendPosition:r.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:r.number.isRequired,legendOffsetY:r.number.isRequired,legendOrientation:r.oneOf(["horizontal","vertical"]).isRequired};var Es=h.memo(Tr),Lr=function(e){var t=e.markers,n=e.width,i=e.height,o=e.xScale,a=e.yScale;return t&&t.length!==0?t.map(function(l,s){return m.jsx(Es,it({},l,{width:n,height:i,scale:l.axis==="y"?a:o}),s)}):null};Lr.propTypes={width:r.number.isRequired,height:r.number.isRequired,xScale:r.func.isRequired,yScale:r.func.isRequired,markers:r.arrayOf(r.shape({axis:r.oneOf(["x","y"]).isRequired,value:r.oneOfType([r.number,r.string,r.instanceOf(Date)]).isRequired,lineStyle:r.object,textStyle:r.object}))};var Wr=h.memo(Lr),Bs=["theme","renderWrapper","animate","motionConfig"],Ht=function(e){return function(t){var n,i;function o(){return t.apply(this,arguments)||this}return i=t,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,Mn(n,i),o.prototype.render=function(){var a=this.props,l=a.theme,s=a.renderWrapper,u=a.animate,d=a.motionConfig,f=pi(a,Bs);return m.jsx(on,{theme:l,renderWrapper:s,isInteractive:f.isInteractive,animate:u,motionConfig:d,children:m.jsx(e,it({},f))})},o}(h.Component)},Ps=function(e,t){var n=Mt(e)?e:function(i){return at(i,e)};return n},qr=function(e){return Mt(e)?e:function(t){return at(t,e)}},Ft=function(e){return h.useMemo(function(){return qr(e)},[e])},$r=function(e,t,n,i,o,a){return e<=o&&o<=e+n&&t<=a&&a<=t+i},Lt=function(e,t){var n,i="touches"in t?t.touches[0]:t,o=i.clientX,a=i.clientY,l=e.getBoundingClientRect(),s=(n=e.getBBox!==void 0?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===l.width?1:n.width/l.width;return[(o-l.left)*s,(a-l.top)*s]},Is=Object.keys(wr),zs=Object.keys(jr),Fs=function(e,t,n){if(e==="*")return!0;if(Mt(e))return e(t);if(Vn(e)){var i=n?at(t,n):t;return Bo(Po(i,Object.keys(e)),e)}return!1},mn=function(e,t,n,i){var o=i===void 0?{}:i,a=o.dataKey,l=o.colorKey,s=l===void 0?"color":l,u=o.targetKey,d=u===void 0?"fill":u,f=[],c={};return e.length&&t.length&&(f=[].concat(e),t.forEach(function(g){for(var v=function(){var p=n[y],b=p.id,R=p.match;if(Fs(R,g,a)){var x=e.find(function(C){return C.id===b});if(x){if(zs.includes(x.type))if(x.background==="inherit"||x.color==="inherit"){var k=at(g,s),j=x.background,w=x.color,M=b;x.background==="inherit"&&(M=M+".bg."+k,j=k),x.color==="inherit"&&(M=M+".fg."+k,w=k),jt(g,d,"url(#"+M+")"),c[M]||(f.push(it({},x,{id:M,background:j,color:w})),c[M]=1)}else jt(g,d,"url(#"+b+")");else if(Is.includes(x.type))if(x.colors.map(function(C){return C.color}).includes("inherit")){var A=at(g,s),O=b,T=it({},x,{colors:x.colors.map(function(C,$){return C.color!=="inherit"?C:(O=O+"."+$+"."+A,it({},C,{color:C.color==="inherit"?A:C.color}))})});T.id=O,jt(g,d,"url(#"+O+")"),c[O]||(f.push(T),c[O]=1)}else jt(g,d,"url(#"+b+")")}return"break"}},y=0;y<n.length&&v()!=="break";y++);})),f};function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sn.apply(this,arguments)}function Pi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(o,a){if(o){if(typeof o=="string")return Pi(o,a);var l=Object.prototype.toString.call(o).slice(8,-1);return l==="Object"&&o.constructor&&(l=o.constructor.name),l==="Map"||l==="Set"?Array.from(o):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Pi(o,a):void 0}}(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ar={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:tr,accent:nr,dark2:ir,paired:rr,pastel1:or,pastel2:ar,set1:lr,set2:sr,set3:vi},Ys=Object.keys(Ar),Er={brown_blueGreen:Gn,purpleRed_green:Dn,pink_yellowGreen:_n,purple_orange:Xn,red_blue:Hn,red_grey:Nn,red_yellow_blue:Un,red_yellow_green:Kn,spectral:Jn},Gs=Object.keys(Er),Ds={brown_blueGreen:Ka,purpleRed_green:Ja,pink_yellowGreen:Qa,purple_orange:Za,red_blue:el,red_grey:tl,red_yellow_blue:nl,red_yellow_green:il,spectral:rl},Br={blues:Qn,greens:Zn,greys:ei,oranges:ti,purples:ni,reds:ii,blue_green:ri,blue_purple:oi,green_blue:ai,orange_red:li,purple_blue_green:si,purple_blue:ui,purple_red:di,red_purple:ci,yellow_green_blue:fi,yellow_green:hi,yellow_orange_brown:gi,yellow_orange_red:mi},_s=Object.keys(Br),Xs={blues:ol,greens:al,greys:ll,oranges:sl,purples:ul,reds:dl,turbo:cl,viridis:fl,inferno:hl,magma:gl,plasma:ml,cividis:vl,warm:pl,cool:bl,cubehelixDefault:yl,blue_green:xl,blue_purple:kl,green_blue:Rl,orange_red:Cl,purple_blue_green:wl,purple_blue:jl,purple_red:Ml,red_purple:Ol,yellow_green_blue:Sl,yellow_green:Tl,yellow_orange_brown:Ll,yellow_orange_red:Wl},ln=sn({},Ar,Er,Br),Hs=Object.keys(ln),Ns=function(e){return Ys.includes(e)},Us=function(e){return Gs.includes(e)},Ks=function(e){return _s.includes(e)},Js={rainbow:ql,sinebow:$l};sn({},Ds,Xs,Js);var Qs=function(e,t){if(typeof e=="function")return e;if(Vn(e)){if(function(u){return u.theme!==void 0}(e)){if(t===void 0)throw new Error("Unable to use color from theme as no theme was provided");var n=at(t,e.theme);if(n===void 0)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return n}}if(function(u){return u.from!==void 0}(e)){var i=function(u){return at(u,e.from)};if(Array.isArray(e.modifiers)){for(var o,a=[],l=function(){var u=o.value,d=u[0],f=u[1];if(d==="brighter")a.push(function(c){return c.brighter(f)});else if(d==="darker")a.push(function(c){return c.darker(f)});else{if(d!=="opacity")throw new Error("Invalid color modifier: '"+d+"', must be one of: 'brighter', 'darker', 'opacity'");a.push(function(c){return c.opacity=f,c})}},s=Vs(e.modifiers);!(o=s()).done;)l();return a.length===0?i:function(u){return a.reduce(function(d,f){return f(d)},El(i(u))).toString()}}return i}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},xt=function(e,t){return h.useMemo(function(){return Qs(e,t)},[e,t])},Zs=r.oneOfType([r.func,r.arrayOf(r.string),r.shape({scheme:r.oneOf(Hs).isRequired,size:r.number}),r.shape({datum:r.string.isRequired}),r.string]),eu=r.oneOfType([r.string,r.func,r.shape({theme:r.string.isRequired}),r.shape({from:r.string.isRequired,modifiers:r.arrayOf(r.array)})]),tu=function(e,t){if(typeof e=="function")return e;var n=typeof t=="function"?t:function(c){return at(c,t)};if(Array.isArray(e)){var i=Zt(e),o=function(c){return i(n(c))};return o.scale=i,o}if(Vn(e)){if(function(c){return c.datum!==void 0}(e))return function(c){return at(c,e.datum)};if(function(c){return c.scheme!==void 0}(e)){if(Ns(e.scheme)){var a=Zt(ln[e.scheme]),l=function(c){return a(n(c))};return l.scale=a,l}if(Us(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var s=Zt(ln[e.scheme][e.size||11]),u=function(c){return s(n(c))};return u.scale=s,u}if(Ks(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var d=Zt(ln[e.scheme][e.size||9]),f=function(c){return d(n(c))};return f.scale=d,f}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},xi=function(e,t){return h.useMemo(function(){return tu(e,t)},[e,t])};function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pt.apply(this,arguments)}var Dt=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],nu={millisecond:[],second:Dt.slice(0,1),minute:Dt.slice(0,2),hour:Dt.slice(0,3),day:Dt.slice(0,4),month:Dt.slice(0,5),year:Dt.slice(0,6)},iu=function(e){return function(t){return nu[e].forEach(function(n){n(t)}),t}},Pr=function(e){var t=e.format,n=t===void 0?"native":t,i=e.precision,o=i===void 0?"millisecond":i,a=e.useUTC,l=a===void 0||a,s=iu(o);return function(u){if(u===void 0)return u;if(n==="native"||u instanceof Date)return s(u);var d=l?Va(n):Ya(n);return s(d(u))}},ru=function(e,t,n,i){var o,a,l,s,u=e.min,d=u===void 0?0:u,f=e.max,c=f===void 0?"auto":f,g=e.stacked,v=g!==void 0&&g,y=e.reverse,p=y!==void 0&&y,b=e.clamp,R=b!==void 0&&b,x=e.nice,k=x!==void 0&&x;d==="auto"?o=v===!0?(a=t.minStacked)!=null?a:0:t.min:o=d,c==="auto"?l=v===!0?(s=t.maxStacked)!=null?s:0:t.max:l=c;var j=Ga().rangeRound(i==="x"?[0,n]:[n,0]).domain(p?[l,o]:[o,l]).clamp(R);return k===!0?j.nice():typeof k=="number"&&j.nice(k),ou(j,v)},ou=function(e,t){t===void 0&&(t=!1);var n=e;return n.type="linear",n.stacked=t,n},au=function(e,t,n){var i=Da().range([0,n]).domain(t.all);return i.type="point",i},lu=function(e,t,n,i){var o=e.round,a=o===void 0||o,l=_a().range(i==="x"?[0,n]:[n,0]).domain(t.all).round(a);return su(l)},su=function(e){var t=e;return t.type="band",t},uu=function(e,t,n){var i,o,a=e.format,l=a===void 0?"native":a,s=e.precision,u=s===void 0?"millisecond":s,d=e.min,f=d===void 0?"auto":d,c=e.max,g=c===void 0?"auto":c,v=e.useUTC,y=v===void 0||v,p=e.nice,b=p!==void 0&&p,R=Pr({format:l,precision:u,useUTC:y});i=f==="auto"?R(t.min):l!=="native"?R(f):f,o=g==="auto"?R(t.max):l!=="native"?R(g):g;var x=y?Xa():Ha();x.range([0,n]),i&&o&&x.domain([i,o]),b===!0?x.nice():typeof b!="object"&&typeof b!="number"||x.nice(b);var k=x;return k.type="time",k.useUTC=y,k},du=function(e,t,n,i){var o,a=e.base,l=a===void 0?10:a,s=e.min,u=s===void 0?"auto":s,d=e.max,f=d===void 0?"auto":d;if(t.all.some(function(p){return p===0}))throw new Error("a log scale domain must not include or cross zero");var c,g,v=!1;if(t.all.filter(function(p){return p!=null}).forEach(function(p){v||(o===void 0?o=Math.sign(p):Math.sign(p)!==o&&(v=!0))}),v)throw new Error("a log scale domain must be strictly-positive or strictly-negative");c=u==="auto"?t.min:u,g=f==="auto"?t.max:f;var y=Na().domain([c,g]).rangeRound(i==="x"?[0,n]:[n,0]).base(l).nice();return y.type="log",y},cu=function(e,t,n,i){var o,a,l=e.constant,s=l===void 0?1:l,u=e.min,d=u===void 0?"auto":u,f=e.max,c=f===void 0?"auto":f,g=e.reverse,v=g!==void 0&&g;o=d==="auto"?t.min:d,a=c==="auto"?t.max:c;var y=Ua().constant(s).rangeRound(i==="x"?[0,n]:[n,0]).nice();v===!0?y.domain([a,o]):y.domain([o,a]);var p=y;return p.type="symlog",p},fu=function(e){return e==="x"?"y":"x"},hu=function(e,t){return e===t},gu=function(e,t){return e.getTime()===t.getTime()};function en(e,t,n,i){switch(e.type){case"linear":return ru(e,t,n,i);case"point":return au(e,t,n);case"band":return lu(e,t,n,i);case"time":return uu(e,t,n);case"log":return du(e,t,n,i);case"symlog":return cu(e,t,n,i);default:throw new Error("invalid scale spec")}}var Ii=function(e,t,n){var i;if("stacked"in n&&n.stacked){var o=e.data[t==="x"?"xStacked":"yStacked"];return o==null?null:n(o)}return(i=n(e.data[t]))!=null?i:null},mu=function(e,t,n,i,o){var a=e.map(function(f){return function(c){return Pt({},c,{data:c.data.map(function(g){return{data:Pt({},g)}})})}(f)}),l=vu(a,t,n);"stacked"in t&&t.stacked===!0&&pu(l,a),"stacked"in n&&n.stacked===!0&&bu(l,a);var s=en(t,l.x,i,"x"),u=en(n,l.y,o,"y"),d=a.map(function(f){return Pt({},f,{data:f.data.map(function(c){return Pt({},c,{position:{x:Ii(c,"x",s),y:Ii(c,"y",u)}})})})});return Pt({},l,{series:d,xScale:s,yScale:u})},vu=function(e,t,n){return{x:zi(e,"x",t),y:zi(e,"y",n)}},zi=function(e,t,n,i){var o={},a=o.getValue,l=a===void 0?function(y){return y.data[t]}:a,s=o.setValue,u=s===void 0?function(y,p){y.data[t]=p}:s;if(n.type==="linear")e.forEach(function(y){y.data.forEach(function(p){var b=l(p);b&&u(p,parseFloat(String(b)))})});else if(n.type==="time"&&n.format!=="native"){var d=Pr(n);e.forEach(function(y){y.data.forEach(function(p){var b=l(p);b&&u(p,d(b))})})}var f=[];switch(e.forEach(function(y){y.data.forEach(function(p){f.push(l(p))})}),n.type){case"linear":var c=zo(Si(f).filter(function(y){return y!==null}),function(y){return y});return{all:c,min:Math.min.apply(Math,c),max:Math.max.apply(Math,c)};case"time":var g=Rn(f,function(y){return y.getTime()}).slice(0).sort(function(y,p){return p.getTime()-y.getTime()}).reverse();return{all:g,min:g[0],max:K(g)};default:var v=Si(f);return{all:v,min:v[0],max:K(v)}}},Ir=function(e,t,n){var i=fu(e),o=[];t[i].all.forEach(function(a){var l=Fo(a)?gu:hu,s=[];n.forEach(function(u){var d=u.data.find(function(v){return l(v.data[i],a)}),f=null,c=null;if(d!==void 0){if((f=d.data[e])!==null){var g=K(s);g===void 0?c=f:g!==null&&(c=g+f)}d.data[e==="x"?"xStacked":"yStacked"]=c}s.push(c),c!==null&&o.push(c)})}),t[e].minStacked=Math.min.apply(Math,o),t[e].maxStacked=Math.max.apply(Math,o)},pu=function(e,t){return Ir("x",e,t)},bu=function(e,t){return Ir("y",e,t)},zr=function(e){var t=e.bandwidth();if(t===0)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(i){var o;return((o=e(i))!=null?o:0)+n}},Fr={millisecond:[Li,Li],second:[Wi,Wi],minute:[ka,Ra],hour:[Ca,wa],day:[qi(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),qi(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[$i,Ai],sunday:[$i,Ai],monday:[ja,Ma],tuesday:[Oa,Sa],wednesday:[Ta,La],thursday:[Wa,qa],friday:[$a,Aa],saturday:[Ea,Ba],month:[Pa,Ia],year:[za,Fa]},yu=Object.keys(Fr),xu=new RegExp("^every\\s*(\\d+)?\\s*("+yu.join("|")+")s?$","i"),Vr=function(e,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in e){var n=t.match(xu);if(n){var i=n[1],o=n[2],a=Fr[o][e.useUTC?1:0];if(o==="day"){var l,s,u=e.domain(),d=u[0],f=u[1],c=new Date(f);return c.setDate(c.getDate()+1),(l=(s=a.every(Number(i??1)))==null?void 0:s.range(d,c))!=null?l:[]}if(i===void 0)return e.ticks(a);var g=a.every(Number(i));if(g)return e.ticks(g)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(t===void 0)return e.ticks();if(typeof(v=t)=="number"&&isFinite(v)&&Math.floor(v)===v)return e.ticks(t)}var v;return e.domain()};function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bt.apply(this,arguments)}var Yr=function(e){var t,n=e.axis,i=e.scale,o=e.ticksPosition,a=e.tickValues,l=e.tickSize,s=e.tickPadding,u=e.tickRotation,d=e.truncateTickAt,f=e.engine,c=f===void 0?"svg":f,g=Vr(i,a),v=Ls[c],y="bandwidth"in i?zr(i):i,p={lineX:0,lineY:0},b={textX:0,textY:0},R=typeof document=="object"&&document.dir==="rtl",x=v.align.center,k=v.baseline.center;return n==="x"?(t=function(j){var w;return{x:(w=y(j))!=null?w:0,y:0}},p.lineY=l*(o==="after"?1:-1),b.textY=(l+s)*(o==="after"?1:-1),k=o==="after"?v.baseline.top:v.baseline.bottom,u===0?x=v.align.center:o==="after"&&u<0||o==="before"&&u>0?(x=v.align[R?"left":"right"],k=v.baseline.center):(o==="after"&&u>0||o==="before"&&u<0)&&(x=v.align[R?"right":"left"],k=v.baseline.center)):(t=function(j){var w;return{x:0,y:(w=y(j))!=null?w:0}},p.lineX=l*(o==="after"?1:-1),b.textX=(l+s)*(o==="after"?1:-1),x=o==="after"?v.align.left:v.align.right),{ticks:g.map(function(j){var w=typeof j=="string"?function(M){var A=String(M).length;return d&&d>0&&A>d?""+String(M).slice(0,d).concat("..."):""+M}(j):j;return bt({key:j instanceof Date?""+j.valueOf():""+j,value:w},t(j),p,b)}),textAlign:x,textBaseline:k}},Gr=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var n=er(e);return function(i){return n(i instanceof Date?i:new Date(i))}}return Yn(e)},An=function(e){var t,n=e.width,i=e.height,o=e.scale,a=e.axis,l=e.values,s=(t=l,(Array.isArray(t)?l:void 0)||Vr(o,l)),u="bandwidth"in o?zr(o):o,d=a==="x"?s.map(function(f){var c,g;return{key:f instanceof Date?""+f.valueOf():""+f,x1:(c=u(f))!=null?c:0,x2:(g=u(f))!=null?g:0,y1:0,y2:i}}):s.map(function(f){var c,g;return{key:f instanceof Date?""+f.valueOf():""+f,x1:0,x2:n,y1:(c=u(f))!=null?c:0,y2:(g=u(f))!=null?g:0}});return d},ku=h.memo(function(e){var t,n=e.value,i=e.format,o=e.lineX,a=e.lineY,l=e.onClick,s=e.textBaseline,u=e.textAnchor,d=e.animatedProps,f=ke(),c=f.axis.ticks.line,g=f.axis.ticks.text,v=(t=i==null?void 0:i(n))!=null?t:n,y=h.useMemo(function(){var p={opacity:d.opacity};return l?{style:bt({},p,{cursor:"pointer"}),onClick:function(b){return l(b,v)}}:{style:p}},[d.opacity,l,v]);return m.jsxs(Ae.g,bt({transform:d.transform},y,{children:[m.jsx("line",{x1:0,x2:o,y1:0,y2:a,style:c}),g.outlineWidth>0&&m.jsx(Ae.text,{dominantBaseline:s,textAnchor:u,transform:d.textTransform,style:g,strokeWidth:2*g.outlineWidth,stroke:g.outlineColor,strokeLinejoin:"round",children:""+v}),m.jsx(Ae.text,{dominantBaseline:s,textAnchor:u,transform:d.textTransform,style:g,children:""+v})]}))}),Ru=function(e){var t=e.axis,n=e.scale,i=e.x,o=i===void 0?0:i,a=e.y,l=a===void 0?0:a,s=e.length,u=e.ticksPosition,d=e.tickValues,f=e.tickSize,c=f===void 0?5:f,g=e.tickPadding,v=g===void 0?5:g,y=e.tickRotation,p=y===void 0?0:y,b=e.format,R=e.renderTick,x=R===void 0?ku:R,k=e.truncateTickAt,j=e.legend,w=e.legendPosition,M=w===void 0?"end":w,A=e.legendOffset,O=A===void 0?0:A,T=e.onClick,C=e.ariaHidden,$=ke(),z=$.axis.legend.text,W=h.useMemo(function(){return Gr(b,n)},[b,n]),I=Yr({axis:t,scale:n,ticksPosition:u,tickValues:d,tickSize:c,tickPadding:v,tickRotation:p,truncateTickAt:k}),P=I.ticks,E=I.textAlign,L=I.textBaseline,q=null;if(j!==void 0){var S,B=0,H=0,U=0;t==="y"?(U=-90,B=O,M==="start"?(S="start",H=s):M==="middle"?(S="middle",H=s/2):M==="end"&&(S="end")):(H=O,M==="start"?S="start":M==="middle"?(S="middle",B=s/2):M==="end"&&(S="end",B=s)),q=m.jsxs(m.Fragment,{children:[z.outlineWidth>0&&m.jsx("text",{transform:"translate("+B+", "+H+") rotate("+U+")",textAnchor:S,style:bt({dominantBaseline:"central"},z),strokeWidth:2*z.outlineWidth,stroke:z.outlineColor,strokeLinejoin:"round",children:j}),m.jsx("text",{transform:"translate("+B+", "+H+") rotate("+U+")",textAnchor:S,style:bt({dominantBaseline:"central"},z),children:j})]})}var se=ct(),_=se.animate,ae=se.config,F=Rt({transform:"translate("+o+","+l+")",lineX2:t==="x"?s:0,lineY2:t==="x"?0:s,config:ae,immediate:!_}),N=h.useCallback(function(ie){return{opacity:1,transform:"translate("+ie.x+","+ie.y+")",textTransform:"translate("+ie.textX+","+ie.textY+") rotate("+p+")"}},[p]),G=h.useCallback(function(ie){return{opacity:0,transform:"translate("+ie.x+","+ie.y+")",textTransform:"translate("+ie.textX+","+ie.textY+") rotate("+p+")"}},[p]),oe=Yt(P,{keys:function(ie){return ie.key},initial:N,from:G,enter:N,update:N,leave:{opacity:0},config:ae,immediate:!_});return m.jsxs(Ae.g,{transform:F.transform,"aria-hidden":C,children:[oe(function(ie,he,Re,ve){return h.createElement(x,bt({tickIndex:ve,format:W,rotate:p,textBaseline:L,textAnchor:E,truncateTickAt:k,animatedProps:ie},he,T?{onClick:T}:{}))}),m.jsx(Ae.line,{style:$.axis.domain.line,x1:0,x2:F.lineX2,y1:0,y2:F.lineY2}),q]})},Cu=h.memo(Ru),wu={ticksPosition:r.oneOf(["before","after"]),tickValues:r.oneOfType([r.number,r.arrayOf(r.oneOfType([r.number,r.string,r.instanceOf(Date)])),r.string]),rotateOnTickLength:r.shape({angle:r.number,length:r.number}),tickSize:r.number,tickPadding:r.number,tickRotation:r.number,format:r.oneOfType([r.func,r.string]),renderTick:r.func,legend:r.node,legendPosition:r.oneOf(["start","middle","end"]),legendOffset:r.number,ariaHidden:r.bool},an=r.shape(wu),Dr=["top","right","bottom","left"],_r=h.memo(function(e){var t=e.xScale,n=e.yScale,i=e.width,o=e.height,a={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return m.jsx(m.Fragment,{children:Dr.map(function(l){var s=a[l];if(!s)return null;var u=l==="top"||l==="bottom";return m.jsx(Cu,bt({},s,{axis:u?"x":"y",x:l==="right"?i:0,y:l==="bottom"?o:0,scale:u?t:n,length:u?i:o,ticksPosition:l==="top"||l==="left"?"before":"after",truncateTickAt:s.truncateTickAt}),l)})})}),ju=h.memo(function(e){var t=e.animatedProps,n=ke();return m.jsx(Ae.line,bt({},t,n.grid.line))}),Fi=h.memo(function(e){var t=e.lines,n=ct(),i=n.animate,o=n.config,a=Yt(t,{keys:function(l){return l.key},initial:function(l){return{opacity:1,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2}},from:function(l){return{opacity:0,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2}},enter:function(l){return{opacity:1,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2}},update:function(l){return{opacity:1,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2}},leave:{opacity:0},config:o,immediate:!i});return m.jsx("g",{children:a(function(l,s){return h.createElement(ju,bt({},s,{key:s.key,animatedProps:l}))})})}),Xr=h.memo(function(e){var t=e.width,n=e.height,i=e.xScale,o=e.yScale,a=e.xValues,l=e.yValues,s=h.useMemo(function(){return!!i&&An({width:t,height:n,scale:i,axis:"x",values:a})},[i,a,t,n]),u=h.useMemo(function(){return!!o&&An({width:t,height:n,scale:o,axis:"y",values:l})},[n,t,o,l]);return m.jsxs(m.Fragment,{children:[s&&m.jsx(Fi,{lines:s}),u&&m.jsx(Fi,{lines:u})]})}),Mu=function(e,t){var n,i=t.axis,o=t.scale,a=t.x,l=a===void 0?0:a,s=t.y,u=s===void 0?0:s,d=t.length,f=t.ticksPosition,c=t.tickValues,g=t.tickSize,v=g===void 0?5:g,y=t.tickPadding,p=y===void 0?5:y,b=t.tickRotation,R=b===void 0?0:b,x=t.format,k=t.legend,j=t.legendPosition,w=j===void 0?"end":j,M=t.legendOffset,A=M===void 0?0:M,O=t.theme,T=Yr({axis:i,scale:o,ticksPosition:f,tickValues:c,tickSize:v,tickPadding:p,tickRotation:R,engine:"canvas"}),C=T.ticks,$=T.textAlign,z=T.textBaseline;e.save(),e.translate(l,u),e.textAlign=$,e.textBaseline=z;var W=O.axis.ticks.text;e.font=(W.fontWeight?W.fontWeight+" ":"")+W.fontSize+"px "+W.fontFamily,((n=O.axis.domain.line.strokeWidth)!=null?n:0)>0&&(e.lineWidth=Number(O.axis.domain.line.strokeWidth),e.lineCap="square",O.axis.domain.line.stroke&&(e.strokeStyle=O.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(i==="x"?d:0,i==="x"?0:d),e.stroke());var I=typeof x=="function"?x:function(S){return""+S};if(C.forEach(function(S){var B;((B=O.axis.ticks.line.strokeWidth)!=null?B:0)>0&&(e.lineWidth=Number(O.axis.ticks.line.strokeWidth),e.lineCap="square",O.axis.ticks.line.stroke&&(e.strokeStyle=O.axis.ticks.line.stroke),e.beginPath(),e.moveTo(S.x,S.y),e.lineTo(S.x+S.lineX,S.y+S.lineY),e.stroke());var H=I(S.value);e.save(),e.translate(S.x+S.textX,S.y+S.textY),e.rotate(pt(R)),W.outlineWidth>0&&(e.strokeStyle=W.outlineColor,e.lineWidth=2*W.outlineWidth,e.lineJoin="round",e.strokeText(""+H,0,0)),O.axis.ticks.text.fill&&(e.fillStyle=W.fill),e.fillText(""+H,0,0),e.restore()}),k!==void 0){var P=0,E=0,L=0,q="center";i==="y"?(L=-90,P=A,w==="start"?(q="start",E=d):w==="middle"?(q="center",E=d/2):w==="end"&&(q="end")):(E=A,w==="start"?q="start":w==="middle"?(q="center",P=d/2):w==="end"&&(q="end",P=d)),e.translate(P,E),e.rotate(pt(L)),e.font=(O.axis.legend.text.fontWeight?O.axis.legend.text.fontWeight+" ":"")+O.axis.legend.text.fontSize+"px "+O.axis.legend.text.fontFamily,O.axis.legend.text.fill&&(e.fillStyle=O.axis.legend.text.fill),e.textAlign=q,e.textBaseline="middle",e.fillText(k,0,0)}e.restore()},Hr=function(e,t){var n=t.xScale,i=t.yScale,o=t.width,a=t.height,l=t.top,s=t.right,u=t.bottom,d=t.left,f=t.theme,c={top:l,right:s,bottom:u,left:d};Dr.forEach(function(g){var v=c[g];if(!v)return null;var y=g==="top"||g==="bottom",p=g==="top"||g==="left"?"before":"after",b=y?n:i,R=Gr(v.format,b);Mu(e,bt({},v,{axis:y?"x":"y",x:g==="right"?o:0,y:g==="bottom"?a:0,scale:b,format:R,length:y?o:a,ticksPosition:p,theme:f}))})},un=function(e,t){var n=t.width,i=t.height,o=t.scale,a=t.axis,l=t.values;An({width:n,height:i,scale:o,axis:a,values:l}).forEach(function(s){e.beginPath(),e.moveTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.stroke()})},Ou=function(e){var t=e.x,n=e.y,i=e.size,o=e.fill,a=e.opacity,l=a===void 0?1:a,s=e.borderWidth,u=s===void 0?0:s,d=e.borderColor;return m.jsx("circle",{r:i/2,cx:t+i/2,cy:n+i/2,fill:o,opacity:l,strokeWidth:u,stroke:d===void 0?"transparent":d,style:{pointerEvents:"none"}})},Su=function(e){var t=e.x,n=e.y,i=e.size,o=e.fill,a=e.opacity,l=a===void 0?1:a,s=e.borderWidth,u=s===void 0?0:s,d=e.borderColor;return m.jsx("g",{transform:"translate("+t+","+n+")",children:m.jsx("path",{d:`
                    M`+i/2+` 0
                    L`+.8*i+" "+i/2+`
                    L`+i/2+" "+i+`
                    L`+.2*i+" "+i/2+`
                    L`+i/2+` 0
                `,fill:o,opacity:l,strokeWidth:u,stroke:d===void 0?"transparent":d,style:{pointerEvents:"none"}})})},Tu=function(e){var t=e.x,n=e.y,i=e.size,o=e.fill,a=e.opacity,l=a===void 0?1:a,s=e.borderWidth,u=s===void 0?0:s,d=e.borderColor;return m.jsx("rect",{x:t,y:n,fill:o,opacity:l,strokeWidth:u,stroke:d===void 0?"transparent":d,width:i,height:i,style:{pointerEvents:"none"}})},Lu=function(e){var t=e.x,n=e.y,i=e.size,o=e.fill,a=e.opacity,l=a===void 0?1:a,s=e.borderWidth,u=s===void 0?0:s,d=e.borderColor;return m.jsx("g",{transform:"translate("+t+","+n+")",children:m.jsx("path",{d:`
                M`+i/2+` 0
                L`+i+" "+i+`
                L0 `+i+`
                L`+i/2+` 0
            `,fill:o,opacity:l,strokeWidth:u,stroke:d===void 0?"transparent":d,style:{pointerEvents:"none"}})})};function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},It.apply(this,arguments)}var Wu={top:0,right:0,bottom:0,left:0},ki=function(e){var t,n=e.direction,i=e.itemsSpacing,o=e.padding,a=e.itemCount,l=e.itemWidth,s=e.itemHeight;if(typeof o!="number"&&(typeof(t=o)!="object"||Array.isArray(t)||t===null))throw new Error("Invalid property padding, must be one of: number, object");var u=typeof o=="number"?{top:o,right:o,bottom:o,left:o}:It({},Wu,o),d=u.left+u.right,f=u.top+u.bottom,c=l+d,g=s+f,v=(a-1)*i;return n==="row"?c=l*a+v+d:n==="column"&&(g=s*a+v+f),{width:c,height:g,padding:u}},Nr=function(e){var t=e.anchor,n=e.translateX,i=e.translateY,o=e.containerWidth,a=e.containerHeight,l=e.width,s=e.height,u=n,d=i;switch(t){case"top":u+=(o-l)/2;break;case"top-right":u+=o-l;break;case"right":u+=o-l,d+=(a-s)/2;break;case"bottom-right":u+=o-l,d+=a-s;break;case"bottom":u+=(o-l)/2,d+=a-s;break;case"bottom-left":d+=a-s;break;case"left":d+=(a-s)/2;break;case"center":u+=(o-l)/2,d+=(a-s)/2}return{x:u,y:d}},Ur=function(e){var t,n,i,o,a,l,s=e.direction,u=e.justify,d=e.symbolSize,f=e.symbolSpacing,c=e.width,g=e.height;switch(s){case"left-to-right":t=0,n=(g-d)/2,o=g/2,l="central",u?(i=c,a="end"):(i=d+f,a="start");break;case"right-to-left":t=c-d,n=(g-d)/2,o=g/2,l="central",u?(i=0,a="start"):(i=c-d-f,a="end");break;case"top-to-bottom":t=(c-d)/2,n=0,i=c/2,a="middle",u?(o=g,l="alphabetic"):(o=d+f,l="text-before-edge");break;case"bottom-to-top":t=(c-d)/2,n=g-d,i=c/2,a="middle",u?(o=0,l="text-before-edge"):(o=g-d-f,l="alphabetic")}return{symbolX:t,symbolY:n,labelX:i,labelY:o,labelAnchor:a,labelAlignment:l}},qu={circle:Ou,diamond:Su,square:Tu,triangle:Lu},$u=function(e){var t,n,i,o,a,l,s,u,d,f,c,g=e.x,v=e.y,y=e.width,p=e.height,b=e.data,R=e.direction,x=R===void 0?"left-to-right":R,k=e.justify,j=k!==void 0&&k,w=e.textColor,M=e.background,A=M===void 0?"transparent":M,O=e.opacity,T=O===void 0?1:O,C=e.symbolShape,$=C===void 0?"square":C,z=e.symbolSize,W=z===void 0?16:z,I=e.symbolSpacing,P=I===void 0?8:I,E=e.symbolBorderWidth,L=E===void 0?0:E,q=e.symbolBorderColor,S=q===void 0?"transparent":q,B=e.onClick,H=e.onMouseEnter,U=e.onMouseLeave,se=e.toggleSerie,_=e.effects,ae=h.useState({}),F=ae[0],N=ae[1],G=ke(),oe=h.useCallback(function(ge){if(_){var Ce=_.filter(function(We){return We.on==="hover"}).reduce(function(We,Ve){return It({},We,Ve.style)},{});N(Ce)}H==null||H(b,ge)},[H,b,_]),ie=h.useCallback(function(ge){if(_){var Ce=_.filter(function(We){return We.on!=="hover"}).reduce(function(We,Ve){return It({},We,Ve.style)},{});N(Ce)}U==null||U(b,ge)},[U,b,_]),he=Ur({direction:x,justify:j,symbolSize:(t=F.symbolSize)!=null?t:W,symbolSpacing:P,width:y,height:p}),Re=he.symbolX,ve=he.symbolY,le=he.labelX,Le=he.labelY,ce=he.labelAnchor,fe=he.labelAlignment,J=[B,H,U,se].some(function(ge){return ge!==void 0}),me=typeof $=="function"?$:qu[$];return m.jsxs("g",{transform:"translate("+g+","+v+")",style:{opacity:(n=F.itemOpacity)!=null?n:T},children:[m.jsx("rect",{width:y,height:p,fill:(i=F.itemBackground)!=null?i:A,style:{cursor:J?"pointer":"auto"},onClick:function(ge){B==null||B(b,ge),se==null||se(b.id)},onMouseEnter:oe,onMouseLeave:ie}),h.createElement(me,It({id:b.id,x:Re,y:ve,size:(o=F.symbolSize)!=null?o:W,fill:(a=(l=b.fill)!=null?l:b.color)!=null?a:"black",borderWidth:(s=F.symbolBorderWidth)!=null?s:L,borderColor:(u=F.symbolBorderColor)!=null?u:S},b.hidden?G.legends.hidden.symbol:void 0)),m.jsx("text",{textAnchor:ce,style:It({},G.legends.text,{fill:(d=(f=(c=F.itemTextColor)!=null?c:w)!=null?f:G.legends.text.fill)!=null?d:"black",dominantBaseline:fe,pointerEvents:"none",userSelect:"none"},b.hidden?G.legends.hidden.text:void 0),x:le,y:Le,children:b.label})]})},Au=function(e){var t=e.data,n=e.x,i=e.y,o=e.direction,a=e.padding,l=a===void 0?0:a,s=e.justify,u=e.effects,d=e.itemWidth,f=e.itemHeight,c=e.itemDirection,g=c===void 0?"left-to-right":c,v=e.itemsSpacing,y=v===void 0?0:v,p=e.itemTextColor,b=e.itemBackground,R=b===void 0?"transparent":b,x=e.itemOpacity,k=x===void 0?1:x,j=e.symbolShape,w=e.symbolSize,M=e.symbolSpacing,A=e.symbolBorderWidth,O=e.symbolBorderColor,T=e.onClick,C=e.onMouseEnter,$=e.onMouseLeave,z=e.toggleSerie,W=ki({itemCount:t.length,itemWidth:d,itemHeight:f,itemsSpacing:y,direction:o,padding:l}).padding,I=o==="row"?d+y:0,P=o==="column"?f+y:0;return m.jsx("g",{transform:"translate("+n+","+i+")",children:t.map(function(E,L){return m.jsx($u,{data:E,x:L*I+W.left,y:L*P+W.top,width:d,height:f,direction:g,justify:s,effects:u,textColor:p,background:R,opacity:k,symbolShape:j,symbolSize:w,symbolSpacing:M,symbolBorderWidth:A,symbolBorderColor:O,onClick:T,onMouseEnter:C,onMouseLeave:$,toggleSerie:z},L)})})},vn=function(e){var t=e.data,n=e.containerWidth,i=e.containerHeight,o=e.translateX,a=o===void 0?0:o,l=e.translateY,s=l===void 0?0:l,u=e.anchor,d=e.direction,f=e.padding,c=f===void 0?0:f,g=e.justify,v=e.itemsSpacing,y=v===void 0?0:v,p=e.itemWidth,b=e.itemHeight,R=e.itemDirection,x=e.itemTextColor,k=e.itemBackground,j=e.itemOpacity,w=e.symbolShape,M=e.symbolSize,A=e.symbolSpacing,O=e.symbolBorderWidth,T=e.symbolBorderColor,C=e.onClick,$=e.onMouseEnter,z=e.onMouseLeave,W=e.toggleSerie,I=e.effects,P=ki({itemCount:t.length,itemsSpacing:y,itemWidth:p,itemHeight:b,direction:d,padding:c}),E=P.width,L=P.height,q=Nr({anchor:u,translateX:a,translateY:s,containerWidth:n,containerHeight:i,width:E,height:L}),S=q.x,B=q.y;return m.jsx(Au,{data:t,x:S,y:B,direction:d,padding:c,justify:g,effects:I,itemsSpacing:y,itemWidth:p,itemHeight:b,itemDirection:R,itemTextColor:x,itemBackground:k,itemOpacity:j,symbolShape:w,symbolSize:M,symbolSpacing:A,symbolBorderWidth:O,symbolBorderColor:T,onClick:C,onMouseEnter:$,onMouseLeave:z,toggleSerie:typeof W=="boolean"?void 0:W})},Eu={start:"left",middle:"center",end:"right"},Ri=function(e,t){var n=t.data,i=t.containerWidth,o=t.containerHeight,a=t.translateX,l=a===void 0?0:a,s=t.translateY,u=s===void 0?0:s,d=t.anchor,f=t.direction,c=t.padding,g=c===void 0?0:c,v=t.justify,y=v!==void 0&&v,p=t.itemsSpacing,b=p===void 0?0:p,R=t.itemWidth,x=t.itemHeight,k=t.itemDirection,j=k===void 0?"left-to-right":k,w=t.itemTextColor,M=t.symbolSize,A=M===void 0?16:M,O=t.symbolSpacing,T=O===void 0?8:O,C=t.theme,$=ki({itemCount:n.length,itemWidth:R,itemHeight:x,itemsSpacing:b,direction:f,padding:g}),z=$.width,W=$.height,I=$.padding,P=Nr({anchor:d,translateX:l,translateY:u,containerWidth:i,containerHeight:o,width:z,height:W}),E=P.x,L=P.y,q=f==="row"?R+b:0,S=f==="column"?x+b:0;e.save(),e.translate(E,L),e.font=C.legends.text.fontSize+"px "+(C.legends.text.fontFamily||"sans-serif"),n.forEach(function(B,H){var U,se,_=H*q+I.left,ae=H*S+I.top,F=Ur({direction:j,justify:y,symbolSize:A,symbolSpacing:T,width:R,height:x}),N=F.symbolX,G=F.symbolY,oe=F.labelX,ie=F.labelY,he=F.labelAnchor,Re=F.labelAlignment;e.fillStyle=(U=B.color)!=null?U:"black",e.fillRect(_+N,ae+G,A,A),e.textAlign=Eu[he],Re==="central"&&(e.textBaseline="middle"),e.fillStyle=(se=w??C.legends.text.fill)!=null?se:"black",e.fillText(String(B.label),_+oe,ae+ie)}),e.restore()},Bu=function(e){var t=e.scale,n=e.domain,i=e.reverse,o=i!==void 0&&i,a=e.valueFormat,l=a===void 0?function(d){return d}:a,s=e.separator,u=s===void 0?" - ":s;return h.useMemo(function(){var d=(n??t.range()).map(function(f,c){var g=t.invertExtent(f),v=g[0],y=g[1];return{id:f,index:c,extent:[v,y],label:""+l(v)+u+l(y),value:t(v),color:f}});return o&&d.reverse(),d},[n,t,o,u,l])},Pu={data:r.arrayOf(r.object),anchor:r.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:r.number,translateY:r.number,direction:r.oneOf(["row","column"]).isRequired,itemsSpacing:r.number,itemWidth:r.number.isRequired,itemHeight:r.number.isRequired,itemDirection:r.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:r.string,itemBackground:r.string,itemOpacity:r.number,symbolShape:r.oneOfType([r.oneOf(["circle","diamond","square","triangle"]),r.func]),symbolSize:r.number,symbolSpacing:r.number,symbolBorderWidth:r.number,symbolBorderColor:r.string,onClick:r.func,onMouseEnter:r.func,onMouseLeave:r.func,effects:r.arrayOf(r.shape({on:r.oneOfType([r.oneOf(["hover"])]).isRequired,style:r.shape({itemTextColor:r.string,itemBackground:r.string,itemOpacity:r.number,symbolSize:r.number,symbolBorderWidth:r.number,symbolBorderColor:r.string}).isRequired}))},Vi=function(e){return typeof e=="function"?e:function(t){return t[e]}},Iu=function(e){var t=e.points,n=e.x,i=n===void 0?"x":n,o=e.y,a=o===void 0?"y":o,l=Vi(i),s=Vi(a);return t.map(function(u){return[l(u),s(u)]})},zu=function(e){var t=e.points,n=e.width,i=e.height,o=e.debug,a=Go.from(t),l=o?a.voronoi([0,0,n,i]):void 0;return{delaunay:a,voronoi:l}},Kr=function(e){var t=e.points,n=e.x,i=e.y,o=e.width,a=e.height,l=e.debug,s=h.useMemo(function(){return Iu({points:t,x:n,y:i})},[t,n,i]);return h.useMemo(function(){return zu({points:s,width:o,height:a,debug:l})},[s,o,a,l])},Fu=function(e){var t=e.nodes,n=e.width,i=e.height,o=e.x,a=e.y,l=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,d=e.onClick,f=e.onTouchStart,c=e.onTouchMove,g=e.onTouchEnd,v=e.enableTouchCrosshair,y=v!==void 0&&v,p=e.debug,b=h.useRef(null),R=h.useState(null),x=R[0],k=R[1],j=Kr({points:t,x:o,y:a,width:n,height:i,debug:p}),w=j.delaunay,M=j.voronoi,A=h.useMemo(function(){if(p&&M)return M.render()},[p,M]),O=h.useCallback(function(L){if(!b.current)return[null,null];var q=Lt(b.current,L),S=q[0],B=q[1],H=w.find(S,B);return[H,H!==void 0?t[H]:null]},[w,t]),T=h.useCallback(function(L){if(!b.current)return[null,null];var q=Lt(b.current,L),S=q[0],B=q[1],H=w.find(S,B);return[H,H!==void 0?t[H]:null]},[w,t]),C=h.useCallback(function(L){var q=O(L),S=q[0],B=q[1];k(S),B&&(l==null||l(B,L))},[O,k,l]),$=h.useCallback(function(L){var q=O(L),S=q[0],B=q[1];k(S),B&&(s==null||s(B,L))},[O,k,s]),z=h.useCallback(function(L){if(k(null),u){var q=void 0;x!==null&&(q=t[x]),q&&u(q,L)}},[k,x,u,t]),W=h.useCallback(function(L){var q=O(L),S=q[0],B=q[1];k(S),B&&(d==null||d(B,L))},[O,k,d]),I=h.useCallback(function(L){var q=T(L),S=q[0],B=q[1];y&&k(S),B&&(f==null||f(B,L))},[T,y,f]),P=h.useCallback(function(L){var q=T(L),S=q[0],B=q[1];y&&k(S),B&&(c==null||c(B,L))},[T,y,c]),E=h.useCallback(function(L){if(y&&k(null),g){var q=void 0;x!==null&&(q=t[x]),q&&g(q,L)}},[y,g,x,t]);return m.jsxs("g",{ref:b,children:[p&&M&&m.jsxs(m.Fragment,{children:[m.jsx("path",{d:A,stroke:"red",strokeWidth:1,opacity:.75}),x!==null&&m.jsx("path",{fill:"pink",opacity:.35,d:M.renderCell(x)})]}),m.jsx("rect",{"data-ref":"mesh-interceptor",width:n,height:i,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:C,onMouseMove:$,onMouseLeave:z,onTouchStart:I,onTouchMove:P,onTouchEnd:E,onClick:W})]})},Vu=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},Yu=function(e,t,n){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(n,e),e.fillStyle="red",e.fill(),e.restore()};function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dt.apply(this,arguments)}var Jr=function(e){var t=e.point;return m.jsx(fn,{id:m.jsxs("span",{children:["x: ",m.jsx("strong",{children:t.data.xFormatted}),", y:"," ",m.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};Jr.propTypes={point:r.object.isRequired};var Ci=h.memo(Jr),Qr=function(e){var t=e.slice,n=e.axis,i=ke(),o=n==="x"?"y":"x";return m.jsx(fr,{rows:t.points.map(function(a){return[m.jsx(cr,{color:a.serieColor,style:i.tooltip.chip},"chip"),a.serieId,m.jsx("span",{style:i.tooltip.tableCellValue,children:a.data[o+"Formatted"]},"value")]})})};Qr.propTypes={slice:r.object.isRequired,axis:r.oneOf(["x","y"]).isRequired};var Zr=h.memo(Qr),eo={data:r.arrayOf(r.shape({id:r.oneOfType([r.string,r.number]).isRequired,data:r.arrayOf(r.shape({x:r.oneOfType([r.number,r.string,r.instanceOf(Date)]),y:r.oneOfType([r.number,r.string,r.instanceOf(Date)])})).isRequired})).isRequired,xScale:r.object.isRequired,xFormat:r.oneOfType([r.func,r.string]),yScale:r.object.isRequired,yFormat:r.oneOfType([r.func,r.string]),layers:r.arrayOf(r.oneOfType([r.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),r.func])).isRequired,curve:ms.isRequired,axisTop:an,axisRight:an,axisBottom:an,axisLeft:an,enableGridX:r.bool.isRequired,enableGridY:r.bool.isRequired,gridXValues:r.oneOfType([r.number,r.arrayOf(r.oneOfType([r.number,r.string,r.instanceOf(Date)]))]),gridYValues:r.oneOfType([r.number,r.arrayOf(r.oneOfType([r.number,r.string,r.instanceOf(Date)]))]),enablePoints:r.bool.isRequired,pointSymbol:r.func,pointSize:r.number.isRequired,pointColor:r.any.isRequired,pointBorderWidth:r.number.isRequired,pointBorderColor:r.any.isRequired,enablePointLabel:r.bool.isRequired,pointLabel:r.oneOfType([r.string,r.func]).isRequired,markers:r.arrayOf(r.shape({axis:r.oneOf(["x","y"]).isRequired,value:r.oneOfType([r.number,r.string,r.instanceOf(Date)]).isRequired,style:r.object})),colors:Zs.isRequired,enableArea:r.bool.isRequired,areaOpacity:r.number.isRequired,areaBlendMode:yi.isRequired,areaBaselineValue:r.oneOfType([r.number,r.string,r.instanceOf(Date)]).isRequired,lineWidth:r.number.isRequired,legends:r.arrayOf(r.shape(Pu)).isRequired,isInteractive:r.bool.isRequired,debugMesh:r.bool.isRequired,tooltip:r.oneOfType([r.func,r.object]).isRequired,enableSlices:r.oneOf(["x","y",!1]).isRequired,debugSlices:r.bool.isRequired,sliceTooltip:r.oneOfType([r.func,r.object]).isRequired,enableCrosshair:r.bool.isRequired,crosshairType:r.string.isRequired},Gu=dt({},eo,{enablePointLabel:r.bool.isRequired,role:r.string.isRequired,useMesh:r.bool.isRequired,enableTouchCrosshair:r.bool},On,vs),Du=dt({pixelRatio:r.number.isRequired},eo),to={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:Ci,enableSlices:!1,debugSlices:!1,sliceTooltip:Zr,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Tt=dt({},to,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"});dt({},to,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var _u=function(e){var t=e.curve;return h.useMemo(function(){return Zi().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y(function(n){return n.y}).curve(br(t))},[t])},Xu=function(e){var t=e.curve,n=e.yScale,i=e.areaBaselineValue;return h.useMemo(function(){return pa().defined(function(o){return o.x!==null&&o.y!==null}).x(function(o){return o.x}).y1(function(o){return o.y}).curve(br(t)).y0(n(i))},[t,n,i])},Hu=function(e){var t=e.componentId,n=e.enableSlices,i=e.points,o=e.width,a=e.height;return h.useMemo(function(){if(n===!1)return[];if(n==="x"){var l=new Map;return i.forEach(function(u){u.data.x!==null&&u.data.y!==null&&(l.has(u.x)?l.get(u.x).push(u):l.set(u.x,[u]))}),Array.from(l.entries()).sort(function(u,d){return u[0]-d[0]}).map(function(u,d,f){var c,g,v=u[0],y=u[1],p=f[d-1],b=f[d+1];return c=p?v-(v-p[0])/2:v,g=b?v-c+(b[0]-v)/2:o-c,{id:"slice:"+t+":"+v,x0:c,x:v,y0:0,y:0,width:g,height:a,points:y.reverse()}})}if(n==="y"){var s=new Map;return i.forEach(function(u){u.data.x!==null&&u.data.y!==null&&(s.has(u.y)?s.get(u.y).push(u):s.set(u.y,[u]))}),Array.from(s.entries()).sort(function(u,d){return u[0]-d[0]}).map(function(u,d,f){var c,g,v=u[0],y=u[1],p=f[d-1],b=f[d+1];return c=p?v-(v-p[0])/2:v,g=b?v-c+(b[0]-v)/2:a-c,{id:v,x0:0,x:0,y0:c,y:v,width:o,height:g,points:y.reverse()}})}},[t,n,a,i,o])},Nu="line",no=function(e){var t=e.data,n=e.xScale,i=n===void 0?Tt.xScale:n,o=e.xFormat,a=e.yScale,l=a===void 0?Tt.yScale:a,s=e.yFormat,u=e.width,d=e.height,f=e.colors,c=f===void 0?Tt.colors:f,g=e.curve,v=g===void 0?Tt.curve:g,y=e.areaBaselineValue,p=y===void 0?Tt.areaBaselineValue:y,b=e.pointColor,R=b===void 0?Tt.pointColor:b,x=e.pointBorderColor,k=x===void 0?Tt.pointBorderColor:x,j=e.enableSlices,w=j===void 0?Tt.enableSlicesTooltip:j,M=h.useState(Vo(Nu))[0],A=_t(o),O=_t(s),T=xi(c,"id"),C=ke(),$=xt(R,C),z=xt(k,C),W=h.useState([]),I=W[0],P=W[1],E=h.useMemo(function(){return mu(t.filter(function(F){return I.indexOf(F.id)===-1}),i,l,u,d)},[t,I,i,l,u,d]),L=E.xScale,q=E.yScale,S=E.series,B=h.useMemo(function(){var F=t.map(function(G){return{id:G.id,label:G.id,color:T(G)}}),N=F.map(function(G){return dt({},S.find(function(oe){return oe.id===G.id}),{color:G.color})}).filter(function(G){return!!G.id});return{legendData:F.map(function(G){return dt({},G,{hidden:!N.find(function(oe){return oe.id===G.id})})}).reverse(),series:N}},[t,S,T]),H=B.legendData,U=B.series,se=h.useCallback(function(F){P(function(N){return N.indexOf(F)>-1?N.filter(function(G){return G!==F}):[].concat(N,[F])})},[]),_=function(F){var N=F.series,G=F.getPointColor,oe=F.getPointBorderColor,ie=F.formatX,he=F.formatY;return h.useMemo(function(){return N.reduce(function(Re,ve){return[].concat(Re,ve.data.filter(function(le){return le.position.x!==null&&le.position.y!==null}).map(function(le,Le){var ce={id:ve.id+"."+Le,index:Re.length+Le,serieId:ve.id,serieColor:ve.color,x:le.position.x,y:le.position.y};return ce.color=G(ve),ce.borderColor=oe(ce),ce.data=dt({},le.data,{xFormatted:ie(le.data.x),yFormatted:he(le.data.y)}),ce}))},[])},[N,G,oe,ie,he])}({series:U,getPointColor:$,getPointBorderColor:z,formatX:A,formatY:O}),ae=Hu({componentId:M,enableSlices:w,points:_,width:u,height:d});return{legendData:H,toggleSerie:se,lineGenerator:_u({curve:v}),areaGenerator:Xu({curve:v,yScale:q,areaBaselineValue:p}),getColor:T,series:U,xScale:L,yScale:q,slices:ae,points:_}},io=function(e){var t=e.areaBlendMode,n=e.areaOpacity,i=e.color,o=e.fill,a=e.path,l=ct(),s=l.animate,u=l.config,d=bi(a),f=Rt({color:i,config:u,immediate:!s});return m.jsx(Ae.path,{d,fill:o||f.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:t}})};io.propTypes={areaBlendMode:yi.isRequired,areaOpacity:r.number.isRequired,color:r.string,fill:r.string,path:r.string.isRequired};var ro=function(e){var t=e.areaGenerator,n=e.areaOpacity,i=e.areaBlendMode,o=e.lines.slice(0).reverse();return m.jsx("g",{children:o.map(function(a){return m.jsx(io,dt({path:t(a.data.map(function(l){return l.position}))},dt({areaOpacity:n,areaBlendMode:i},a)),a.id)})})};ro.propTypes={areaGenerator:r.func.isRequired,areaOpacity:r.number.isRequired,areaBlendMode:yi.isRequired,lines:r.arrayOf(r.object).isRequired};var Uu=h.memo(ro),oo=function(e){var t=e.lineGenerator,n=e.points,i=e.color,o=e.thickness,a=h.useMemo(function(){return t(n)},[t,n]),l=bi(a);return m.jsx(Ae.path,{d:l,fill:"none",strokeWidth:o,stroke:i})};oo.propTypes={points:r.arrayOf(r.shape({x:r.oneOfType([r.string,r.number]),y:r.oneOfType([r.string,r.number])})),lineGenerator:r.func.isRequired,color:r.string.isRequired,thickness:r.number.isRequired};var Ku=h.memo(oo),ao=function(e){var t=e.lines,n=e.lineGenerator,i=e.lineWidth;return t.slice(0).reverse().map(function(o){var a=o.id,l=o.data,s=o.color;return m.jsx(Ku,{id:a,points:l.map(function(u){return u.position}),lineGenerator:n,color:s,thickness:i},a)})};ao.propTypes={lines:r.arrayOf(r.shape({id:r.oneOfType([r.string,r.number]).isRequired,color:r.string.isRequired,data:r.arrayOf(r.shape({data:r.shape({x:r.oneOfType([r.string,r.number,r.instanceOf(Date)]),y:r.oneOfType([r.string,r.number,r.instanceOf(Date)])}).isRequired,position:r.shape({x:r.number,y:r.number}).isRequired})).isRequired})).isRequired,lineWidth:r.number.isRequired,lineGenerator:r.func.isRequired};var Ju=h.memo(ao),lo=function(e){var t=e.slice,n=e.slices,i=e.axis,o=e.debug,a=e.tooltip,l=e.isCurrent,s=e.setCurrent,u=e.onMouseEnter,d=e.onMouseMove,f=e.onMouseLeave,c=e.onClick,g=e.onTouchStart,v=e.onTouchMove,y=e.onTouchEnd,p=Ct(),b=p.showTooltipFromEvent,R=p.hideTooltip,x=h.useCallback(function(T){b(h.createElement(a,{slice:t,axis:i}),T,"right"),s(t),u&&u(t,T)},[b,a,t,i,s,u]),k=h.useCallback(function(T){b(h.createElement(a,{slice:t,axis:i}),T,"right"),d&&d(t,T)},[b,a,t,i,d]),j=h.useCallback(function(T){R(),s(null),f&&f(t,T)},[R,s,f,t]),w=h.useCallback(function(T){c&&c(t,T)},[t,c]),M=h.useCallback(function(T){b(h.createElement(a,{slice:t,axis:i}),T,"right"),s(t),g&&g(t,T)},[i,g,s,b,t,a]),A=h.useCallback(function(T){var C=T.touches[0],$=document.elementFromPoint(C.clientX,C.clientY),z=$==null?void 0:$.getAttribute("data-ref");if(z){var W=n.find(function(I){return I.id===z});W&&(b(h.createElement(a,{slice:W,axis:i}),T,"right"),s(W))}v&&v(t,T)},[i,v,s,b,t,n,a]),O=h.useCallback(function(T){R(),s(null),y&&y(t,T)},[R,s,y,t]);return m.jsx("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:o?1:0,strokeOpacity:.75,fill:"red",fillOpacity:l&&o?.35:0,onMouseEnter:x,onMouseMove:k,onMouseLeave:j,onClick:w,onTouchStart:M,onTouchMove:A,onTouchEnd:O,"data-ref":t.id})};lo.propTypes={slice:r.object.isRequired,slices:r.arrayOf(r.object).isRequired,axis:r.oneOf(["x","y"]).isRequired,debug:r.bool.isRequired,height:r.number.isRequired,tooltip:r.oneOfType([r.func,r.object]),isCurrent:r.bool.isRequired,setCurrent:r.func.isRequired,onMouseEnter:r.func,onMouseMove:r.func,onMouseLeave:r.func,onClick:r.func};var Qu=h.memo(lo),so=function(e){var t=e.slices,n=e.axis,i=e.debug,o=e.height,a=e.tooltip,l=e.current,s=e.setCurrent,u=e.onMouseEnter,d=e.onMouseMove,f=e.onMouseLeave,c=e.onClick,g=e.onTouchStart,v=e.onTouchMove,y=e.onTouchEnd;return t.map(function(p){return m.jsx(Qu,{slice:p,slices:t,axis:n,debug:i,height:o,tooltip:a,setCurrent:s,isCurrent:l!==null&&l.id===p.id,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:c,onTouchStart:g,onTouchMove:v,onTouchEnd:y},p.id)})};so.propTypes={slices:r.arrayOf(r.shape({id:r.oneOfType([r.number,r.string,r.instanceOf(Date)]).isRequired,x:r.number.isRequired,y:r.number.isRequired,points:r.arrayOf(r.object).isRequired})).isRequired,axis:r.oneOf(["x","y"]).isRequired,debug:r.bool.isRequired,height:r.number.isRequired,tooltip:r.oneOfType([r.func,r.object]).isRequired,current:r.object,setCurrent:r.func.isRequired,onMouseEnter:r.func,onMouseMove:r.func,onMouseLeave:r.func,onClick:r.func,onTouchStart:r.func,onTouchMove:r.func,onTouchEnd:r.func};var Zu=h.memo(so),uo=function(e){var t=e.points,n=e.symbol,i=e.size,o=e.borderWidth,a=e.enableLabel,l=e.label,s=e.labelYOffset,u=ke(),d=Ps(l),f=t.slice(0).reverse().map(function(c){return{id:c.id,x:c.x,y:c.y,datum:c.data,fill:c.color,stroke:c.borderColor,label:a?d(c.data):null}});return m.jsx("g",{children:f.map(function(c){return m.jsx(As,{x:c.x,y:c.y,datum:c.datum,symbol:n,size:i,color:c.fill,borderWidth:o,borderColor:c.stroke,label:c.label,labelYOffset:s,theme:u},c.id)})})};uo.propTypes={points:r.arrayOf(r.object),symbol:r.func,size:r.number.isRequired,color:r.func.isRequired,borderWidth:r.number.isRequired,borderColor:r.func.isRequired,enableLabel:r.bool.isRequired,label:r.oneOfType([r.string,r.func]).isRequired,labelYOffset:r.number};var ed=h.memo(uo),co=function(e){var t=e.points,n=e.width,i=e.height,o=e.margin,a=e.setCurrent,l=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,d=e.onClick,f=e.onTouchStart,c=e.onTouchMove,g=e.onTouchEnd,v=e.tooltip,y=e.debug,p=e.enableTouchCrosshair,b=Ct(),R=b.showTooltipAt,x=b.hideTooltip,k=h.useCallback(function(C,$){R(h.createElement(v,{point:C}),[C.x+o.left,C.y+o.top],"top"),a(C),l&&l(C,$)},[a,R,v,l,o]),j=h.useCallback(function(C,$){R(h.createElement(v,{point:C}),[C.x+o.left,C.y+o.top],"top"),a(C),s&&s(C,$)},[R,v,o.left,o.top,a,s]),w=h.useCallback(function(C,$){x(),a(null),u&&u(C,$)},[x,a,u]),M=h.useCallback(function(C,$){d&&d(C,$)},[d]),A=h.useCallback(function(C,$){R(h.createElement(v,{point:C}),[C.x+o.left,C.y+o.top],"top"),a(C),f&&f(C,$)},[o.left,o.top,f,a,R,v]),O=h.useCallback(function(C,$){R(h.createElement(v,{point:C}),[C.x+o.left,C.y+o.top],"top"),a(C),c&&c(C,$)},[o.left,o.top,c,a,R,v]),T=h.useCallback(function(C,$){x(),a(null),g&&g(C,$)},[g,x,a]);return m.jsx(Fu,{nodes:t,width:n,height:i,onMouseEnter:k,onMouseMove:j,onMouseLeave:w,onClick:M,onTouchStart:A,onTouchMove:O,onTouchEnd:T,enableTouchCrosshair:p,debug:y})};co.propTypes={points:r.arrayOf(r.object).isRequired,width:r.number.isRequired,height:r.number.isRequired,margin:r.object.isRequired,setCurrent:r.func.isRequired,onMouseEnter:r.func,onMouseMove:r.func,onMouseLeave:r.func,onClick:r.func,onTouchStart:r.func,onTouchMove:r.func,onTouchEnd:r.func,tooltip:r.oneOfType([r.func,r.object]).isRequired,debug:r.bool.isRequired};var td=h.memo(co),fo=function(e){var t=e.data,n=e.xScale,i=n===void 0?{type:"point"}:n,o=e.xFormat,a=e.yScale,l=a===void 0?{type:"linear",min:0,max:"auto"}:a,s=e.yFormat,u=e.layers,d=u===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:u,f=e.curve,c=f===void 0?"linear":f,g=e.areaBaselineValue,v=g===void 0?0:g,y=e.colors,p=y===void 0?{scheme:"nivo"}:y,b=e.margin,R=e.width,x=e.height,k=e.axisTop,j=e.axisRight,w=e.axisBottom,M=w===void 0?{}:w,A=e.axisLeft,O=A===void 0?{}:A,T=e.enableGridX,C=T===void 0||T,$=e.enableGridY,z=$===void 0||$,W=e.gridXValues,I=e.gridYValues,P=e.lineWidth,E=P===void 0?2:P,L=e.enableArea,q=L!==void 0&&L,S=e.areaOpacity,B=S===void 0?.2:S,H=e.areaBlendMode,U=H===void 0?"normal":H,se=e.enablePoints,_=se===void 0||se,ae=e.pointSymbol,F=e.pointSize,N=F===void 0?6:F,G=e.pointColor,oe=G===void 0?{from:"color"}:G,ie=e.pointBorderWidth,he=ie===void 0?0:ie,Re=e.pointBorderColor,ve=Re===void 0?{theme:"background"}:Re,le=e.enablePointLabel,Le=le!==void 0&&le,ce=e.pointLabel,fe=ce===void 0?"yFormatted":ce,J=e.pointLabelYOffset,me=e.defs,ge=me===void 0?[]:me,Ce=e.fill,We=Ce===void 0?[]:Ce,Ve=e.markers,Ue=e.legends,we=Ue===void 0?[]:Ue,qe=e.isInteractive,Oe=qe===void 0||qe,je=e.useMesh,Ke=je!==void 0&&je,$e=e.debugMesh,be=$e!==void 0&&$e,ye=e.onMouseEnter,Ye=e.onMouseMove,Me=e.onMouseLeave,Be=e.onClick,re=e.onTouchStart,Se=e.onTouchMove,D=e.onTouchEnd,Q=e.tooltip,de=Q===void 0?Ci:Q,ze=e.enableSlices,He=ze!==void 0&&ze,Qe=e.debugSlices,ft=Qe!==void 0&&Qe,et=e.sliceTooltip,rt=et===void 0?Zr:et,lt=e.enableCrosshair,Ze=lt===void 0||lt,ot=e.crosshairType,ht=ot===void 0?"bottom-left":ot,st=e.enableTouchCrosshair,V=st!==void 0&&st,Z=e.role,ue=Z===void 0?"img":Z,te=Ot(R,x,b),Je=te.margin,Ge=te.innerWidth,Ne=te.innerHeight,St=te.outerWidth,ee=te.outerHeight,X=no({data:t,xScale:i,xFormat:o,yScale:l,yFormat:s,width:Ge,height:Ne,colors:p,curve:c,areaBaselineValue:v,pointColor:oe,pointBorderColor:ve,enableSlices:He}),pe=X.legendData,Pe=X.toggleSerie,xe=X.lineGenerator,De=X.areaGenerator,Te=X.series,Ie=X.xScale,mt=X.yScale,wt=X.slices,nt=X.points,vt=ke(),Y=xt(oe,vt),yt=xt(ve,vt),tt=h.useState(null),At=tt[0],ji=tt[1],Mi=h.useState(null),Ut=Mi[0],Oi=Mi[1],Et={grid:m.jsx(Xr,{theme:vt,width:Ge,height:Ne,xScale:C?Ie:null,yScale:z?mt:null,xValues:W,yValues:I},"grid"),markers:m.jsx(Wr,{markers:Ve,width:Ge,height:Ne,xScale:Ie,yScale:mt,theme:vt},"markers"),axes:m.jsx(_r,{xScale:Ie,yScale:mt,width:Ge,height:Ne,theme:vt,top:k,right:j,bottom:M,left:O},"axes"),areas:null,lines:m.jsx(Ju,{lines:Te,lineGenerator:xe,lineWidth:E},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:we.map(function(Bt,xn){return m.jsx(vn,dt({},Bt,{containerWidth:Ge,containerHeight:Ne,data:Bt.data||pe,theme:vt,toggleSerie:Bt.toggleSerie?Pe:void 0}),"legend."+xn)})},$o=mn(ge,Te,We);return q&&(Et.areas=m.jsx(Uu,{areaGenerator:De,areaOpacity:B,areaBlendMode:U,lines:Te},"areas")),Oe&&He!==!1&&(Et.slices=m.jsx(Zu,{slices:wt,axis:He,debug:ft,height:Ne,tooltip:rt,current:Ut,setCurrent:Oi,onMouseEnter:ye,onMouseMove:Ye,onMouseLeave:Me,onClick:Be,onTouchStart:re,onTouchMove:Se,onTouchEnd:D},"slices")),_&&(Et.points=m.jsx(ed,{points:nt,symbol:ae,size:N,color:Y,borderWidth:he,borderColor:yt,enableLabel:Le,label:fe,labelYOffset:J},"points")),Oe&&Ze&&(At!==null&&(Et.crosshair=m.jsx(wn,{width:Ge,height:Ne,x:At.x,y:At.y,type:ht},"crosshair")),Ut!==null&&(Et.crosshair=m.jsx(wn,{width:Ge,height:Ne,x:Ut.x,y:Ut.y,type:He},"crosshair"))),Oe&&Ke&&He===!1&&(Et.mesh=m.jsx(td,{points:nt,width:Ge,height:Ne,margin:Je,current:At,setCurrent:ji,onMouseEnter:ye,onMouseMove:Ye,onMouseLeave:Me,onClick:Be,onTouchStart:re,onTouchMove:Se,onTouchEnd:D,tooltip:de,enableTouchCrosshair:V,debug:be},"mesh")),m.jsx(Xt,{defs:$o,width:St,height:ee,margin:Je,role:ue,children:d.map(function(Bt,xn){return typeof Bt=="function"?m.jsx(h.Fragment,{children:Bt(dt({},e,{innerWidth:Ge,innerHeight:Ne,series:Te,slices:wt,points:nt,xScale:Ie,yScale:mt,lineGenerator:xe,areaGenerator:De,currentPoint:At,setCurrentPoint:ji,currentSlice:Ut,setCurrentSlice:Oi}))},xn):Et[Bt]})})};fo.propTypes=Gu;var nd=Ht(fo),Yc=function(e){return m.jsx(Gt,{children:function(t){var n=t.width,i=t.height;return m.jsx(nd,dt({width:n,height:i},e))}})},ho=function(e){var t=h.useRef(null),n=e.width,i=e.height,o=e.margin,a=e.pixelRatio,l=a===void 0?typeof window<"u"&&window.devicePixelRatio||1:a,s=e.data,u=e.xScale,d=u===void 0?{type:"point"}:u,f=e.xFormat,c=e.yScale,g=c===void 0?{type:"linear",min:0,max:"auto"}:c,v=e.yFormat,y=e.curve,p=y===void 0?"linear":y,b=e.layers,R=b===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:b,x=e.colors,k=x===void 0?{scheme:"nivo"}:x,j=e.lineWidth,w=j===void 0?2:j,M=e.enableArea,A=M!==void 0&&M,O=e.areaBaselineValue,T=O===void 0?0:O,C=e.areaOpacity,$=C===void 0?.2:C,z=e.enablePoints,W=z===void 0||z,I=e.pointSize,P=I===void 0?6:I,E=e.pointColor,L=E===void 0?{from:"color"}:E,q=e.pointBorderWidth,S=q===void 0?0:q,B=e.pointBorderColor,H=B===void 0?{theme:"background"}:B,U=e.enableGridX,se=U===void 0||U,_=e.gridXValues,ae=e.enableGridY,F=ae===void 0||ae,N=e.gridYValues,G=e.axisTop,oe=e.axisRight,ie=e.axisBottom,he=ie===void 0?{}:ie,Re=e.axisLeft,ve=Re===void 0?{}:Re,le=e.legends,Le=le===void 0?[]:le,ce=e.isInteractive,fe=ce===void 0||ce,J=e.debugMesh,me=J!==void 0&&J,ge=e.onMouseLeave,Ce=e.onClick,We=e.tooltip,Ve=We===void 0?Ci:We,Ue=e.canvasRef,we=Ot(n,i,o),qe=we.margin,Oe=we.innerWidth,je=we.innerHeight,Ke=we.outerWidth,$e=we.outerHeight,be=ke(),ye=h.useState(null),Ye=ye[0],Me=ye[1],Be=no({data:s,xScale:d,xFormat:f,yScale:g,yFormat:v,width:Oe,height:je,colors:k,curve:p,areaBaselineValue:T,pointColor:L,pointBorderColor:H}),re=Be.lineGenerator,Se=Be.areaGenerator,D=Be.series,Q=Be.xScale,de=Be.yScale,ze=Be.points,He=Kr({points:ze,width:Oe,height:je,debug:me}),Qe=He.delaunay,ft=He.voronoi;h.useEffect(function(){Ue&&(Ue.current=t.current),t.current.width=Ke*l,t.current.height=$e*l;var V=t.current.getContext("2d");V.scale(l,l),V.fillStyle=be.background,V.fillRect(0,0,Ke,$e),V.translate(qe.left,qe.top),R.forEach(function(Z){if(typeof Z=="function"&&Z({ctx:V,innerWidth:Oe,innerHeight:je,series:D,points:ze,xScale:Q,yScale:de,lineWidth:w,lineGenerator:re,areaGenerator:Se,currentPoint:Ye,setCurrentPoint:Me}),Z==="grid"&&be.grid.line.strokeWidth>0&&(V.lineWidth=be.grid.line.strokeWidth,V.strokeStyle=be.grid.line.stroke,se&&un(V,{width:Oe,height:je,scale:Q,axis:"x",values:_}),F&&un(V,{width:Oe,height:je,scale:de,axis:"y",values:N})),Z==="axes"&&Hr(V,{xScale:Q,yScale:de,width:Oe,height:je,top:G,right:oe,bottom:he,left:ve,theme:be}),Z==="areas"&&A===!0&&(V.save(),V.globalAlpha=$,Se.context(V),D.forEach(function(te){V.fillStyle=te.color,V.beginPath(),Se(te.data.map(function(Je){return Je.position})),V.fill()}),V.restore()),Z==="lines"&&(re.context(V),D.forEach(function(te){V.strokeStyle=te.color,V.lineWidth=w,V.beginPath(),re(te.data.map(function(Je){return Je.position})),V.stroke()})),Z==="points"&&W===!0&&P>0&&ze.forEach(function(te){V.fillStyle=te.color,V.beginPath(),V.arc(te.x,te.y,P/2,0,2*Math.PI),V.fill(),S>0&&(V.strokeStyle=te.borderColor,V.lineWidth=S,V.stroke())}),Z==="mesh"&&me===!0&&(Vu(V,ft),Ye&&Yu(V,ft,Ye.index)),Z==="legends"){var ue=D.map(function(te){return{id:te.id,label:te.id,color:te.color}}).reverse();Le.forEach(function(te){Ri(V,dt({},te,{data:te.data||ue,containerWidth:Oe,containerHeight:je,theme:be}))})}})},[t,Ke,$e,R,be,re,D,Q,de,se,_,F,N,G,oe,he,ve,Le,ze,W,P,Ye]);var et=h.useCallback(function(V){var Z=Lt(t.current,V),ue=Z[0],te=Z[1];if(!$r(qe.left,qe.top,Oe,je,ue,te))return null;var Je=Qe.find(ue-qe.left,te-qe.top);return ze[Je]},[t,qe,Oe,je,Qe]),rt=Ct(),lt=rt.showTooltipFromEvent,Ze=rt.hideTooltip,ot=h.useCallback(function(V){var Z=et(V);Me(Z),Z?lt(h.createElement(Ve,{point:Z}),V):Ze()},[et,Me,lt,Ze,Ve]),ht=h.useCallback(function(V){Ze(),Me(null),Ye&&ge&&ge(Ye,V)},[Ze,Me,ge]),st=h.useCallback(function(V){if(Ce){var Z=et(V);Z&&Ce(Z,V)}},[et,Ce]);return m.jsx("canvas",{ref:t,width:Ke*l,height:$e*l,style:{width:Ke,height:$e,cursor:fe?"auto":"normal"},onMouseEnter:fe?ot:void 0,onMouseMove:fe?ot:void 0,onMouseLeave:fe?ht:void 0,onClick:fe?st:void 0})};ho.propTypes=Du;var id=Ht(ho),rd=h.forwardRef(function(e,t){return m.jsx(id,dt({},e,{canvasRef:t}))});h.forwardRef(function(e,t){return m.jsx(Gt,{children:function(n){var i=n.width,o=n.height;return m.jsx(rd,dt({width:i,height:o},e,{ref:t}))}})});function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_e.apply(this,arguments)}var od={pointerEvents:"none"},ad=function(e){var t=e.label,n=e.style,i=ke();return m.jsx(Ae.g,{transform:n.transform,opacity:n.progress,style:od,children:m.jsx(Ae.text,{textAnchor:"middle",dominantBaseline:"central",style:_e({},i.labels.text,{fill:n.textColor}),children:t})})},go=function(e){var t=e%(2*Math.PI);return t<0&&(t+=2*Math.PI),t},ld=function(e,t){return e.filter(function(n){return Math.abs(gn(n.arc.endAngle-n.arc.startAngle))>=t})},sd={startAngle:{enter:function(e){return _e({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return _e({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return _e({},e,{startAngle:t,endAngle:t})},update:function(e){return e},leave:function(e){var t=e.startAngle+(e.endAngle-e.startAngle)/2;return _e({},e,{startAngle:t,endAngle:t})}},endAngle:{enter:function(e){return _e({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return _e({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return _e({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return _e({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return _e({},e,{innerRadius:t,outerRadius:t})},update:function(e){return e},leave:function(e){var t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return _e({},e,{innerRadius:t,outerRadius:t})}},outerRadius:{enter:function(e){return _e({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return _e({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return _e({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return _e({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return _e({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return _e({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},mo=function(e,t){return h.useMemo(function(){var n=sd[e];return{enter:function(i){return _e({progress:0},n.enter(i.arc),t?t.enter(i):{})},update:function(i){return _e({progress:1},n.update(i.arc),t?t.update(i):{})},leave:function(i){return _e({progress:0},n.leave(i.arc),t?t.leave(i):{})}}},[e,t])},ud=function(e,t){var n=Ss(e)-Math.PI/2,i=e.innerRadius+(e.outerRadius-e.innerRadius)*t;return zt(n,i)},dd=function(e){return function(t,n,i,o){return Wt([t,n,i,o],function(a,l,s,u){var d=ud({startAngle:a,endAngle:l,innerRadius:s,outerRadius:u},e);return"translate("+d.x+","+d.y+")"})}},cd=function(e,t,n,i){t===void 0&&(t=.5),n===void 0&&(n="innerRadius");var o=ct(),a=o.animate,l=o.config,s=mo(n,i);return{transition:Yt(e,{keys:function(u){return u.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:l,immediate:!a}),interpolate:dd(t)}},fd=function(e){var t=e.center,n=e.data,i=e.transitionMode,o=e.label,a=e.radiusOffset,l=e.skipAngle,s=e.textColor,u=e.component,d=u===void 0?ad:u,f=Ft(o),c=ke(),g=xt(s,c),v=h.useMemo(function(){return n.filter(function(x){return Math.abs(gn(x.arc.endAngle-x.arc.startAngle))>=l})},[n,l]),y=cd(v,a,i),p=y.transition,b=y.interpolate,R=d;return m.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:p(function(x,k){return h.createElement(R,{key:k.id,datum:k,label:f(k),style:_e({},x,{transform:b(x.startAngle,x.endAngle,x.innerRadius,x.outerRadius),textColor:g(k)})})})})},hd=function(e){var t=e.label,n=e.style,i=ke();return m.jsxs(Ae.g,{opacity:n.opacity,children:[m.jsx(Ae.path,{fill:"none",stroke:n.linkColor,strokeWidth:n.thickness,d:n.path}),m.jsx(Ae.text,{transform:n.textPosition,textAnchor:n.textAnchor,dominantBaseline:"central",style:_e({},i.labels.text,{fill:n.textColor}),children:t})]})},gd=function(e){var t=go(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return t<Math.PI/2||t>1.5*Math.PI?"start":"end"},vo=function(e,t,n,i){var o,a,l=go(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),s=zt(l,e.outerRadius+t),u=zt(l,e.outerRadius+t+n);return l<Math.PI/2||l>1.5*Math.PI?(o="after",a={x:u.x+i,y:u.y}):(o="before",a={x:u.x-i,y:u.y}),{side:o,points:[s,u,a]}},md=Zi().x(function(e){return e.x}).y(function(e){return e.y}),vd=function(e,t,n,i,o,a,l){return Wt([e,t,n,i,o,a,l],function(s,u,d,f,c,g,v){var y=vo({startAngle:s,endAngle:u,innerRadius:d,outerRadius:f},c,g,v).points;return md(y)})},pd=function(e,t,n,i){return Wt([e,t,n,i],function(o,a,l,s){return gd({startAngle:o,endAngle:a,innerRadius:l,outerRadius:s})})},bd=function(e,t,n,i,o,a,l,s){return Wt([e,t,n,i,o,a,l,s],function(u,d,f,c,g,v,y,p){var b=vo({startAngle:u,endAngle:d,innerRadius:f,outerRadius:c},g,v,y),R=b.points,x=b.side,k=R[2];return x==="before"?k.x-=p:k.x+=p,"translate("+k.x+","+k.y+")"})},yd=function(e){var t=e.data,n=e.offset,i=n===void 0?0:n,o=e.diagonalLength,a=e.straightLength,l=e.skipAngle,s=l===void 0?0:l,u=e.textOffset,d=e.linkColor,f=e.textColor,c=ct(),g=c.animate,v=c.config,y=ke(),p=xt(d,y),b=xt(f,y),R=function(k,j){return h.useMemo(function(){return ld(k,j)},[k,j])}(t,s),x=function(k){var j=k.offset,w=k.diagonalLength,M=k.straightLength,A=k.textOffset,O=k.getLinkColor,T=k.getTextColor;return h.useMemo(function(){return{enter:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:j,diagonalLength:0,straightLength:0,textOffset:A,linkColor:O(C),textColor:T(C),opacity:0}},update:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:j,diagonalLength:w,straightLength:M,textOffset:A,linkColor:O(C),textColor:T(C),opacity:1}},leave:function(C){return{startAngle:C.arc.startAngle,endAngle:C.arc.endAngle,innerRadius:C.arc.innerRadius,outerRadius:C.arc.outerRadius,offset:j,diagonalLength:0,straightLength:0,textOffset:A,linkColor:O(C),textColor:T(C),opacity:0}}}},[w,M,A,O,T,j])}({offset:i,diagonalLength:o,straightLength:a,textOffset:u,getLinkColor:p,getTextColor:b});return{transition:Yt(R,{keys:function(k){return k.id},initial:x.update,from:x.enter,enter:x.update,update:x.update,leave:x.leave,config:v,immediate:!g}),interpolateLink:vd,interpolateTextAnchor:pd,interpolateTextPosition:bd}},xd=function(e){var t=e.center,n=e.data,i=e.label,o=e.skipAngle,a=e.offset,l=e.diagonalLength,s=e.straightLength,u=e.strokeWidth,d=e.textOffset,f=e.textColor,c=e.linkColor,g=e.component,v=g===void 0?hd:g,y=Ft(i),p=yd({data:n,skipAngle:o,offset:a,diagonalLength:l,straightLength:s,textOffset:d,linkColor:c,textColor:f}),b=p.transition,R=p.interpolateLink,x=p.interpolateTextAnchor,k=p.interpolateTextPosition,j=v;return m.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:b(function(w,M){return h.createElement(j,{key:M.id,datum:M,label:y(M),style:_e({},w,{thickness:u,path:R(w.startAngle,w.endAngle,w.innerRadius,w.outerRadius,w.offset,w.diagonalLength,w.straightLength),textAnchor:x(w.startAngle,w.endAngle,w.innerRadius,w.outerRadius),textPosition:k(w.startAngle,w.endAngle,w.innerRadius,w.outerRadius,w.offset,w.diagonalLength,w.straightLength,w.textOffset)})})})})},kd=function(e){var t=e.datum,n=e.style,i=e.onClick,o=e.onMouseEnter,a=e.onMouseMove,l=e.onMouseLeave,s=h.useCallback(function(c){return i==null?void 0:i(t,c)},[i,t]),u=h.useCallback(function(c){return o==null?void 0:o(t,c)},[o,t]),d=h.useCallback(function(c){return a==null?void 0:a(t,c)},[a,t]),f=h.useCallback(function(c){return l==null?void 0:l(t,c)},[l,t]);return m.jsx(Ae.path,{d:n.path,opacity:n.opacity,fill:t.fill||n.color,stroke:n.borderColor,strokeWidth:n.borderWidth,onClick:i?s:void 0,onMouseEnter:o?u:void 0,onMouseMove:a?d:void 0,onMouseLeave:l?f:void 0})},Rd=function(e,t,n,i,o){return Wt([e,t,n,i],function(a,l,s,u){return o({startAngle:a,endAngle:l,innerRadius:Math.max(0,s),outerRadius:Math.max(0,u)})})},Cd=function(e,t,n){t===void 0&&(t="innerRadius");var i=ct(),o=i.animate,a=i.config,l=mo(t,n);return{transition:Yt(e,{keys:function(s){return s.id},initial:l.update,from:l.enter,enter:l.update,update:l.update,leave:l.leave,config:a,immediate:!o}),interpolate:Rd}},wd=function(e){var t=e.center,n=e.data,i=e.arcGenerator,o=e.borderWidth,a=e.borderColor,l=e.onClick,s=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,f=e.transitionMode,c=e.component,g=c===void 0?kd:c,v=ke(),y=xt(a,v),p=Cd(n,f,{enter:function(k){return{opacity:0,color:k.color,borderColor:y(k)}},update:function(k){return{opacity:1,color:k.color,borderColor:y(k)}},leave:function(k){return{opacity:0,color:k.color,borderColor:y(k)}}}),b=p.transition,R=p.interpolate,x=g;return m.jsx("g",{transform:"translate("+t[0]+","+t[1]+")",children:b(function(k,j){return h.createElement(x,{key:j.id,datum:j,style:_e({},k,{borderWidth:o,path:R(k.startAngle,k.endAngle,k.innerRadius,k.outerRadius,i)}),onClick:l,onMouseEnter:s,onMouseMove:u,onMouseLeave:d})})})},jd=function(e,t,n,i,o,a){a===void 0&&(a=!0);var l=[],s=zt(pt(i),n);l.push([s.x,s.y]);var u=zt(pt(o),n);l.push([u.x,u.y]);for(var d=Math.round(Math.min(i,o));d<=Math.round(Math.max(i,o));d++)if(d%90==0){var f=zt(pt(d),n);l.push([f.x,f.y])}l=l.map(function(b){var R=b[0],x=b[1];return[e+R,t+x]}),a&&l.push([e,t]);var c=l.map(function(b){return b[0]}),g=l.map(function(b){return b[1]}),v=Math.min.apply(Math,c),y=Math.max.apply(Math,c),p=Math.min.apply(Math,g);return{points:l,x:v,y:p,width:y-v,height:Math.max.apply(Math,g)-p}},Md=function(e){var t=e===void 0?{}:e,n=t.cornerRadius,i=n===void 0?0:n,o=t.padAngle,a=o===void 0?0:o;return h.useMemo(function(){return ba().innerRadius(function(l){return l.innerRadius}).outerRadius(function(l){return l.outerRadius}).cornerRadius(i).padAngle(a)},[i,a])};function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$t.apply(this,arguments)}function po(e,t){if(e==null)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}var Yi,Od=function(e){var t=e.width,n=e.height,i=e.legends,o=e.data,a=e.toggleSerie;return m.jsx(m.Fragment,{children:i.map(function(l,s){var u;return m.jsx(vn,$t({},l,{containerWidth:t,containerHeight:n,data:(u=l.data)!=null?u:o,toggleSerie:l.toggleSerie?a:void 0}),s)})})},ne={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var t=e.datum;return m.jsx(fn,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})},legends:[],role:"img",pixelRatio:typeof window<"u"&&(Yi=window.devicePixelRatio)!=null?Yi:1},Sd=["points"],Td=function(e){var t=e.data,n=e.id,i=n===void 0?ne.id:n,o=e.value,a=o===void 0?ne.value:o,l=e.valueFormat,s=e.colors,u=s===void 0?ne.colors:s,d=Ft(i),f=Ft(a),c=_t(l),g=xi(u,"id");return h.useMemo(function(){return t.map(function(v){var y,p=d(v),b=f(v),R={id:p,label:(y=v.label)!=null?y:p,hidden:!1,value:b,formattedValue:c(b),data:v};return $t({},R,{color:g(R)})})},[t,d,f,c,g])},Ld=function(e){var t=e.data,n=e.startAngle,i=e.endAngle,o=e.innerRadius,a=e.outerRadius,l=e.padAngle,s=e.sortByValue,u=e.activeId,d=e.activeInnerRadiusOffset,f=e.activeOuterRadiusOffset,c=e.hiddenIds,g=e.forwardLegendData,v=h.useMemo(function(){var R=ya().value(function(x){return x.value}).startAngle(pt(n)).endAngle(pt(i)).padAngle(pt(l));return s||R.sortValues(null),R},[n,i,l,s]),y=h.useMemo(function(){var R=t.filter(function(x){return!c.includes(x.id)});return{dataWithArc:v(R).map(function(x){var k=Math.abs(x.endAngle-x.startAngle);return $t({},x.data,{arc:{index:x.index,startAngle:x.startAngle,endAngle:x.endAngle,innerRadius:u===x.data.id?o-d:o,outerRadius:u===x.data.id?a+f:a,thickness:a-o,padAngle:x.padAngle,angle:k,angleDeg:gn(k)}})}),legendData:t.map(function(x){return{id:x.id,label:x.label,color:x.color,hidden:c.includes(x.id),data:x}})}},[v,t,c,u,o,d,a,f]),p=y.legendData,b=h.useRef(g);return h.useEffect(function(){typeof b.current=="function"&&b.current(p)},[b,p]),y},Wd=function(e){var t=e.activeId,n=e.onActiveIdChange,i=e.defaultActiveId,o=t!==void 0,a=h.useState(o||i===void 0?null:i),l=a[0],s=a[1];return{activeId:o?t:l,setActiveId:h.useCallback(function(u){n&&n(u),o||s(u)},[o,n,s])}},qd=function(e){var t=e.data,n=e.width,i=e.height,o=e.innerRadius,a=o===void 0?ne.innerRadius:o,l=e.startAngle,s=l===void 0?ne.startAngle:l,u=e.endAngle,d=u===void 0?ne.endAngle:u,f=e.padAngle,c=f===void 0?ne.padAngle:f,g=e.sortByValue,v=g===void 0?ne.sortByValue:g,y=e.cornerRadius,p=y===void 0?ne.cornerRadius:y,b=e.fit,R=b===void 0?ne.fit:b,x=e.activeInnerRadiusOffset,k=x===void 0?ne.activeInnerRadiusOffset:x,j=e.activeOuterRadiusOffset,w=j===void 0?ne.activeOuterRadiusOffset:j,M=e.activeId,A=e.onActiveIdChange,O=e.defaultActiveId,T=e.forwardLegendData,C=Wd({activeId:M,onActiveIdChange:A,defaultActiveId:O}),$=C.activeId,z=C.setActiveId,W=h.useState([]),I=W[0],P=W[1],E=h.useMemo(function(){var S,B=Math.min(n,i)/2,H=B*Math.min(a,1),U=n/2,se=i/2;if(R){var _=jd(U,se,B,s-90,d-90),ae=_.points,F=po(_,Sd),N=Math.min(n/F.width,i/F.height),G={width:F.width*N,height:F.height*N};G.x=(n-G.width)/2,G.y=(i-G.height)/2,U=(U-F.x)/F.width*F.width*N+G.x,se=(se-F.y)/F.height*F.height*N+G.y,S={box:F,ratio:N,points:ae},B*=N,H*=N}return{centerX:U,centerY:se,radius:B,innerRadius:H,debug:S}},[n,i,a,s,d,R]),L=Ld({data:t,startAngle:s,endAngle:d,innerRadius:E.innerRadius,outerRadius:E.radius,padAngle:c,sortByValue:v,activeId:$,activeInnerRadiusOffset:k,activeOuterRadiusOffset:w,hiddenIds:I,forwardLegendData:T}),q=h.useCallback(function(S){P(function(B){return B.indexOf(S)>-1?B.filter(function(H){return H!==S}):[].concat(B,[S])})},[]);return $t({arcGenerator:Md({cornerRadius:p,padAngle:pt(c)}),activeId:$,setActiveId:z,toggleSerie:q},L,E)},$d=function(e){var t=e.dataWithArc,n=e.arcGenerator,i=e.centerX,o=e.centerY,a=e.radius,l=e.innerRadius;return h.useMemo(function(){return{dataWithArc:t,arcGenerator:n,centerX:i,centerY:o,radius:a,innerRadius:l}},[t,n,i,o,a,l])},Ad=function(e){var t=e.center,n=e.data,i=e.arcGenerator,o=e.borderWidth,a=e.borderColor,l=e.isInteractive,s=e.onClick,u=e.onMouseEnter,d=e.onMouseMove,f=e.onMouseLeave,c=e.setActiveId,g=e.tooltip,v=e.transitionMode,y=Ct(),p=y.showTooltipFromEvent,b=y.hideTooltip,R=h.useMemo(function(){if(l)return function(w,M){s==null||s(w,M)}},[l,s]),x=h.useMemo(function(){if(l)return function(w,M){p(h.createElement(g,{datum:w}),M),c(w.id),u==null||u(w,M)}},[l,p,c,u,g]),k=h.useMemo(function(){if(l)return function(w,M){p(h.createElement(g,{datum:w}),M),d==null||d(w,M)}},[l,p,d,g]),j=h.useMemo(function(){if(l)return function(w,M){b(),c(null),f==null||f(w,M)}},[l,b,c,f]);return m.jsx(wd,{center:t,data:n,arcGenerator:i,borderWidth:o,borderColor:a,transitionMode:v,onClick:R,onMouseEnter:x,onMouseMove:k,onMouseLeave:j})},Ed=["isInteractive","animate","motionConfig","theme","renderWrapper"],Bd=function(e){var t=e.data,n=e.id,i=n===void 0?ne.id:n,o=e.value,a=o===void 0?ne.value:o,l=e.valueFormat,s=e.sortByValue,u=s===void 0?ne.sortByValue:s,d=e.layers,f=d===void 0?ne.layers:d,c=e.startAngle,g=c===void 0?ne.startAngle:c,v=e.endAngle,y=v===void 0?ne.endAngle:v,p=e.padAngle,b=p===void 0?ne.padAngle:p,R=e.fit,x=R===void 0?ne.fit:R,k=e.innerRadius,j=k===void 0?ne.innerRadius:k,w=e.cornerRadius,M=w===void 0?ne.cornerRadius:w,A=e.activeInnerRadiusOffset,O=A===void 0?ne.activeInnerRadiusOffset:A,T=e.activeOuterRadiusOffset,C=T===void 0?ne.activeOuterRadiusOffset:T,$=e.width,z=e.height,W=e.margin,I=e.colors,P=I===void 0?ne.colors:I,E=e.borderWidth,L=E===void 0?ne.borderWidth:E,q=e.borderColor,S=q===void 0?ne.borderColor:q,B=e.enableArcLabels,H=B===void 0?ne.enableArcLabels:B,U=e.arcLabel,se=U===void 0?ne.arcLabel:U,_=e.arcLabelsSkipAngle,ae=_===void 0?ne.arcLabelsSkipAngle:_,F=e.arcLabelsTextColor,N=F===void 0?ne.arcLabelsTextColor:F,G=e.arcLabelsRadiusOffset,oe=G===void 0?ne.arcLabelsRadiusOffset:G,ie=e.arcLabelsComponent,he=e.enableArcLinkLabels,Re=he===void 0?ne.enableArcLinkLabels:he,ve=e.arcLinkLabel,le=ve===void 0?ne.arcLinkLabel:ve,Le=e.arcLinkLabelsSkipAngle,ce=Le===void 0?ne.arcLinkLabelsSkipAngle:Le,fe=e.arcLinkLabelsOffset,J=fe===void 0?ne.arcLinkLabelsOffset:fe,me=e.arcLinkLabelsDiagonalLength,ge=me===void 0?ne.arcLinkLabelsDiagonalLength:me,Ce=e.arcLinkLabelsStraightLength,We=Ce===void 0?ne.arcLinkLabelsStraightLength:Ce,Ve=e.arcLinkLabelsThickness,Ue=Ve===void 0?ne.arcLinkLabelsThickness:Ve,we=e.arcLinkLabelsTextOffset,qe=we===void 0?ne.arcLinkLabelsTextOffset:we,Oe=e.arcLinkLabelsTextColor,je=Oe===void 0?ne.arcLinkLabelsTextColor:Oe,Ke=e.arcLinkLabelsColor,$e=Ke===void 0?ne.arcLinkLabelsColor:Ke,be=e.arcLinkLabelComponent,ye=e.defs,Ye=ye===void 0?ne.defs:ye,Me=e.fill,Be=Me===void 0?ne.fill:Me,re=e.isInteractive,Se=re===void 0?ne.isInteractive:re,D=e.onClick,Q=e.onMouseEnter,de=e.onMouseMove,ze=e.onMouseLeave,He=e.tooltip,Qe=He===void 0?ne.tooltip:He,ft=e.activeId,et=e.onActiveIdChange,rt=e.defaultActiveId,lt=e.transitionMode,Ze=lt===void 0?ne.transitionMode:lt,ot=e.legends,ht=ot===void 0?ne.legends:ot,st=e.forwardLegendData,V=e.role,Z=V===void 0?ne.role:V,ue=Ot($,z,W),te=ue.outerWidth,Je=ue.outerHeight,Ge=ue.margin,Ne=ue.innerWidth,St=ue.innerHeight,ee=Td({data:t,id:i,value:a,valueFormat:l,colors:P}),X=qd({data:ee,width:Ne,height:St,fit:x,innerRadius:j,startAngle:g,endAngle:y,padAngle:b,sortByValue:u,cornerRadius:M,activeInnerRadiusOffset:O,activeOuterRadiusOffset:C,activeId:ft,onActiveIdChange:et,defaultActiveId:rt,forwardLegendData:st}),pe=X.dataWithArc,Pe=X.legendData,xe=X.arcGenerator,De=X.centerX,Te=X.centerY,Ie=X.radius,mt=X.innerRadius,wt=X.setActiveId,nt=X.toggleSerie,vt=mn(Ye,pe,Be),Y={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};f.includes("arcs")&&(Y.arcs=m.jsx(Ad,{center:[De,Te],data:pe,arcGenerator:xe,borderWidth:L,borderColor:S,isInteractive:Se,onClick:D,onMouseEnter:Q,onMouseMove:de,onMouseLeave:ze,setActiveId:wt,tooltip:Qe,transitionMode:Ze},"arcs")),Re&&f.includes("arcLinkLabels")&&(Y.arcLinkLabels=m.jsx(xd,{center:[De,Te],data:pe,label:le,skipAngle:ce,offset:J,diagonalLength:ge,straightLength:We,strokeWidth:Ue,textOffset:qe,textColor:je,linkColor:$e,component:be},"arcLinkLabels")),H&&f.includes("arcLabels")&&(Y.arcLabels=m.jsx(fd,{center:[De,Te],data:pe,label:se,radiusOffset:oe,skipAngle:ae,textColor:N,transitionMode:Ze,component:ie},"arcLabels")),ht.length>0&&f.includes("legends")&&(Y.legends=m.jsx(Od,{width:Ne,height:St,data:Pe,legends:ht,toggleSerie:nt},"legends"));var yt=$d({dataWithArc:pe,arcGenerator:xe,centerX:De,centerY:Te,radius:Ie,innerRadius:mt});return m.jsx(Xt,{width:te,height:Je,margin:Ge,defs:vt,role:Z,children:f.map(function(tt,At){return Y[tt]!==void 0?Y[tt]:typeof tt=="function"?m.jsx(h.Fragment,{children:h.createElement(tt,yt)},At):null})})},Pd=function(e){var t=e.isInteractive,n=t===void 0?ne.isInteractive:t,i=e.animate,o=i===void 0?ne.animate:i,a=e.motionConfig,l=a===void 0?ne.motionConfig:a,s=e.theme,u=e.renderWrapper,d=po(e,Ed);return m.jsx(on,{animate:o,isInteractive:n,motionConfig:l,renderWrapper:u,theme:s,children:m.jsx(Bd,$t({isInteractive:n},d))})},Gc=function(e){return m.jsx(Gt,{children:function(t){var n=t.width,i=t.height;return m.jsx(Pd,$t({width:n,height:i},e))}})};function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kt.apply(this,arguments)}var En={dotSize:4,noteWidth:120,noteTextOffset:8,animate:!0},Id=function(e){var t=typeof e;return h.isValidElement(e)||t==="string"||t==="function"||t==="object"},zd=function(e){var t=typeof e;return t==="string"||t==="function"},tn=function(e){return e.type==="circle"},Bn=function(e){return e.type==="dot"},nn=function(e){return e.type==="rect"},Fd=function(e){var t=e.data,n=e.annotations,i=e.getPosition,o=e.getDimensions;return n.reduce(function(a,l){var s=l.offset||0;return[].concat(a,Yo(t,l.match).map(function(u){var d=i(u),f=o(u);return(tn(l)||nn(l))&&(f.size=f.size+2*s,f.width=f.width+2*s,f.height=f.height+2*s),kt({},Ki(l,["match","offset"]),d,f,{size:l.size||f.size,datum:u})}))},[])},Vd=function(e,t,n,i){var o=Math.atan2(i-t,n-e);return Ts(gn(o))},bo=function(e){var t,n,i=e.x,o=e.y,a=e.noteX,l=e.noteY,s=e.noteWidth,u=s===void 0?En.noteWidth:s,d=e.noteTextOffset,f=d===void 0?En.noteTextOffset:d;if(Ti(a))t=i+a;else{if(a.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=a.abs}if(Ti(l))n=o+l;else{if(l.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=l.abs}var c=i,g=o,v=Vd(i,o,t,n);if(tn(e)){var y=zt(pt(v),e.size/2);c+=y.x,g+=y.y}if(nn(e)){var p=Math.round((v+90)/45)%8;p===0&&(g-=e.height/2),p===1&&(c+=e.width/2,g-=e.height/2),p===2&&(c+=e.width/2),p===3&&(c+=e.width/2,g+=e.height/2),p===4&&(g+=e.height/2),p===5&&(c-=e.width/2,g+=e.height/2),p===6&&(c-=e.width/2),p===7&&(c-=e.width/2,g-=e.height/2)}var b=t,R=t;return(v+90)%360>180?(b-=u,R-=u):R+=u,{points:[[c,g],[t,n],[R,n]],text:[b,n-f],angle:v+90}},yo=function(e){var t=e.data,n=e.annotations,i=e.getPosition,o=e.getDimensions;return h.useMemo(function(){return Fd({data:t,annotations:n,getPosition:i,getDimensions:o})},[t,n,i,o])},Yd=function(e){var t=e.annotations;return h.useMemo(function(){return t.map(function(n){return kt({},n,{computed:bo(kt({},n))})})},[t])},Gd=function(e){return h.useMemo(function(){return bo(e)},[e])},Dd=function(e){var t=e.datum,n=e.x,i=e.y,o=e.note,a=ke(),l=ct(),s=l.animate,u=l.config,d=Rt({x:n,y:i,config:u,immediate:!s});return typeof o=="function"?h.createElement(o,{x:n,y:i,datum:t}):m.jsxs(m.Fragment,{children:[a.annotations.text.outlineWidth>0&&m.jsx(Ae.text,{x:d.x,y:d.y,style:kt({},a.annotations.text,{strokeLinejoin:"round",strokeWidth:2*a.annotations.text.outlineWidth,stroke:a.annotations.text.outlineColor}),children:o}),m.jsx(Ae.text,{x:d.x,y:d.y,style:Ki(a.annotations.text,["outlineWidth","outlineColor"]),children:o})]})},Gi=function(e){var t=e.points,n=e.isOutline,i=n!==void 0&&n,o=ke(),a=h.useMemo(function(){var u=t[0];return t.slice(1).reduce(function(d,f){return d+" L"+f[0]+","+f[1]},"M"+u[0]+","+u[1])},[t]),l=bi(a);if(i&&o.annotations.link.outlineWidth<=0)return null;var s=kt({},o.annotations.link);return i&&(s.strokeLinecap="square",s.strokeWidth=o.annotations.link.strokeWidth+2*o.annotations.link.outlineWidth,s.stroke=o.annotations.link.outlineColor,s.opacity=o.annotations.link.outlineOpacity),m.jsx(Ae.path,{fill:"none",d:l,style:s})},_d=function(e){var t=e.x,n=e.y,i=e.size,o=ke(),a=ct(),l=a.animate,s=a.config,u=Rt({x:t,y:n,radius:i/2,config:s,immediate:!l});return m.jsxs(m.Fragment,{children:[o.annotations.outline.outlineWidth>0&&m.jsx(Ae.circle,{cx:u.x,cy:u.y,r:u.radius,style:kt({},o.annotations.outline,{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),m.jsx(Ae.circle,{cx:u.x,cy:u.y,r:u.radius,style:o.annotations.outline})]})},Xd=function(e){var t=e.x,n=e.y,i=e.size,o=i===void 0?En.dotSize:i,a=ke(),l=ct(),s=l.animate,u=l.config,d=Rt({x:t,y:n,radius:o/2,config:u,immediate:!s});return m.jsxs(m.Fragment,{children:[a.annotations.outline.outlineWidth>0&&m.jsx(Ae.circle,{cx:d.x,cy:d.y,r:d.radius,style:kt({},a.annotations.outline,{fill:"none",strokeWidth:2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor,opacity:a.annotations.outline.outlineOpacity})}),m.jsx(Ae.circle,{cx:d.x,cy:d.y,r:d.radius,style:a.annotations.symbol})]})},Hd=function(e){var t=e.x,n=e.y,i=e.width,o=e.height,a=e.borderRadius,l=a===void 0?6:a,s=ke(),u=ct(),d=u.animate,f=u.config,c=Rt({x:t-i/2,y:n-o/2,width:i,height:o,config:f,immediate:!d});return m.jsxs(m.Fragment,{children:[s.annotations.outline.outlineWidth>0&&m.jsx(Ae.rect,{x:c.x,y:c.y,rx:l,ry:l,width:c.width,height:c.height,style:kt({},s.annotations.outline,{fill:"none",strokeWidth:s.annotations.outline.strokeWidth+2*s.annotations.outline.outlineWidth,stroke:s.annotations.outline.outlineColor,opacity:s.annotations.outline.outlineOpacity})}),m.jsx(Ae.rect,{x:c.x,y:c.y,rx:l,ry:l,width:c.width,height:c.height,style:s.annotations.outline})]})},Nd=function(e){var t=e.datum,n=e.x,i=e.y,o=e.note,a=Gd(e);if(!Id(o))throw new Error("note should be a valid react element");return m.jsxs(m.Fragment,{children:[m.jsx(Gi,{points:a.points,isOutline:!0}),tn(e)&&m.jsx(_d,{x:n,y:i,size:e.size}),Bn(e)&&m.jsx(Xd,{x:n,y:i,size:e.size}),nn(e)&&m.jsx(Hd,{x:n,y:i,width:e.width,height:e.height,borderRadius:e.borderRadius}),m.jsx(Gi,{points:a.points}),m.jsx(Dd,{datum:t,x:a.text[0],y:a.text[1],note:o})]})},Di=function(e,t){t.forEach(function(n,i){var o=n[0],a=n[1];i===0?e.moveTo(o,a):e.lineTo(o,a)})},Ud=function(e,t){var n=t.annotations,i=t.theme;n.length!==0&&(e.save(),n.forEach(function(o){if(!zd(o.note))throw new Error("note is invalid for canvas implementation");i.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=i.annotations.link.outlineColor,e.lineWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,e.beginPath(),Di(e,o.computed.points),e.stroke(),e.lineCap="butt"),tn(o)&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.arc(o.x,o.y,o.size/2,0,2*Math.PI),e.stroke()),Bn(o)&&i.annotations.symbol.outlineWidth>0&&(e.strokeStyle=i.annotations.symbol.outlineColor,e.lineWidth=2*i.annotations.symbol.outlineWidth,e.beginPath(),e.arc(o.x,o.y,o.size/2,0,2*Math.PI),e.stroke()),nn(o)&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.rect(o.x-o.width/2,o.y-o.height/2,o.width,o.height),e.stroke()),e.strokeStyle=i.annotations.link.stroke,e.lineWidth=i.annotations.link.strokeWidth,e.beginPath(),Di(e,o.computed.points),e.stroke(),tn(o)&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.arc(o.x,o.y,o.size/2,0,2*Math.PI),e.stroke()),Bn(o)&&(e.fillStyle=i.annotations.symbol.fill,e.beginPath(),e.arc(o.x,o.y,o.size/2,0,2*Math.PI),e.fill()),nn(o)&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.rect(o.x-o.width/2,o.y-o.height/2,o.width,o.height),e.stroke()),typeof o.note=="function"?o.note(e,{datum:o.datum,x:o.computed.text[0],y:o.computed.text[1],theme:i}):(e.font=i.annotations.text.fontSize+"px "+i.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=i.annotations.text.fill,e.strokeStyle=i.annotations.text.outlineColor,e.lineWidth=2*i.annotations.text.outlineWidth,i.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(o.note,o.computed.text[0],o.computed.text[1]),e.lineJoin="miter"),e.fillText(o.note,o.computed.text[0],o.computed.text[1]))}),e.restore())};function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ee.apply(this,arguments)}function Nt(e,t){if(e==null)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}var _i,Kd=function(e){var t=e.bars,n=e.annotations,i=yo({data:t,annotations:n,getPosition:function(o){return{x:o.x+o.width/2,y:o.y+o.height/2}},getDimensions:function(o){var a=o.height,l=o.width;return{width:l,height:a,size:Math.max(l,a)}}});return m.jsx(m.Fragment,{children:i.map(function(o,a){return m.jsx(Nd,Ee({},o),a)})})},Jd=function(e){var t=e.width,n=e.height,i=e.legends,o=e.toggleSerie;return m.jsx(m.Fragment,{children:i.map(function(a,l){var s,u=a[0],d=a[1];return m.jsx(vn,Ee({},u,{containerWidth:t,containerHeight:n,data:(s=u.data)!=null?s:d,toggleSerie:u.toggleSerie&&u.dataFrom==="keys"?o:void 0}),l)})})},Qd=["data"],Zd=function(e){var t,n=e.bar,i=n.data,o=Nt(n,Qd),a=e.style,l=a.borderColor,s=a.color,u=a.height,d=a.labelColor,f=a.labelOpacity,c=a.labelX,g=a.labelY,v=a.transform,y=a.width,p=e.borderRadius,b=e.borderWidth,R=e.label,x=e.shouldRenderLabel,k=e.isInteractive,j=e.onClick,w=e.onMouseEnter,M=e.onMouseLeave,A=e.tooltip,O=e.isFocusable,T=e.ariaLabel,C=e.ariaLabelledBy,$=e.ariaDescribedBy,z=ke(),W=Ct(),I=W.showTooltipFromEvent,P=W.showTooltipAt,E=W.hideTooltip,L=h.useMemo(function(){return function(){return h.createElement(A,Ee({},o,i))}},[A,o,i]),q=h.useCallback(function(_){j==null||j(Ee({color:o.color},i),_)},[o,i,j]),S=h.useCallback(function(_){return I(L(),_)},[I,L]),B=h.useCallback(function(_){w==null||w(i,_),I(L(),_)},[i,w,I,L]),H=h.useCallback(function(_){M==null||M(i,_),E()},[i,E,M]),U=h.useCallback(function(){P(L(),[o.absX+o.width/2,o.absY])},[P,L,o]),se=h.useCallback(function(){E()},[E]);return m.jsxs(Ae.g,{transform:v,children:[m.jsx(Ae.rect,{width:Wt(y,function(_){return Math.max(_,0)}),height:Wt(u,function(_){return Math.max(_,0)}),rx:p,ry:p,fill:(t=i.fill)!=null?t:s,strokeWidth:b,stroke:l,focusable:O,tabIndex:O?0:void 0,"aria-label":T?T(i):void 0,"aria-labelledby":C?C(i):void 0,"aria-describedby":$?$(i):void 0,onMouseEnter:k?B:void 0,onMouseMove:k?S:void 0,onMouseLeave:k?H:void 0,onClick:k?q:void 0,onFocus:k&&O?U:void 0,onBlur:k&&O?se:void 0}),x&&m.jsx(Ae.text,{x:c,y:g,textAnchor:"middle",dominantBaseline:"central",fillOpacity:f,style:Ee({},z.labels.text,{pointerEvents:"none",fill:d}),children:R})]})},ec=["color","label"],tc=function(e){var t=e.color,n=e.label,i=Nt(e,ec);return m.jsx(fn,{id:n,value:i.formattedValue,enableChip:!0,color:t})},Fe={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:tc,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[],enableTotals:!1,totalsOffset:10},Xe=Ee({},Fe,{layers:["grid","axes","bars","totals","markers","legends","annotations"],barComponent:Zd,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),ut=Ee({},Fe,{layers:["grid","axes","bars","totals","legends","annotations"],pixelRatio:typeof window<"u"&&(_i=window.devicePixelRatio)!=null?_i:1}),xo=function(e,t,n,i,o,a){return en(i,{all:e.map(t),min:0,max:0},o,a).padding(n)},ko=function(e,t){return e.map(function(n){return Ee({},t.reduce(function(i,o){return i[o]=null,i},{}),n)})},pn=function(e){return Object.keys(e).reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},{})},bn=function(e){return[e,Number(e)]},nc=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],wi=function(e,t){return e>t},Ro=function(e,t){return e<t},Co=function(e,t){return Array.from(" ".repeat(t-e),function(n,i){return e+i})},ic=function(e){return wi(e,0)?0:e},rc=function(e,t,n,i){var o=e.data,a=e.formatValue,l=e.getColor,s=e.getIndex,u=e.getTooltipLabel,d=e.innerPadding,f=d===void 0?0:d,c=e.keys,g=e.xScale,v=e.yScale,y=e.margin,p=n?Ro:wi,b=o.map(pn),R=[];return c.forEach(function(x,k){return Co(0,g.domain().length).forEach(function(j){var w,M,A,O=bn(o[j][x]),T=O[0],C=O[1],$=s(o[j]),z=((w=g($))!=null?w:0)+t*k+f*k,W=p(M=C,0)?(A=v(M))!=null?A:0:i,I=function(E,L){var q;return p(E,0)?i-L:((q=v(E))!=null?q:0)-i}(C,W),P={id:x,value:T===null?T:C,formattedValue:a(C),hidden:!1,index:j,indexValue:$,data:b[j]};R.push({key:x+"."+P.indexValue,index:R.length,data:P,x:z,y:W,absX:y.left+z,absY:y.top+W,width:t,height:I,color:l(P),label:u(P)})})}),R},oc=function(e,t,n,i){var o=e.data,a=e.formatValue,l=e.getIndex,s=e.getColor,u=e.getTooltipLabel,d=e.keys,f=e.innerPadding,c=f===void 0?0:f,g=e.xScale,v=e.yScale,y=e.margin,p=n?Ro:wi,b=o.map(pn),R=[];return d.forEach(function(x,k){return Co(0,v.domain().length).forEach(function(j){var w,M,A,O=bn(o[j][x]),T=O[0],C=O[1],$=l(o[j]),z=p(M=C,0)?i:(A=g(M))!=null?A:0,W=((w=v($))!=null?w:0)+t*k+c*k,I=function(E,L){var q;return p(E,0)?((q=g(E))!=null?q:0)-i:i-L}(C,z),P={id:x,value:T===null?T:C,formattedValue:a(C),hidden:!1,index:j,indexValue:$,data:b[j]};R.push({key:x+"."+P.indexValue,index:R.length,data:P,x:z,y:W,absX:y.left+z,absY:y.top+W,width:I,height:t,color:s(P),label:u(P)})})}),R},ac=function(e){var t,n,i=e.layout,o=e.minValue,a=e.maxValue,l=e.reverse,s=e.width,u=e.height,d=e.padding,f=d===void 0?0:d,c=e.innerPadding,g=c===void 0?0:c,v=e.valueScale,y=e.indexScale,p=e.hiddenIds,b=p===void 0?[]:p,R=Nt(e,nc),x=R.keys.filter(function(B){return!b.includes(B)}),k=ko(R.data,x),j=i==="vertical"?["y","x",s]:["x","y",u],w=j[0],M=j[1],A=j[2],O=xo(k,R.getIndex,f,y,A,M),T=Ee({max:a,min:o,reverse:l},v),C=T.min==="auto"?ic:function(B){return B},$=k.reduce(function(B,H){return[].concat(B,x.map(function(U){return H[U]}))},[]).filter(Boolean),z=C(Math.min.apply(Math,$)),W=(n=Math.max.apply(Math,$),isFinite(n)?n:0),I=en(T,{all:$,min:z,max:W},w==="x"?s:u,w),P=i==="vertical"?[O,I]:[I,O],E=P[0],L=P[1],q=(O.bandwidth()-g*(x.length-1))/x.length,S=[Ee({},R,{data:k,keys:x,innerPadding:g,xScale:E,yScale:L}),q,T.reverse,(t=I(0))!=null?t:0];return{xScale:E,yScale:L,bars:q>0?i==="vertical"?rc.apply(void 0,S):oc.apply(void 0,S):[]}},lc=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],sc=function e(t){var n;return t.some(Array.isArray)?e((n=[]).concat.apply(n,t)):t},uc=function(e,t,n){var i=e.formatValue,o=e.getColor,a=e.getIndex,l=e.getTooltipLabel,s=e.innerPadding,u=e.stackedData,d=e.xScale,f=e.yScale,c=e.margin,g=[];return u.forEach(function(v){return d.domain().forEach(function(y,p){var b,R,x=v[p],k=(b=d(a(x.data)))!=null?b:0,j=((R=function(C){return f(C[n?0:1])}(x))!=null?R:0)+.5*s,w=function(C,$){var z;return((z=f(C[n?1:0]))!=null?z:0)-$}(x,j)-s,M=bn(x.data[v.key]),A=M[0],O=M[1],T={id:v.key,value:A===null?A:O,formattedValue:i(O),hidden:!1,index:p,indexValue:y,data:pn(x.data)};g.push({key:v.key+"."+y,index:g.length,data:T,x:k,y:j,absX:c.left+k,absY:c.top+j,width:t,height:w,color:o(T),label:l(T)})})}),g},dc=function(e,t,n){var i=e.formatValue,o=e.getColor,a=e.getIndex,l=e.getTooltipLabel,s=e.innerPadding,u=e.stackedData,d=e.xScale,f=e.yScale,c=e.margin,g=[];return u.forEach(function(v){return f.domain().forEach(function(y,p){var b,R,x=v[p],k=(b=f(a(x.data)))!=null?b:0,j=((R=function(C){return d(C[n?1:0])}(x))!=null?R:0)+.5*s,w=function(C,$){var z;return((z=d(C[n?0:1]))!=null?z:0)-$}(x,j)-s,M=bn(x.data[v.key]),A=M[0],O=M[1],T={id:v.key,value:A===null?A:O,formattedValue:i(O),hidden:!1,index:p,indexValue:y,data:pn(x.data)};g.push({key:v.key+"."+y,index:g.length,data:T,x:j,y:k,absX:c.left+j,absY:c.top+k,width:w,height:t,color:o(T),label:l(T)})})}),g},cc=function(e){var t,n=e.data,i=e.layout,o=e.minValue,a=e.maxValue,l=e.reverse,s=e.width,u=e.height,d=e.padding,f=d===void 0?0:d,c=e.valueScale,g=e.indexScale,v=e.hiddenIds,y=v===void 0?[]:v,p=Nt(e,lc),b=p.keys.filter(function(q){return!y.includes(q)}),R=xa().keys(b).offset(Qi)(ko(n,b)),x=i==="vertical"?["y","x",s]:["x","y",u],k=x[0],j=x[1],w=x[2],M=xo(n,p.getIndex,f,g,w,j),A=Ee({max:a,min:o,reverse:l},c),O=(t=sc(R),c.type==="log"?t.filter(function(q){return q!==0}):t),T=Math.min.apply(Math,O),C=Math.max.apply(Math,O),$=en(A,{all:O,min:T,max:C},k==="x"?s:u,k),z=i==="vertical"?[M,$]:[$,M],W=z[0],I=z[1],P=p.innerPadding>0?p.innerPadding:0,E=M.bandwidth(),L=[Ee({},p,{innerPadding:P,stackedData:R,xScale:W,yScale:I}),E,A.reverse];return{xScale:W,yScale:I,bars:E>0?i==="vertical"?uc.apply(void 0,L):dc.apply(void 0,L):[]}},fc=function(e){var t=e.bars,n=e.direction,i=e.from,o=e.groupMode,a=e.layout,l=e.legendLabel,s=e.reverse,u=qr(l??(i==="indexes"?"indexValue":"id"));return i==="indexes"?function(d,f,c){var g=Rn(d.map(function(v){var y,p;return{id:(y=v.data.indexValue)!=null?y:"",label:c(v.data),hidden:v.data.hidden,color:(p=v.color)!=null?p:"#000"}}),function(v){return v.id});return f==="horizontal"&&g.reverse(),g}(t,a,u):function(d,f,c,g,v,y){var p=Rn(d.map(function(b){var R;return{id:b.data.id,label:y(b.data),hidden:b.data.hidden,color:(R=b.color)!=null?R:"#000"}}),function(b){return b.id});return(f==="vertical"&&g==="stacked"&&c==="column"&&v!==!0||f==="horizontal"&&g==="stacked"&&v===!0)&&p.reverse(),p}(t,a,n,o,s,u)},Xi=function(e,t,n){var i=e.get(t)||0;e.set(t,i+n)},hc=function(e,t,n){var i=e.get(t)||0;e.set(t,i+(n>0?n:0))},gc=function(e,t,n){var i=e.get(t)||0;e.set(t,Math.max(i,Number(n)))},mc=function(e,t){var n=e.get(t)||0;e.set(t,n+1)},wo=function(e){var t=e.indexBy,n=t===void 0?Fe.indexBy:t,i=e.keys,o=i===void 0?Fe.keys:i,a=e.label,l=a===void 0?Fe.label:a,s=e.tooltipLabel,u=s===void 0?Fe.tooltipLabel:s,d=e.valueFormat,f=e.colors,c=f===void 0?Fe.colors:f,g=e.colorBy,v=g===void 0?Fe.colorBy:g,y=e.borderColor,p=y===void 0?Fe.borderColor:y,b=e.labelTextColor,R=b===void 0?Fe.labelTextColor:b,x=e.groupMode,k=x===void 0?Fe.groupMode:x,j=e.layout,w=j===void 0?Fe.layout:j,M=e.reverse,A=M===void 0?Fe.reverse:M,O=e.data,T=e.minValue,C=T===void 0?Fe.minValue:T,$=e.maxValue,z=$===void 0?Fe.maxValue:$,W=e.margin,I=e.width,P=e.height,E=e.padding,L=E===void 0?Fe.padding:E,q=e.innerPadding,S=q===void 0?Fe.innerPadding:q,B=e.valueScale,H=B===void 0?Fe.valueScale:B,U=e.indexScale,se=U===void 0?Fe.indexScale:U,_=e.initialHiddenIds,ae=_===void 0?Fe.initialHiddenIds:_,F=e.enableLabel,N=F===void 0?Fe.enableLabel:F,G=e.labelSkipWidth,oe=G===void 0?Fe.labelSkipWidth:G,ie=e.labelSkipHeight,he=ie===void 0?Fe.labelSkipHeight:ie,Re=e.legends,ve=Re===void 0?Fe.legends:Re,le=e.legendLabel,Le=e.totalsOffset,ce=Le===void 0?Fe.totalsOffset:Le,fe=h.useState(ae??[]),J=fe[0],me=fe[1],ge=h.useCallback(function(D){me(function(Q){return Q.indexOf(D)>-1?Q.filter(function(de){return de!==D}):[].concat(Q,[D])})},[]),Ce=Ft(n),We=Ft(l),Ve=Ft(u),Ue=_t(d),we=ke(),qe=xi(c,v),Oe=xt(p,we),je=xt(R,we),Ke=(k==="grouped"?ac:cc)({layout:w,reverse:A,data:O,getIndex:Ce,keys:o,minValue:C,maxValue:z,width:I,height:P,getColor:qe,padding:L,innerPadding:S,valueScale:H,indexScale:se,hiddenIds:J,formatValue:Ue,getTooltipLabel:Ve,margin:W}),$e=Ke.bars,be=Ke.xScale,ye=Ke.yScale,Ye=h.useMemo(function(){return $e.filter(function(D){return D.data.value!==null}).map(function(D,Q){return Ee({},D,{index:Q})})},[$e]),Me=h.useCallback(function(D){var Q=D.width,de=D.height;return!!N&&!(oe>0&&Q<oe)&&!(he>0&&de<he)},[N,oe,he]),Be=h.useMemo(function(){return o.map(function(D){var Q=$e.find(function(de){return de.data.id===D});return Ee({},Q,{data:Ee({id:D},Q==null?void 0:Q.data,{hidden:J.includes(D)})})})},[J,o,$e]),re=h.useMemo(function(){return ve.map(function(D){return[D,fc({bars:D.dataFrom==="keys"?Be:$e,direction:D.direction,from:D.dataFrom,groupMode:k,layout:w,legendLabel:le,reverse:A})]})},[ve,Be,$e,k,w,le,A]),Se=h.useMemo(function(){return function(D,Q,de,ze,He,Qe,ft){ze===void 0&&(ze=Fe.layout),He===void 0&&(He=Fe.groupMode);var et=[];if(D.length===0)return et;var rt=new Map,lt=D[0].width,Ze=D[0].height;if(He==="stacked"){var ot=new Map;D.forEach(function(V){var Z=V.data,ue=Z.indexValue,te=Z.value;Xi(rt,ue,Number(te)),hc(ot,ue,Number(te))}),ot.forEach(function(V,Z){var ue,te,Je,Ge=rt.get(Z)||0;ze==="vertical"?(ue=Q(Z),te=de(V),Je=de(V/2)):(ue=Q(V),te=de(Z),Je=Q(V/2)),ue+=ze==="vertical"?lt/2:Qe,te+=ze==="vertical"?-Qe:Ze/2,et.push({key:"total_"+Z,x:ue,y:te,value:Ge,formattedValue:ft(Ge),animationOffset:Je})})}else if(He==="grouped"){var ht=new Map,st=new Map;D.forEach(function(V){var Z=V.data,ue=Z.indexValue,te=Z.value;Xi(rt,ue,Number(te)),gc(ht,ue,Number(te)),mc(st,ue)}),ht.forEach(function(V,Z){var ue,te,Je,Ge=rt.get(Z)||0,Ne=st.get(Z);ze==="vertical"?(ue=Q(Z),te=de(V),Je=de(V/2)):(ue=Q(V),te=de(Z),Je=Q(V/2)),ue+=ze==="vertical"?Ne*lt/2:Qe,te+=ze==="vertical"?-Qe:Ne*Ze/2,et.push({key:"total_"+Z,x:ue,y:te,value:Ge,formattedValue:ft(Ge),animationOffset:Je})})}return et}($e,be,ye,w,k,ce,Ue)},[$e,be,ye,w,k,ce,Ue]);return{bars:$e,barsWithValue:Ye,xScale:be,yScale:ye,getIndex:Ce,getLabel:We,getTooltipLabel:Ve,formatValue:Ue,getColor:qe,getBorderColor:Oe,getLabelColor:je,shouldRenderBarLabel:Me,hiddenIds:J,toggleSerie:ge,legendsWithData:re,barTotals:Se}},vc=function(e){var t=e.data,n=e.springConfig,i=e.animate,o=e.layout,a=o===void 0?Xe.layout:o,l=ke();return Yt(t,{keys:function(s){return s.key},from:function(s){return{x:a==="vertical"?s.x:s.animationOffset,y:a==="vertical"?s.animationOffset:s.y,labelOpacity:0}},enter:function(s){return{x:s.x,y:s.y,labelOpacity:1}},update:function(s){return{x:s.x,y:s.y,labelOpacity:1}},leave:function(s){return{x:a==="vertical"?s.x:s.animationOffset,y:a==="vertical"?s.animationOffset:s.y,labelOpacity:0}},config:n,immediate:!i,initial:i?void 0:null})(function(s,u){return m.jsx(Ae.text,{x:s.x,y:s.y,fillOpacity:s.labelOpacity,style:Ee({},l.labels.text,{pointerEvents:"none",fill:l.text.fill}),fontWeight:"bold",fontSize:l.labels.text.fontSize,fontFamily:l.labels.text.fontFamily,textAnchor:a==="vertical"?"middle":"start",alignmentBaseline:a==="vertical"?"alphabetic":"middle",children:u.formattedValue},u.key)})},pc=["isInteractive","animate","motionConfig","theme","renderWrapper"],bc=function(e){var t=e.data,n=e.indexBy,i=e.keys,o=e.margin,a=e.width,l=e.height,s=e.groupMode,u=e.layout,d=e.reverse,f=e.minValue,c=e.maxValue,g=e.valueScale,v=e.indexScale,y=e.padding,p=e.innerPadding,b=e.axisTop,R=e.axisRight,x=e.axisBottom,k=x===void 0?Xe.axisBottom:x,j=e.axisLeft,w=j===void 0?Xe.axisLeft:j,M=e.enableGridX,A=M===void 0?Xe.enableGridX:M,O=e.enableGridY,T=O===void 0?Xe.enableGridY:O,C=e.gridXValues,$=e.gridYValues,z=e.layers,W=z===void 0?Xe.layers:z,I=e.barComponent,P=I===void 0?Xe.barComponent:I,E=e.enableLabel,L=E===void 0?Xe.enableLabel:E,q=e.label,S=e.labelSkipWidth,B=S===void 0?Xe.labelSkipWidth:S,H=e.labelSkipHeight,U=H===void 0?Xe.labelSkipHeight:H,se=e.labelTextColor,_=e.markers,ae=_===void 0?Xe.markers:_,F=e.colorBy,N=e.colors,G=e.defs,oe=G===void 0?Xe.defs:G,ie=e.fill,he=ie===void 0?Xe.fill:ie,Re=e.borderRadius,ve=Re===void 0?Xe.borderRadius:Re,le=e.borderWidth,Le=le===void 0?Xe.borderWidth:le,ce=e.borderColor,fe=e.annotations,J=fe===void 0?Xe.annotations:fe,me=e.legendLabel,ge=e.tooltipLabel,Ce=e.valueFormat,We=e.isInteractive,Ve=We===void 0?Xe.isInteractive:We,Ue=e.tooltip,we=Ue===void 0?Xe.tooltip:Ue,qe=e.onClick,Oe=e.onMouseEnter,je=e.onMouseLeave,Ke=e.legends,$e=e.role,be=$e===void 0?Xe.role:$e,ye=e.ariaLabel,Ye=e.ariaLabelledBy,Me=e.ariaDescribedBy,Be=e.isFocusable,re=Be===void 0?Xe.isFocusable:Be,Se=e.barAriaLabel,D=e.barAriaLabelledBy,Q=e.barAriaDescribedBy,de=e.initialHiddenIds,ze=e.enableTotals,He=ze===void 0?Xe.enableTotals:ze,Qe=e.totalsOffset,ft=Qe===void 0?Xe.totalsOffset:Qe,et=ct(),rt=et.animate,lt=et.config,Ze=Ot(a,l,o),ot=Ze.outerWidth,ht=Ze.outerHeight,st=Ze.margin,V=Ze.innerWidth,Z=Ze.innerHeight,ue=wo({indexBy:n,label:q,tooltipLabel:ge,valueFormat:Ce,colors:N,colorBy:F,borderColor:ce,labelTextColor:se,groupMode:s,layout:u,reverse:d,data:t,keys:i,minValue:f,maxValue:c,margin:st,width:V,height:Z,padding:y,innerPadding:p,valueScale:g,indexScale:v,enableLabel:L,labelSkipWidth:B,labelSkipHeight:U,legends:Ke,legendLabel:me,initialHiddenIds:de,totalsOffset:ft}),te=ue.bars,Je=ue.barsWithValue,Ge=ue.xScale,Ne=ue.yScale,St=ue.getLabel,ee=ue.getTooltipLabel,X=ue.getBorderColor,pe=ue.getLabelColor,Pe=ue.shouldRenderBarLabel,xe=ue.toggleSerie,De=ue.legendsWithData,Te=ue.barTotals,Ie=Yt(Je,{keys:function(Y){return Y.key},from:function(Y){return Ee({borderColor:X(Y),color:Y.color,height:0,labelColor:pe(Y),labelOpacity:0,labelX:Y.width/2,labelY:Y.height/2,transform:"translate("+Y.x+", "+(Y.y+Y.height)+")",width:Y.width},u==="vertical"?{}:{height:Y.height,transform:"translate("+Y.x+", "+Y.y+")",width:0})},enter:function(Y){return{borderColor:X(Y),color:Y.color,height:Y.height,labelColor:pe(Y),labelOpacity:1,labelX:Y.width/2,labelY:Y.height/2,transform:"translate("+Y.x+", "+Y.y+")",width:Y.width}},update:function(Y){return{borderColor:X(Y),color:Y.color,height:Y.height,labelColor:pe(Y),labelOpacity:1,labelX:Y.width/2,labelY:Y.height/2,transform:"translate("+Y.x+", "+Y.y+")",width:Y.width}},leave:function(Y){return Ee({borderColor:X(Y),color:Y.color,height:0,labelColor:pe(Y),labelOpacity:0,labelX:Y.width/2,labelY:0,transform:"translate("+Y.x+", "+(Y.y+Y.height)+")",width:Y.width},u==="vertical"?{}:{labelX:0,labelY:Y.height/2,height:Y.height,transform:"translate("+Y.x+", "+Y.y+")",width:0})},config:lt,immediate:!rt,initial:rt?void 0:null}),mt=h.useMemo(function(){return{borderRadius:ve,borderWidth:Le,enableLabel:L,isInteractive:Ve,labelSkipWidth:B,labelSkipHeight:U,onClick:qe,onMouseEnter:Oe,onMouseLeave:je,getTooltipLabel:ee,tooltip:we,isFocusable:re,ariaLabel:Se,ariaLabelledBy:D,ariaDescribedBy:Q}},[ve,Le,L,ee,Ve,U,B,qe,Oe,je,we,re,Se,D,Q]),wt=mn(oe,te,he,{dataKey:"data",targetKey:"data.fill"}),nt={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};W.includes("annotations")&&(nt.annotations=m.jsx(Kd,{bars:te,annotations:J},"annotations")),W.includes("axes")&&(nt.axes=m.jsx(_r,{xScale:Ge,yScale:Ne,width:V,height:Z,top:b,right:R,bottom:k,left:w},"axes")),W.includes("bars")&&(nt.bars=m.jsx(h.Fragment,{children:Ie(function(Y,yt){return h.createElement(P,Ee({},mt,{bar:yt,style:Y,shouldRenderLabel:Pe(yt),label:St(yt.data)}))})},"bars")),W.includes("grid")&&(nt.grid=m.jsx(Xr,{width:V,height:Z,xScale:A?Ge:null,yScale:T?Ne:null,xValues:C,yValues:$},"grid")),W.includes("legends")&&(nt.legends=m.jsx(Jd,{width:V,height:Z,legends:De,toggleSerie:xe},"legends")),W.includes("markers")&&(nt.markers=m.jsx(Wr,{markers:ae,width:V,height:Z,xScale:Ge,yScale:Ne},"markers")),W.includes("totals")&&He&&(nt.totals=m.jsx(vc,{data:Te,springConfig:lt,animate:rt,layout:u}));var vt=h.useMemo(function(){return Ee({},mt,{margin:st,width:a,height:l,innerWidth:V,innerHeight:Z,bars:te,legendData:De,enableLabel:L,xScale:Ge,yScale:Ne,tooltip:we,getTooltipLabel:ee,onClick:qe,onMouseEnter:Oe,onMouseLeave:je})},[mt,st,a,l,V,Z,te,De,L,Ge,Ne,we,ee,qe,Oe,je]);return m.jsx(Xt,{width:ot,height:ht,margin:st,defs:wt,role:be,ariaLabel:ye,ariaLabelledBy:Ye,ariaDescribedBy:Me,isFocusable:re,children:W.map(function(Y,yt){var tt;return typeof Y=="function"?m.jsx(h.Fragment,{children:h.createElement(Y,vt)},yt):(tt=nt==null?void 0:nt[Y])!=null?tt:null})})},yc=function(e){var t=e.isInteractive,n=t===void 0?Xe.isInteractive:t,i=e.animate,o=i===void 0?Xe.animate:i,a=e.motionConfig,l=a===void 0?Xe.motionConfig:a,s=e.theme,u=e.renderWrapper,d=Nt(e,pc);return m.jsx(on,{animate:o,isInteractive:n,motionConfig:l,renderWrapper:u,theme:s,children:m.jsx(bc,Ee({isInteractive:n},d))})},xc=["isInteractive","renderWrapper","theme"],kn=function(e,t,n,i){return e.find(function(o){return $r(o.x+t.left,o.y+t.top,o.width,o.height,n,i)})},kc=function(e){var t=e.data,n=e.indexBy,i=e.keys,o=e.margin,a=e.width,l=e.height,s=e.groupMode,u=e.layout,d=e.reverse,f=e.minValue,c=e.maxValue,g=e.valueScale,v=e.indexScale,y=e.padding,p=e.innerPadding,b=e.axisTop,R=e.axisRight,x=e.axisBottom,k=x===void 0?ut.axisBottom:x,j=e.axisLeft,w=j===void 0?ut.axisLeft:j,M=e.enableGridX,A=M===void 0?ut.enableGridX:M,O=e.enableGridY,T=O===void 0?ut.enableGridY:O,C=e.gridXValues,$=e.gridYValues,z=e.layers,W=z===void 0?ut.layers:z,I=e.renderBar,P=I===void 0?function(ee,X){var pe=X.bar,Pe=pe.color,xe=pe.height,De=pe.width,Te=pe.x,Ie=pe.y,mt=X.borderColor,wt=X.borderRadius,nt=X.borderWidth,vt=X.label,Y=X.labelColor,yt=X.shouldRenderLabel;if(ee.fillStyle=Pe,nt>0&&(ee.strokeStyle=mt,ee.lineWidth=nt),ee.beginPath(),wt>0){var tt=Math.min(wt,xe);ee.moveTo(Te+tt,Ie),ee.lineTo(Te+De-tt,Ie),ee.quadraticCurveTo(Te+De,Ie,Te+De,Ie+tt),ee.lineTo(Te+De,Ie+xe-tt),ee.quadraticCurveTo(Te+De,Ie+xe,Te+De-tt,Ie+xe),ee.lineTo(Te+tt,Ie+xe),ee.quadraticCurveTo(Te,Ie+xe,Te,Ie+xe-tt),ee.lineTo(Te,Ie+tt),ee.quadraticCurveTo(Te,Ie,Te+tt,Ie),ee.closePath()}else ee.rect(Te,Ie,De,xe);ee.fill(),nt>0&&ee.stroke(),yt&&(ee.textBaseline="middle",ee.textAlign="center",ee.fillStyle=Y,ee.fillText(vt,Te+De/2,Ie+xe/2))}:I,E=e.enableLabel,L=E===void 0?ut.enableLabel:E,q=e.label,S=e.labelSkipWidth,B=S===void 0?ut.labelSkipWidth:S,H=e.labelSkipHeight,U=H===void 0?ut.labelSkipHeight:H,se=e.labelTextColor,_=e.colorBy,ae=e.colors,F=e.borderRadius,N=F===void 0?ut.borderRadius:F,G=e.borderWidth,oe=G===void 0?ut.borderWidth:G,ie=e.borderColor,he=e.annotations,Re=he===void 0?ut.annotations:he,ve=e.legendLabel,le=e.tooltipLabel,Le=e.valueFormat,ce=e.isInteractive,fe=ce===void 0?ut.isInteractive:ce,J=e.tooltip,me=J===void 0?ut.tooltip:J,ge=e.onClick,Ce=e.onMouseEnter,We=e.onMouseLeave,Ve=e.legends,Ue=e.pixelRatio,we=Ue===void 0?ut.pixelRatio:Ue,qe=e.canvasRef,Oe=e.enableTotals,je=Oe===void 0?ut.enableTotals:Oe,Ke=e.totalsOffset,$e=Ke===void 0?ut.totalsOffset:Ke,be=h.useRef(null),ye=ke(),Ye=Ot(a,l,o),Me=Ye.margin,Be=Ye.innerWidth,re=Ye.innerHeight,Se=Ye.outerWidth,D=Ye.outerHeight,Q=wo({indexBy:n,label:q,tooltipLabel:le,valueFormat:Le,colors:ae,colorBy:_,borderColor:ie,labelTextColor:se,groupMode:s,layout:u,reverse:d,data:t,keys:i,minValue:f,maxValue:c,margin:Me,width:Be,height:re,padding:y,innerPadding:p,valueScale:g,indexScale:v,enableLabel:L,labelSkipWidth:B,labelSkipHeight:U,legends:Ve,legendLabel:ve,totalsOffset:$e}),de=Q.bars,ze=Q.barsWithValue,He=Q.xScale,Qe=Q.yScale,ft=Q.getLabel,et=Q.getTooltipLabel,rt=Q.getBorderColor,lt=Q.getLabelColor,Ze=Q.shouldRenderBarLabel,ot=Q.legendsWithData,ht=Q.barTotals,st=Ct(),V=st.showTooltipFromEvent,Z=st.hideTooltip,ue=Yd({annotations:yo({data:de,annotations:Re,getPosition:function(ee){return{x:ee.x,y:ee.y}},getDimensions:function(ee){var X=ee.width,pe=ee.height;return{width:X,height:pe,size:Math.max(X,pe)}}})}),te=h.useMemo(function(){return{borderRadius:N,borderWidth:oe,isInteractive:fe,isFocusable:!1,labelSkipWidth:B,labelSkipHeight:U,margin:Me,width:a,height:l,innerWidth:Be,innerHeight:re,bars:de,legendData:ot,enableLabel:L,xScale:He,yScale:Qe,tooltip:me,getTooltipLabel:et,onClick:ge,onMouseEnter:Ce,onMouseLeave:We}},[N,oe,fe,B,U,Me,a,l,Be,re,de,ot,L,He,Qe,me,et,ge,Ce,We]),Je=_t(Le);h.useEffect(function(){var ee,X=(ee=be.current)==null?void 0:ee.getContext("2d");be.current&&X&&(be.current.width=Se*we,be.current.height=D*we,X.scale(we,we),X.fillStyle=ye.background,X.fillRect(0,0,Se,D),X.translate(Me.left,Me.top),W.forEach(function(pe){pe==="grid"?typeof ye.grid.line.strokeWidth=="number"&&ye.grid.line.strokeWidth>0&&(X.lineWidth=ye.grid.line.strokeWidth,X.strokeStyle=ye.grid.line.stroke,A&&un(X,{width:a,height:l,scale:He,axis:"x",values:C}),T&&un(X,{width:a,height:l,scale:Qe,axis:"y",values:$})):pe==="axes"?Hr(X,{xScale:He,yScale:Qe,width:Be,height:re,top:b,right:R,bottom:k,left:w,theme:ye}):pe==="bars"?ze.forEach(function(Pe){P(X,{bar:Pe,borderColor:rt(Pe),borderRadius:N,borderWidth:oe,label:ft(Pe.data),labelColor:lt(Pe),shouldRenderLabel:Ze(Pe)})}):pe==="legends"?ot.forEach(function(Pe){var xe=Pe[0],De=Pe[1];Ri(X,Ee({},xe,{data:De,containerWidth:Be,containerHeight:re,theme:ye}))}):pe==="annotations"?Ud(X,{annotations:ue,theme:ye}):pe==="totals"&&je?function(Pe,xe,De,Te){Te===void 0&&(Te=ut.layout),Pe.fillStyle=De.text.fill,Pe.font="bold "+De.labels.text.fontSize+"px "+De.labels.text.fontFamily,Pe.textBaseline=Te==="vertical"?"alphabetic":"middle",Pe.textAlign=Te==="vertical"?"center":"start",xe.forEach(function(Ie){Pe.fillText(Ie.formattedValue,Ie.x,Ie.y)})}(X,ht,ye,u):typeof pe=="function"&&pe(X,te)}),X.save())},[k,w,R,b,ze,N,oe,ue,A,T,rt,ft,lt,C,$,s,l,re,Be,te,W,u,ot,Me.left,Me.top,D,Se,we,P,He,Qe,d,Ze,ye,a,ht,je,Je]);var Ge=h.useCallback(function(ee){if(de&&be.current){var X=Lt(be.current,ee),pe=X[0],Pe=X[1],xe=kn(de,Me,pe,Pe);xe!==void 0?(V(h.createElement(me,Ee({},xe.data,{color:xe.color,label:xe.label,value:Number(xe.data.value)})),ee),ee.type==="mouseenter"&&(Ce==null||Ce(xe.data,ee))):Z()}},[Z,Me,Ce,de,V,me]),Ne=h.useCallback(function(ee){if(de&&be.current){Z();var X=Lt(be.current,ee),pe=X[0],Pe=X[1],xe=kn(de,Me,pe,Pe);xe&&(We==null||We(xe.data,ee))}},[Z,Me,We,de]),St=h.useCallback(function(ee){if(de&&be.current){var X=Lt(be.current,ee),pe=X[0],Pe=X[1],xe=kn(de,Me,pe,Pe);xe!==void 0&&(ge==null||ge(Ee({},xe.data,{color:xe.color}),ee))}},[Me,ge,de]);return m.jsx("canvas",{ref:function(ee){be.current=ee,qe&&"current"in qe&&(qe.current=ee)},width:Se*we,height:D*we,style:{width:Se,height:D,cursor:fe?"auto":"normal"},onMouseEnter:fe?Ge:void 0,onMouseMove:fe?Ge:void 0,onMouseLeave:fe?Ne:void 0,onClick:fe?St:void 0})},Rc=h.forwardRef(function(e,t){var n=e.isInteractive,i=e.renderWrapper,o=e.theme,a=Nt(e,xc);return m.jsx(on,{isInteractive:n,renderWrapper:i,theme:o,animate:!1,children:m.jsx(kc,Ee({},a,{canvasRef:t}))})}),Dc=function(e){return m.jsx(Gt,{children:function(t){var n=t.width,i=t.height;return m.jsx(yc,Ee({width:n,height:i},e))}})};h.forwardRef(function(e,t){return m.jsx(Gt,{children:function(n){var i=n.width,o=n.height;return m.jsx(Rc,Ee({width:i,height:o},e,{ref:t}))}})});function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gt.apply(this,arguments)}var jo={azimuthalEqualArea:Bl,azimuthalEquidistant:Pl,gnomonic:Il,orthographic:zl,stereographic:Fl,equalEarth:Vl,equirectangular:Yl,mercator:Gl,transverseMercator:Dl,naturalEarth1:_l},yn=function(e){var t=e.width,n=e.height,i=e.projectionType,o=e.projectionScale,a=e.projectionTranslation,l=e.projectionRotation,s=e.fillColor,u=e.borderWidth,d=e.borderColor,f=h.useMemo(function(){return jo[i]().scale(o).translate([t*a[0],n*a[1]]).rotate(l)},[t,n,i,o,a[0],a[1],l[0],l[1],l[2]]),c=h.useMemo(function(){return Xl(f)},[f]),g=h.useMemo(function(){return Hl()}),v=ke(),y=h.useMemo(function(){return typeof u=="function"?u:function(){return u}},[u]),p=xt(d,v),b=h.useMemo(function(){return typeof s=="function"?s:function(){return s}},[s]);return{projection:f,path:c,graticule:g,getBorderWidth:y,getBorderColor:p,getFillColor:b}},Mo=function(e){var t=e.features,n=e.data,i=e.match,o=e.label,a=e.value,l=e.valueFormat,s=e.colors,u=e.unknownColor,d=e.domain,f=h.useMemo(function(){return Mt(i)?i:function(x,k){var j=at(x,i),w=at(k,i);return j&&j===w}},[i]),c=h.useMemo(function(){return Mt(o)?o:function(x){return at(x,o)}},[o]),g=h.useMemo(function(){return Mt(a)?a:function(x){return at(x,a)}},[a]),v=h.useMemo(function(){return l===void 0?function(x){return x}:Mt(l)?l:Yn(l)},[l]),y=h.useMemo(function(){return fs(s).domain(d)},[s,d]),p=h.useMemo(function(){return function(x){return x.value===void 0?u:y(x.value)}},[y,u]),b=h.useMemo(function(){return t.map(function(x){var k=n.find(function(M){return f(x,M)}),j=g(k);if(k){var w=gt({},x,{data:k,value:j,formattedValue:v(j)});return w.color=p(w),w.label=c(w),w}return x})},[t,n,f,g,v,p]),R=Bu({scale:y,valueFormat:v});return{colorScale:y,getFillColor:p,boundFeatures:b,valueFormatter:v,legendData:R}},rn=h.memo(function(e){var t=e.feature;return t.data===void 0?null:m.jsx(fn,{id:t.label,color:t.color,enableChip:!0,value:t.formattedValue})});rn.propTypes={feature:r.object.isRequired},rn.displayName="ChoroplethTooltip";var Oo={features:r.arrayOf(r.shape({id:r.string.isRequired,type:r.oneOf(["Feature"]).isRequired,properties:r.object,geometry:r.object.isRequired})).isRequired,projectionType:r.oneOf(Object.keys(jo)).isRequired,projectionScale:r.number.isRequired,projectionTranslation:r.arrayOf(r.number).isRequired,projectionRotation:r.arrayOf(r.number).isRequired,fillColor:r.oneOfType([r.string,r.func]).isRequired,borderWidth:r.oneOfType([r.number,r.func]).isRequired,borderColor:eu.isRequired,enableGraticule:r.bool.isRequired,graticuleLineWidth:r.number.isRequired,graticuleLineColor:r.string.isRequired,isInteractive:r.bool.isRequired,onMouseEnter:r.func.isRequired,onMouseMove:r.func.isRequired,onMouseLeave:r.func.isRequired,onClick:r.func.isRequired,tooltip:r.any,layers:r.arrayOf(r.oneOfType([r.oneOf(["graticule","features"]),r.func])).isRequired},So=gt({},Oo,{role:r.string.isRequired}),To=gt({pixelRatio:r.number.isRequired},Oo),Lo={data:r.arrayOf(r.object).isRequired,match:r.oneOfType([r.string,r.func]).isRequired,label:r.oneOfType([r.string,r.func]).isRequired,value:r.oneOfType([r.string,r.func]).isRequired,valueFormat:r.oneOfType([r.string,r.func]),colors:hs.isRequired,domain:r.arrayOf(r.number).isRequired,unknownColor:r.string.isRequired,layers:r.arrayOf(r.oneOfType([r.oneOf(["graticule","features","legends"]),r.func])).isRequired},Cc=gt({},So,Lo,{role:r.string.isRequired}),wc=gt({},To,Lo),Wo={projectionType:"mercator",projectionScale:100,projectionTranslation:[.5,.5],projectionRotation:[0,0,0],enableGraticule:!1,graticuleLineWidth:.5,graticuleLineColor:"#999999",fillColor:"#dddddd",borderWidth:0,borderColor:"#000000",isInteractive:!0,onMouseEnter:function(){},onMouseLeave:function(){},onMouseMove:function(){},onClick:function(){},layers:["graticule","features"],legends:[],fill:[],defs:[]},jc=gt({},Wo,{role:"img"}),Mc=gt({},Wo,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),qo={match:"id",label:"id",value:"value",colors:"PuBuGn",unknownColor:"#999",tooltip:rn,layers:["graticule","features","legends"]};gt({},jc,qo,{role:"img"});gt({},Mc,qo);var dn=h.memo(function(e){var t=e.path,n=e.graticule,i=e.lineWidth,o=e.lineColor;return m.jsx("path",{fill:"none",strokeWidth:i,stroke:o,d:t(n())})});dn.propTypes={path:r.func.isRequired,graticule:r.func.isRequired,lineWidth:r.number.isRequired,lineColor:r.string.isRequired},dn.displayName="GeoGraticule";var cn=h.memo(function(e){var t,n=e.feature,i=e.path,o=e.fillColor,a=e.borderWidth,l=e.borderColor,s=e.onClick,u=e.onMouseEnter,d=e.onMouseMove,f=e.onMouseLeave;return m.jsx("path",{fill:(t=n==null?void 0:n.fill)!=null?t:o,strokeWidth:a,stroke:l,strokeLinejoin:"bevel",d:i(n),onMouseEnter:function(c){return u(n,c)},onMouseMove:function(c){return d(n,c)},onMouseLeave:function(c){return f(n,c)},onClick:function(c){return s(n,c)}},n.id)});cn.propTypes={feature:r.shape({id:r.string.isRequired,type:r.oneOf(["Feature"]).isRequired,properties:r.object,geometry:r.object.isRequired}).isRequired,path:r.func.isRequired,fillColor:r.string.isRequired,borderWidth:r.number.isRequired,borderColor:r.string.isRequired,onMouseEnter:r.func.isRequired,onMouseMove:r.func.isRequired,onMouseLeave:r.func.isRequired,onClick:r.func.isRequired},cn.displayName="GeoMapFeature";var Pn=h.memo(function(e){var t=e.width,n=e.height,i=e.margin,o=e.features,a=e.layers,l=a===void 0?["graticule","features"]:a,s=e.projectionType,u=s===void 0?"mercator":s,d=e.projectionScale,f=d===void 0?100:d,c=e.projectionTranslation,g=c===void 0?[.5,.5]:c,v=e.projectionRotation,y=v===void 0?[0,0,0]:v,p=e.fillColor,b=p===void 0?"#dddddd":p,R=e.borderWidth,x=R===void 0?0:R,k=e.borderColor,j=k===void 0?"#000000":k,w=e.enableGraticule,M=w!==void 0&&w,A=e.graticuleLineWidth,O=A===void 0?.5:A,T=e.graticuleLineColor,C=T===void 0?"#999999":T,$=e.isInteractive,z=$===void 0||$,W=e.onClick,I=W===void 0?function(){}:W,P=e.tooltip,E=e.role,L=E===void 0?"img":E,q=Ot(t,n,i),S=q.margin,B=q.outerWidth,H=q.outerHeight,U=yn({width:t,height:n,projectionType:u,projectionScale:f,projectionTranslation:g,projectionRotation:y,fillColor:b,borderWidth:x,borderColor:j}),se=U.graticule,_=U.path,ae=U.getFillColor,F=U.getBorderWidth,N=U.getBorderColor,G=ke(),oe=Ct(),ie=oe.showTooltipFromEvent,he=oe.hideTooltip,Re=h.useCallback(function(ce,fe){return z&&I&&I(ce,fe)},[z,I]),ve=h.useCallback(function(ce,fe){return z&&P&&ie(m.jsx(P,{feature:ce}),fe)},[z,ie,P]),le=h.useCallback(function(ce,fe){return z&&P&&ie(m.jsx(P,{feature:ce}),fe)},[z,ie,P]),Le=h.useCallback(function(){return z&&he()},[z,he]);return m.jsx(Xt,{width:B,height:H,margin:S,theme:G,role:L,children:l.map(function(ce,fe){return ce==="graticule"?M!==!0?null:m.jsx(dn,{path:_,graticule:se,lineWidth:O,lineColor:C},"graticule"):ce==="features"?m.jsx(h.Fragment,{children:o.map(function(J){return m.jsx(cn,{feature:J,path:_,fillColor:ae(J),borderWidth:F(J),borderColor:N(J),onMouseEnter:ve,onMouseMove:le,onMouseLeave:Le,onClick:Re},J.id)})},"features"):m.jsx(h.Fragment,{children:ce(e)},fe)})})});Pn.displayName="GeoMap",Pn.propTypes=So;Ht(Pn);var Hi=function(e,t,n,i){var o=Lt(t,e),a=o[0],l=o[1];return n.find(function(s){return ur(s,i.invert([a,l]))})},In=h.memo(function(e){var t=e.width,n=e.height,i=e.margin,o=e.pixelRatio,a=o===void 0?typeof window<"u"&&window.devicePixelRatio||1:o,l=e.features,s=e.layers,u=e.projectionType,d=u===void 0?"mercator":u,f=e.projectionScale,c=f===void 0?100:f,g=e.projectionTranslation,v=g===void 0?[.5,.5]:g,y=e.projectionRotation,p=y===void 0?[0,0,0]:y,b=e.fillColor,R=b===void 0?"#dddddd":b,x=e.borderWidth,k=x===void 0?0:x,j=e.borderColor,w=j===void 0?"#000000":j,M=e.enableGraticule,A=M!==void 0&&M,O=e.graticuleLineWidth,T=O===void 0?.5:O,C=e.graticuleLineColor,$=C===void 0?"#999999":C,z=e.isInteractive,W=z===void 0||z,I=e.onClick,P=I===void 0?function(){}:I,E=e.onMouseMove,L=E===void 0?function(){}:E,q=e.tooltip,S=h.useRef(null),B=ke(),H=Ot(t,n,i),U=H.margin,se=H.outerWidth,_=H.outerHeight,ae=yn({width:t,height:n,projectionType:d,projectionScale:c,projectionTranslation:v,projectionRotation:p,fillColor:R,borderWidth:k,borderColor:w}),F=ae.projection,N=ae.graticule,G=ae.path,oe=ae.getFillColor,ie=ae.getBorderWidth,he=ae.getBorderColor;h.useEffect(function(){if(S){S.current.width=se*a,S.current.height=_*a;var J=S.current.getContext("2d");J.scale(a,a),J.fillStyle=B.background,J.fillRect(0,0,se,_),J.translate(U.left,U.top),G.context(J),s.forEach(function(me){me==="graticule"?A===!0&&(J.lineWidth=T,J.strokeStyle=$,J.beginPath(),G(N()),J.stroke()):me==="features"?l.forEach(function(ge){J.beginPath(),G(ge),J.fillStyle=oe(ge),J.fill();var Ce=ie(ge);Ce>0&&(J.strokeStyle=he(ge),J.lineWidth=Ce,J.stroke())}):me(J,e)})}},[S,se,_,U,a,B,G,N,oe,ie,he,l,s]);var Re=Ct(),ve=Re.showTooltipFromEvent,le=Re.hideTooltip,Le=h.useCallback(function(J){if(W&&q){var me=Hi(J,S.current,l,F);me?ve(m.jsx(q,{feature:me}),J):le(),L&&L(me||null,J)}},[ve,le,W,q,S,l,F]),ce=h.useCallback(function(){return W&&le()},[W,le]),fe=h.useCallback(function(J){if(W&&P){var me=Hi(J,S.current,l,F);me&&P(me,J)}},[W,S,l,F,P]);return m.jsx("canvas",{ref:S,width:se*a,height:_*a,style:{width:se,height:_,cursor:W?"auto":"normal"},onMouseMove:Le,onMouseLeave:ce,onClick:fe})});In.displatName="GeoMapCanvas",In.propTypes=To;Ht(In);var zn=h.memo(function(e){var t=e.width,n=e.height,i=e.margin,o=e.features,a=e.data,l=e.match,s=l===void 0?"id":l,u=e.label,d=u===void 0?"id":u,f=e.value,c=f===void 0?"value":f,g=e.valueFormat,v=e.projectionType,y=v===void 0?"mercator":v,p=e.projectionScale,b=p===void 0?100:p,R=e.projectionTranslation,x=R===void 0?[.5,.5]:R,k=e.projectionRotation,j=k===void 0?[0,0,0]:k,w=e.colors,M=w===void 0?"PuBuGn":w,A=e.domain,O=e.unknownColor,T=O===void 0?"#999":O,C=e.borderWidth,$=C===void 0?0:C,z=e.borderColor,W=z===void 0?"#000000":z,I=e.enableGraticule,P=I!==void 0&&I,E=e.graticuleLineWidth,L=E===void 0?.5:E,q=e.graticuleLineColor,S=q===void 0?"#999999":q,B=e.layers,H=B===void 0?["graticule","features","legends"]:B,U=e.legends,se=U===void 0?[]:U,_=e.isInteractive,ae=_===void 0||_,F=e.onClick,N=F===void 0?function(){}:F,G=e.tooltip,oe=G===void 0?rn:G,ie=e.role,he=ie===void 0?"img":ie,Re=e.defs,ve=Re===void 0?[]:Re,le=e.fill,Le=le===void 0?[]:le,ce=Ot(t,n,i),fe=ce.margin,J=ce.outerWidth,me=ce.outerHeight,ge=yn({width:t,height:n,projectionType:y,projectionScale:b,projectionTranslation:x,projectionRotation:j,fillColor:function(){},borderWidth:$,borderColor:W}),Ce=ge.graticule,We=ge.path,Ve=ge.getBorderWidth,Ue=ge.getBorderColor,we=Mo({features:o,data:a,match:s,label:d,value:c,valueFormat:g,colors:M,unknownColor:T,domain:A}),qe=we.getFillColor,Oe=we.boundFeatures,je=we.legendData,Ke=ke(),$e=mn(ve,Oe,Le,{dataKey:"data",targetKey:"fill"}),be=Ct(),ye=be.showTooltipFromEvent,Ye=be.hideTooltip,Me=h.useCallback(function(D,Q){return ae&&N&&N(D,Q)},[ae,N]),Be=h.useCallback(function(D,Q){return ae&&oe&&ye(m.jsx(oe,{feature:D}),Q)},[ae,ye,oe]),re=h.useCallback(function(D,Q){return ae&&oe&&ye(m.jsx(oe,{feature:D}),Q)},[ae,ye,oe]),Se=h.useCallback(function(){return ae&&Ye()},[ae,Ye]);return m.jsx(Xt,{width:J,height:me,margin:fe,theme:Ke,defs:$e,role:he,children:H.map(function(D,Q){return D==="graticule"?P!==!0?null:m.jsx(dn,{path:We,graticule:Ce,lineWidth:L,lineColor:S},"graticule"):D==="features"?m.jsx(h.Fragment,{children:Oe.map(function(de){return m.jsx(cn,{feature:de,path:We,fillColor:qe(de),borderWidth:Ve(de),borderColor:Ue(de),onMouseEnter:Be,onMouseMove:re,onMouseLeave:Se,onClick:Me},de.id)})},"features"):D==="legends"?se.map(function(de,ze){return m.jsx(vn,gt({containerWidth:t,containerHeight:n,data:je},de),ze)}):m.jsx(h.Fragment,{children:D({})},Q)})})});zn.displayName="Choropleth",zn.propTypes=Cc;var Oc=Ht(zn),_c=function(e){return m.jsx(Gt,{children:function(t){var n=t.width,i=t.height;return m.jsx(Oc,gt({width:n,height:i},e))}})},Ni=function(e,t,n,i){var o=Lt(t,e),a=o[0],l=o[1];return n.find(function(s){return ur(s,i.invert([a,l]))})},Fn=h.memo(function(e){var t=e.width,n=e.height,i=e.margin,o=e.pixelRatio,a=o===void 0?typeof window<"u"&&window.devicePixelRatio||1:o,l=e.features,s=e.data,u=e.match,d=u===void 0?"id":u,f=e.label,c=f===void 0?"id":f,g=e.value,v=g===void 0?"value":g,y=e.valueFormat,p=e.projectionType,b=p===void 0?"mercator":p,R=e.projectionScale,x=R===void 0?100:R,k=e.projectionTranslation,j=k===void 0?[.5,.5]:k,w=e.projectionRotation,M=w===void 0?[0,0,0]:w,A=e.colors,O=A===void 0?"PuBuGn":A,T=e.domain,C=e.unknownColor,$=C===void 0?"#999":C,z=e.borderWidth,W=z===void 0?0:z,I=e.borderColor,P=I===void 0?"#000000":I,E=e.enableGraticule,L=E!==void 0&&E,q=e.graticuleLineWidth,S=q===void 0?.5:q,B=e.graticuleLineColor,H=B===void 0?"#999999":B,U=e.layers,se=U===void 0?["graticule","features","legends"]:U,_=e.legends,ae=_===void 0?[]:_,F=e.isInteractive,N=F===void 0||F,G=e.onClick,oe=G===void 0?function(){}:G,ie=e.onMouseMove,he=ie===void 0?function(){}:ie,Re=e.tooltip,ve=Re===void 0?rn:Re,le=h.useRef(null),Le=ke(),ce=Ot(t,n,i),fe=ce.margin,J=ce.outerWidth,me=ce.outerHeight,ge=yn({width:t,height:n,projectionType:b,projectionScale:x,projectionTranslation:j,projectionRotation:M,fillColor:function(){},borderWidth:W,borderColor:P}),Ce=ge.projection,We=ge.graticule,Ve=ge.path,Ue=ge.getBorderWidth,we=ge.getBorderColor,qe=Mo({features:l,data:s,match:d,label:c,value:v,valueFormat:y,colors:O,unknownColor:$,domain:T}),Oe=qe.getFillColor,je=qe.boundFeatures,Ke=qe.legendData;h.useEffect(function(){if(le){le.current.width=J*a,le.current.height=me*a;var re=le.current.getContext("2d");re.scale(a,a),re.fillStyle=Le.background,re.fillRect(0,0,J,me),re.translate(fe.left,fe.top),Ve.context(re),se.forEach(function(Se){Se==="graticule"?L===!0&&(re.lineWidth=S,re.strokeStyle=H,re.beginPath(),Ve(We()),re.stroke()):Se==="features"?je.forEach(function(D){re.beginPath(),Ve(D),re.fillStyle=Oe(D),re.fill();var Q=Ue(D);Q>0&&(re.strokeStyle=we(D),re.lineWidth=Q,re.stroke())}):Se==="legends"&&ae.forEach(function(D){Ri(re,gt({},D,{data:Ke,containerWidth:t,containerHeight:n,theme:Le}))})})}},[le,J,me,fe,a,Le,Ve,We,Oe,Ue,we,je,ae,se]);var $e=Ct(),be=$e.showTooltipFromEvent,ye=$e.hideTooltip,Ye=h.useCallback(function(re){if(N&&ve){var Se=Ni(re,le.current,je,Ce);Se?be(m.jsx(ve,{feature:Se}),re):ye(),he&&he(Se||null,re)}},[be,ye,N,ve,le,je,Ce]),Me=h.useCallback(function(){return N&&ye()},[N,ye]),Be=h.useCallback(function(re){if(N&&oe){var Se=Ni(re,le.current,je,Ce);Se&&oe(Se,re)}},[N,le,je,Ce,oe]);return m.jsx("canvas",{ref:le,width:J*a,height:me*a,style:{width:J,height:me,cursor:N?"auto":"normal"},onMouseMove:Ye,onMouseLeave:Me,onClick:Be})});Fn.displayName="ChoroplethCanvas",Fn.propTypes=wc;Ht(Fn);export{Dc as R,Gc as _,Yc as j,_c as p};
