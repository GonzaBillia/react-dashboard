import{d as rr}from"./deepmerge-DhIoniG1.js";import{c as G,i as yr,t as mr,a as Sr}from"./lodash-es-dVqQl90_.js";import{r as c}from"./react-CAnzuRs3.js";import{i as D}from"./react-fast-compare-isLxfaGe.js";import"./hoist-non-react-statics-DQogQWOa.js";function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},m.apply(this,arguments)}function Tr(e,t){if(e==null)return{};var a={},i=Object.keys(e),u,s;for(s=0;s<i.length;s++)u=i[s],!(t.indexOf(u)>=0)&&(a[u]=e[u]);return a}var j=c.createContext(void 0);j.displayName="FormikContext";var Br=j.Provider;j.Consumer;function Hr(){var e=c.useContext(j);return e}var b=function(t){return typeof t=="function"},K=function(t){return t!==null&&typeof t=="object"},Pr=function(t){return String(Math.floor(Number(t)))===t},Z=function(t){return Object.prototype.toString.call(t)==="[object String]"},Gr=function(t){return c.Children.count(t)===0},x=function(t){return K(t)&&b(t.then)};function T(e,t,a,i){i===void 0&&(i=0);for(var u=mr(t);e&&i<u.length;)e=e[u[i++]];return i!==u.length&&!e||e===void 0?a:e}function O(e,t,a){for(var i=Sr(e),u=i,s=0,v=mr(t);s<v.length-1;s++){var y=v[s],F=T(e,v.slice(0,s+1));if(F&&(K(F)||Array.isArray(F)))u=u[y]=Sr(F);else{var A=v[s+1];u=u[y]=Pr(A)&&Number(A)>=0?[]:{}}}return(s===0?e:u)[v[s]]===a?e:(a===void 0?delete u[v[s]]:u[v[s]]=a,s===0&&a===void 0&&delete i[v[s]],i)}function Ir(e,t,a,i){a===void 0&&(a=new WeakMap),i===void 0&&(i={});for(var u=0,s=Object.keys(e);u<s.length;u++){var v=s[u],y=e[v];K(y)?a.get(y)||(a.set(y,!0),i[v]=Array.isArray(y)?[]:{},Ir(y,t,a,i[v])):i[v]=t}return i}function Wr(e,t){switch(t.type){case"SET_VALUES":return m({},e,{values:t.payload});case"SET_TOUCHED":return m({},e,{touched:t.payload});case"SET_ERRORS":return D(e.errors,t.payload)?e:m({},e,{errors:t.payload});case"SET_STATUS":return m({},e,{status:t.payload});case"SET_ISSUBMITTING":return m({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return m({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return m({},e,{values:O(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return m({},e,{touched:O(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return m({},e,{errors:O(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return m({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return m({},e,{touched:Ir(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return m({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return m({},e,{isSubmitting:!1});default:return e}}var k={},W={};function jr(e){var t=e.validateOnChange,a=t===void 0?!0:t,i=e.validateOnBlur,u=i===void 0?!0:i,s=e.validateOnMount,v=s===void 0?!1:s,y=e.isInitialValid,F=e.enableReinitialize,A=F===void 0?!1:F,tr=e.onSubmit,br=Tr(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=m({validateOnChange:a,validateOnBlur:u,validateOnMount:v,onSubmit:tr},br),R=c.useRef(f.initialValues),V=c.useRef(f.initialErrors||k),M=c.useRef(f.initialTouched||W),w=c.useRef(f.initialStatus),g=c.useRef(!1),L=c.useRef({});c.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var Ar=c.useState(0),Rr=Ar[1],H=c.useRef({values:G(f.initialValues),errors:G(f.initialErrors)||k,touched:G(f.initialTouched)||W,status:G(f.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),p=H.current,E=c.useCallback(function(r){var n=H.current;H.current=Wr(n,r),n!==H.current&&Rr(function(o){return o+1})},[]),ir=c.useCallback(function(r,n){return new Promise(function(o,l){var d=f.validate(r,n);d==null?o(k):x(d)?d.then(function(h){o(h||k)},function(h){l(h)}):o(d)})},[f.validate]),$=c.useCallback(function(r,n){var o=f.validationSchema,l=b(o)?o(n):o,d=n&&l.validateAt?l.validateAt(n,r):$r(r,l);return new Promise(function(h,S){d.then(function(){h(k)},function(_){_.name==="ValidationError"?h(Kr(_)):S(_)})})},[f.validationSchema]),nr=c.useCallback(function(r,n){return new Promise(function(o){return o(L.current[r].validate(n))})},[]),ar=c.useCallback(function(r){var n=Object.keys(L.current).filter(function(l){return b(L.current[l].validate)}),o=n.length>0?n.map(function(l){return nr(l,T(r,l))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(o).then(function(l){return l.reduce(function(d,h,S){return h==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||h&&(d=O(d,n[S],h)),d},{})})},[nr]),gr=c.useCallback(function(r){return Promise.all([ar(r),f.validationSchema?$(r):{},f.validate?ir(r):{}]).then(function(n){var o=n[0],l=n[1],d=n[2],h=rr.all([o,l,d],{arrayMerge:zr});return h})},[f.validate,f.validationSchema,ar,ir,$]),C=I(function(r){return r===void 0&&(r=p.values),E({type:"SET_ISVALIDATING",payload:!0}),gr(r).then(function(n){return g.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:n})),n})});c.useEffect(function(){v&&g.current===!0&&D(R.current,f.initialValues)&&C(R.current)},[v,C]);var B=c.useCallback(function(r){var n=r&&r.values?r.values:R.current,o=r&&r.errors?r.errors:V.current?V.current:f.initialErrors||{},l=r&&r.touched?r.touched:M.current?M.current:f.initialTouched||{},d=r&&r.status?r.status:w.current?w.current:f.initialStatus;R.current=n,V.current=o,M.current=l,w.current=d;var h=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!r&&!!r.isSubmitting,errors:o,touched:l,status:d,values:n,isValidating:!!r&&!!r.isValidating,submitCount:r&&r.submitCount&&typeof r.submitCount=="number"?r.submitCount:0}})};if(f.onReset){var S=f.onReset(p.values,Er);x(S)?S.then(h):h()}else h()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);c.useEffect(function(){g.current===!0&&!D(R.current,f.initialValues)&&A&&(R.current=f.initialValues,B(),v&&C(R.current))},[A,f.initialValues,B,v,C]),c.useEffect(function(){A&&g.current===!0&&!D(V.current,f.initialErrors)&&(V.current=f.initialErrors||k,E({type:"SET_ERRORS",payload:f.initialErrors||k}))},[A,f.initialErrors]),c.useEffect(function(){A&&g.current===!0&&!D(M.current,f.initialTouched)&&(M.current=f.initialTouched||W,E({type:"SET_TOUCHED",payload:f.initialTouched||W}))},[A,f.initialTouched]),c.useEffect(function(){A&&g.current===!0&&!D(w.current,f.initialStatus)&&(w.current=f.initialStatus,E({type:"SET_STATUS",payload:f.initialStatus}))},[A,f.initialStatus,f.initialTouched]);var ur=I(function(r){if(L.current[r]&&b(L.current[r].validate)){var n=T(p.values,r),o=L.current[r].validate(n);return x(o)?(E({type:"SET_ISVALIDATING",payload:!0}),o.then(function(l){return l}).then(function(l){E({type:"SET_FIELD_ERROR",payload:{field:r,value:l}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:r,value:o}}),Promise.resolve(o))}else if(f.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),$(p.values,r).then(function(l){return l}).then(function(l){E({type:"SET_FIELD_ERROR",payload:{field:r,value:T(l,r)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Cr=c.useCallback(function(r,n){var o=n.validate;L.current[r]={validate:o}},[]),Fr=c.useCallback(function(r){delete L.current[r]},[]),or=I(function(r,n){E({type:"SET_TOUCHED",payload:r});var o=n===void 0?u:n;return o?C(p.values):Promise.resolve()}),lr=c.useCallback(function(r){E({type:"SET_ERRORS",payload:r})},[]),cr=I(function(r,n){var o=b(r)?r(p.values):r;E({type:"SET_VALUES",payload:o});var l=n===void 0?a:n;return l?C(o):Promise.resolve()}),P=c.useCallback(function(r,n){E({type:"SET_FIELD_ERROR",payload:{field:r,value:n}})},[]),U=I(function(r,n,o){E({type:"SET_FIELD_VALUE",payload:{field:r,value:n}});var l=o===void 0?a:o;return l?C(O(p.values,r,n)):Promise.resolve()}),sr=c.useCallback(function(r,n){var o=n,l=r,d;if(!Z(r)){r.persist&&r.persist();var h=r.target?r.target:r.currentTarget,S=h.type,_=h.name,Q=h.id,X=h.value,Ur=h.checked,Xr=h.outerHTML,pr=h.options,Nr=h.multiple;o=n||_||Q,l=/number|range/.test(S)?(d=parseFloat(X),isNaN(d)?"":d):/checkbox/.test(S)?qr(T(p.values,o),Ur,X):pr&&Nr?Yr(pr):X}o&&U(o,l)},[U,p.values]),z=I(function(r){if(Z(r))return function(n){return sr(n,r)};sr(r)}),N=I(function(r,n,o){n===void 0&&(n=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:r,value:n}});var l=o===void 0?u:o;return l?C(p.values):Promise.resolve()}),fr=c.useCallback(function(r,n){r.persist&&r.persist();var o=r.target,l=o.name,d=o.id,h=o.outerHTML,S=n||l||d;N(S,!0)},[N]),Y=I(function(r){if(Z(r))return function(n){return fr(n,r)};fr(r)}),dr=c.useCallback(function(r){b(r)?E({type:"SET_FORMIK_STATE",payload:r}):E({type:"SET_FORMIK_STATE",payload:function(){return r}})},[]),vr=c.useCallback(function(r){E({type:"SET_STATUS",payload:r})},[]),hr=c.useCallback(function(r){E({type:"SET_ISSUBMITTING",payload:r})},[]),q=I(function(){return E({type:"SUBMIT_ATTEMPT"}),C().then(function(r){var n=r instanceof Error,o=!n&&Object.keys(r).length===0;if(o){var l;try{if(l=Lr(),l===void 0)return}catch(d){throw d}return Promise.resolve(l).then(function(d){return g.current&&E({type:"SUBMIT_SUCCESS"}),d}).catch(function(d){if(g.current)throw E({type:"SUBMIT_FAILURE"}),d})}else if(g.current&&(E({type:"SUBMIT_FAILURE"}),n))throw r})}),_r=I(function(r){r&&r.preventDefault&&b(r.preventDefault)&&r.preventDefault(),r&&r.stopPropagation&&b(r.stopPropagation)&&r.stopPropagation(),q().catch(function(n){console.warn("Warning: An unhandled error was caught from submitForm()",n)})}),Er={resetForm:B,validateForm:C,validateField:ur,setErrors:lr,setFieldError:P,setFieldTouched:N,setFieldValue:U,setStatus:vr,setSubmitting:hr,setTouched:or,setValues:cr,setFormikState:dr,submitForm:q},Lr=I(function(){return tr(p.values,Er)}),Vr=I(function(r){r&&r.preventDefault&&b(r.preventDefault)&&r.preventDefault(),r&&r.stopPropagation&&b(r.stopPropagation)&&r.stopPropagation(),B()}),Mr=c.useCallback(function(r){return{value:T(p.values,r),error:T(p.errors,r),touched:!!T(p.touched,r),initialValue:T(R.current,r),initialTouched:!!T(M.current,r),initialError:T(V.current,r)}},[p.errors,p.touched,p.values]),kr=c.useCallback(function(r){return{setValue:function(o,l){return U(r,o,l)},setTouched:function(o,l){return N(r,o,l)},setError:function(o){return P(r,o)}}},[U,N,P]),Dr=c.useCallback(function(r){var n=K(r),o=n?r.name:r,l=T(p.values,o),d={name:o,value:l,onChange:z,onBlur:Y};if(n){var h=r.type,S=r.value,_=r.as,Q=r.multiple;h==="checkbox"?S===void 0?d.checked=!!l:(d.checked=!!(Array.isArray(l)&&~l.indexOf(S)),d.value=S):h==="radio"?(d.checked=l===S,d.value=S):_==="select"&&Q&&(d.value=d.value||[],d.multiple=!0)}return d},[Y,z,p.values]),J=c.useMemo(function(){return!D(R.current,p.values)},[R.current,p.values]),Or=c.useMemo(function(){return typeof y<"u"?J?p.errors&&Object.keys(p.errors).length===0:y!==!1&&b(y)?y(f):y:p.errors&&Object.keys(p.errors).length===0},[y,J,p.errors,f]),wr=m({},p,{initialValues:R.current,initialErrors:V.current,initialTouched:M.current,initialStatus:w.current,handleBlur:Y,handleChange:z,handleReset:Vr,handleSubmit:_r,resetForm:B,setErrors:lr,setFormikState:dr,setFieldTouched:N,setFieldValue:U,setFieldError:P,setStatus:vr,setSubmitting:hr,setTouched:or,setValues:cr,submitForm:q,validateForm:C,validateField:ur,isValid:Or,dirty:J,unregisterField:Fr,registerField:Cr,getFieldProps:Dr,getFieldMeta:Mr,getFieldHelpers:kr,validateOnBlur:u,validateOnChange:a,validateOnMount:v});return wr}function ie(e){var t=jr(e),a=e.component,i=e.children,u=e.render,s=e.innerRef;return c.useImperativeHandle(s,function(){return t}),c.createElement(Br,{value:t},a?c.createElement(a,t):u?u(t):i?b(i)?i(t):Gr(i)?null:c.Children.only(i):null)}function Kr(e){var t={};if(e.inner){if(e.inner.length===0)return O(t,e.path,e.message);for(var u=e.inner,a=Array.isArray(u),i=0,u=a?u:u[Symbol.iterator]();;){var s;if(a){if(i>=u.length)break;s=u[i++]}else{if(i=u.next(),i.done)break;s=i.value}var v=s;T(t,v.path)||(t=O(t,v.path,v.message))}}return t}function $r(e,t,a,i){a===void 0&&(a=!1);var u=er(e);return t[a?"validateSync":"validate"](u,{abortEarly:!1,context:u})}function er(e){var t=Array.isArray(e)?[]:{};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=String(a);Array.isArray(e[i])===!0?t[i]=e[i].map(function(u){return Array.isArray(u)===!0||yr(u)?er(u):u!==""?u:void 0}):yr(e[i])?t[i]=er(e[i]):t[i]=e[i]!==""?e[i]:void 0}return t}function zr(e,t,a){var i=e.slice();return t.forEach(function(s,v){if(typeof i[v]>"u"){var y=a.clone!==!1,F=y&&a.isMergeableObject(s);i[v]=F?rr(Array.isArray(s)?[]:{},s,a):s}else a.isMergeableObject(s)?i[v]=rr(e[v],s,a):e.indexOf(s)===-1&&i.push(s)}),i}function Yr(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function qr(e,t,a){if(typeof e=="boolean")return!!t;var i=[],u=!1,s=-1;if(Array.isArray(e))i=e,s=e.indexOf(a),u=s>=0;else if(!a||a=="true"||a=="false")return!!t;return t&&a&&!u?i.concat(a):u?i.slice(0,s).concat(i.slice(s+1)):i}var Jr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect;function I(e){var t=c.useRef(e);return Jr(function(){t.current=e}),c.useCallback(function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return t.current.apply(void 0,i)},[])}var Qr=c.forwardRef(function(e,t){var a=e.action,i=Tr(e,["action"]),u=a??"#",s=Hr(),v=s.handleReset,y=s.handleSubmit;return c.createElement("form",m({onSubmit:y,ref:t,onReset:v,action:u},i))});Qr.displayName="Form";export{ie as F};
