import{m as Jt,r as fn}from"./d3-array-BweefaKS.js";function mn(){return new Cn}function Cn(){this.reset()}Cn.prototype={constructor:Cn,reset:function(){this.s=this.t=0},add:function(n){wt(zn,n,this.t),wt(this,zn.s,this.s),this.s?this.t+=zn.t:this.s=zn.t},valueOf:function(){return this.s}};var zn=new Cn;function wt(n,t,r){var i=n.s=t+r,e=i-t,u=i-e;n.t=t-u+(r-e)}var N=1e-6,Kt=1e-12,z=Math.PI,Z=z/2,Pt=z/4,W=z*2,H=180/z,X=z/180,D=Math.abs,Nn=Math.atan,en=Math.atan2,$=Math.cos,$n=Math.ceil,Qt=Math.exp,Ut=Math.log,L=Math.sin,Ni=Math.sign||function(n){return n>0?1:n<0?-1:0},Q=Math.sqrt,Vt=Math.tan;function _t(n){return n>1?0:n<-1?z:Math.acos(n)}function _(n){return n>1?Z:n<-1?-Z:Math.asin(n)}function x(){}function On(n,t){n&&mt.hasOwnProperty(n.type)&&mt[n.type](n,t)}var Rt={Feature:function(n,t){On(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)On(r[i].geometry,t)}},mt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){jn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)jn(r[i],t,0)},Polygon:function(n,t){Nt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)Nt(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)On(r[i],t)}};function jn(n,t,r){var i=-1,e=n.length-r,u;for(t.lineStart();++i<e;)u=n[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function Nt(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)jn(n[r],t,1);t.polygonEnd()}function rn(n,t){n&&Rt.hasOwnProperty(n.type)?Rt[n.type](n,t):On(n,t)}function bn(n){return[en(n[1],n[0]),_(n[2])]}function cn(n){var t=n[0],r=n[1],i=$(r);return[i*$(t),i*L(t),L(r)]}function In(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function xn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Qn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Tn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function nt(n){var t=Q(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function tt(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function it(n,t){return[D(n)>z?n+Math.round(-n/W)*W:n,t]}it.invert=it;function kt(n,t,r){return(n%=W)?t||r?tt(At(n),zt(t,r)):At(n):t||r?zt(t,r):it}function Lt(n){return function(t,r){return t+=n,[t>z?t-W:t<-z?t+W:t,r]}}function At(n){var t=Lt(n);return t.invert=Lt(-n),t}function zt(n,t){var r=$(n),i=L(n),e=$(t),u=L(t);function l(a,S){var g=$(S),o=$(a)*g,f=L(a)*g,c=L(S),h=c*r+o*i;return[en(f*e-h*u,o*r-c*i),_(h*e+f*u)]}return l.invert=function(a,S){var g=$(S),o=$(a)*g,f=L(a)*g,c=L(S),h=c*e-f*u;return[en(f*e+c*u,o*r+h*i),_(h*r-o*i)]},l}function Li(n){n=kt(n[0]*X,n[1]*X,n.length>2?n[2]*X:0);function t(r){return r=n(r[0]*X,r[1]*X),r[0]*=H,r[1]*=H,r}return t.invert=function(r){return r=n.invert(r[0]*X,r[1]*X),r[0]*=H,r[1]*=H,r},t}function Ai(n,t,r,i,e,u){if(r){var l=$(t),a=L(t),S=i*r;e==null?(e=t+i*W,u=t-S/2):(e=$t(l,e),u=$t(l,u),(i>0?e<u:e>u)&&(e+=i*W));for(var g,o=e;i>0?o>u:o<u;o-=S)g=bn([l,-a*$(o),-a*L(o)]),n.point(g[0],g[1])}}function $t(n,t){t=cn(t),t[0]-=n,nt(t);var r=_t(-t[1]);return((-t[2]<0?-r:r)+W-N)%W}function jt(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:x,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Dn(n,t){return D(n[0]-t[0])<N&&D(n[1]-t[1])<N}function Fn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function bt(n,t,r,i,e){var u=[],l=[],a,S;if(n.forEach(function(p){if(!((w=p.length-1)<=0)){var w,d=p[0],E=p[w],y;if(Dn(d,E)){if(!d[2]&&!E[2]){for(e.lineStart(),a=0;a<w;++a)e.point((d=p[a])[0],d[1]);e.lineEnd();return}E[0]+=2*N}u.push(y=new Fn(d,p,null,!0)),l.push(y.o=new Fn(d,null,y,!1)),u.push(y=new Fn(E,p,null,!1)),l.push(y.o=new Fn(E,null,y,!0))}}),!!u.length){for(l.sort(t),It(u),It(l),a=0,S=l.length;a<S;++a)l[a].e=r=!r;for(var g=u[0],o,f;;){for(var c=g,h=!0;c.v;)if((c=c.n)===g)return;o=c.z,e.lineStart();do{if(c.v=c.o.v=!0,c.e){if(h)for(a=0,S=o.length;a<S;++a)e.point((f=o[a])[0],f[1]);else i(c.x,c.n.x,1,e);c=c.n}else{if(h)for(o=c.p.z,a=o.length-1;a>=0;--a)e.point((f=o[a])[0],f[1]);else i(c.x,c.p.x,-1,e);c=c.p}c=c.o,o=c.z,h=!h}while(!c.v);e.lineEnd()}}}function It(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}var Un=mn();function Vn(n){return D(n[0])<=z?n[0]:Ni(n[0])*((D(n[0])+z)%W-z)}function ni(n,t){var r=Vn(t),i=t[1],e=L(i),u=[L(r),-$(r),0],l=0,a=0;Un.reset(),e===1?i=Z+N:e===-1&&(i=-Z-N);for(var S=0,g=n.length;S<g;++S)if(f=(o=n[S]).length)for(var o,f,c=o[f-1],h=Vn(c),p=c[1]/2+Pt,w=L(p),d=$(p),E=0;E<f;++E,h=v,w=R,d=m,c=y){var y=o[E],v=Vn(y),M=y[1]/2+Pt,R=L(M),m=$(M),I=v-h,F=I>=0?1:-1,T=F*I,Y=T>z,P=w*R;if(Un.add(en(P*F*L(T),d*m+P*$(T))),l+=Y?I+F*W:I,Y^h>=r^v>=r){var G=xn(cn(c),cn(y));nt(G);var C=xn(u,G);nt(C);var q=(Y^I>=0?-1:1)*_(C[2]);(i>q||i===q&&(G[0]||G[1]))&&(a+=Y^I>=0?1:-1)}}return(l<-N||l<N&&Un<-N)^a&1}function ti(n,t,r,i){return function(e){var u=t(e),l=jt(),a=t(l),S=!1,g,o,f,c={point:h,lineStart:w,lineEnd:d,polygonStart:function(){c.point=E,c.lineStart=y,c.lineEnd=v,o=[],g=[]},polygonEnd:function(){c.point=h,c.lineStart=w,c.lineEnd=d,o=Jt(o);var M=ni(g,i);o.length?(S||(e.polygonStart(),S=!0),bt(o,$i,M,r,e)):M&&(S||(e.polygonStart(),S=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),S&&(e.polygonEnd(),S=!1),o=g=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function h(M,R){n(M,R)&&e.point(M,R)}function p(M,R){u.point(M,R)}function w(){c.point=p,u.lineStart()}function d(){c.point=h,u.lineEnd()}function E(M,R){f.push([M,R]),a.point(M,R)}function y(){a.lineStart(),f=[]}function v(){E(f[0][0],f[0][1]),a.lineEnd();var M=a.clean(),R=l.result(),m,I=R.length,F,T,Y;if(f.pop(),g.push(f),f=null,!!I){if(M&1){if(T=R[0],(F=T.length-1)>0){for(S||(e.polygonStart(),S=!0),e.lineStart(),m=0;m<F;++m)e.point((Y=T[m])[0],Y[1]);e.lineEnd()}return}I>1&&M&2&&R.push(R.pop().concat(R.shift())),o.push(R.filter(zi))}}return c}}function zi(n){return n.length>1}function $i(n,t){return((n=n.x)[0]<0?n[1]-Z-N:Z-n[1])-((t=t.x)[0]<0?t[1]-Z-N:Z-t[1])}const Tt=ti(function(){return!0},Ii,Fi,[-z,-Z]);function Ii(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(u,l){var a=u>0?z:-z,S=D(u-t);D(S-z)<N?(n.point(t,r=(r+l)/2>0?Z:-Z),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(u,r),e=0):i!==a&&S>=z&&(D(t-i)<N&&(t-=i*N),D(u-a)<N&&(u-=a*N),r=Ti(t,r,u,l),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),e=0),n.point(t=u,r=l),i=a},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function Ti(n,t,r,i){var e,u,l=L(n-r);return D(l)>N?Nn((L(t)*(u=$(i))*L(r)-L(i)*(e=$(t))*L(n))/(e*u*l)):(t+i)/2}function Fi(n,t,r,i){var e;if(n==null)e=r*Z,i.point(-z,e),i.point(0,e),i.point(z,e),i.point(z,0),i.point(z,-e),i.point(0,-e),i.point(-z,-e),i.point(-z,0),i.point(-z,e);else if(D(n[0]-t[0])>N){var u=n[0]<t[0]?z:-z;e=r*u/2,i.point(-u,e),i.point(0,e),i.point(u,e)}else i.point(t[0],t[1])}function qi(n){var t=$(n),r=6*X,i=t>0,e=D(t)>N;function u(o,f,c,h){Ai(h,n,r,c,o,f)}function l(o,f){return $(o)*$(f)>t}function a(o){var f,c,h,p,w;return{lineStart:function(){p=h=!1,w=1},point:function(d,E){var y=[d,E],v,M=l(d,E),R=i?M?0:g(d,E):M?g(d+(d<0?z:-z),E):0;if(!f&&(p=h=M)&&o.lineStart(),M!==h&&(v=S(f,y),(!v||Dn(f,v)||Dn(y,v))&&(y[2]=1)),M!==h)w=0,M?(o.lineStart(),v=S(y,f),o.point(v[0],v[1])):(v=S(f,y),o.point(v[0],v[1],2),o.lineEnd()),f=v;else if(e&&f&&i^M){var m;!(R&c)&&(m=S(y,f,!0))&&(w=0,i?(o.lineStart(),o.point(m[0][0],m[0][1]),o.point(m[1][0],m[1][1]),o.lineEnd()):(o.point(m[1][0],m[1][1]),o.lineEnd(),o.lineStart(),o.point(m[0][0],m[0][1],3)))}M&&(!f||!Dn(f,y))&&o.point(y[0],y[1]),f=y,h=M,c=R},lineEnd:function(){h&&o.lineEnd(),f=null},clean:function(){return w|(p&&h)<<1}}}function S(o,f,c){var h=cn(o),p=cn(f),w=[1,0,0],d=xn(h,p),E=In(d,d),y=d[0],v=E-y*y;if(!v)return!c&&o;var M=t*E/v,R=-t*y/v,m=xn(w,d),I=Tn(w,M),F=Tn(d,R);Qn(I,F);var T=m,Y=In(I,T),P=In(T,T),G=Y*Y-P*(In(I,I)-1);if(!(G<0)){var C=Q(G),q=Tn(T,(-Y-C)/P);if(Qn(q,I),q=bn(q),!c)return q;var s=o[0],A=f[0],O=o[1],B=f[1],J;A<s&&(J=s,s=A,A=J);var pn=A-s,k=D(pn-z)<N,tn=k||pn<N;if(!k&&B<O&&(J=O,O=B,B=J),tn?k?O+B>0^q[1]<(D(q[0]-s)<N?O:B):O<=q[1]&&q[1]<=B:pn>z^(s<=q[0]&&q[0]<=A)){var j=Tn(T,(-Y+C)/P);return Qn(j,I),[q,bn(j)]}}}function g(o,f){var c=i?n:z-n,h=0;return o<-c?h|=1:o>c&&(h|=2),f<-c?h|=4:f>c&&(h|=8),h}return ti(l,a,u,i?[0,-n]:[-z,n-z])}function Di(n,t,r,i,e,u){var l=n[0],a=n[1],S=t[0],g=t[1],o=0,f=1,c=S-l,h=g-a,p;if(p=r-l,!(!c&&p>0)){if(p/=c,c<0){if(p<o)return;p<f&&(f=p)}else if(c>0){if(p>f)return;p>o&&(o=p)}if(p=e-l,!(!c&&p<0)){if(p/=c,c<0){if(p>f)return;p>o&&(o=p)}else if(c>0){if(p<o)return;p<f&&(f=p)}if(p=i-a,!(!h&&p>0)){if(p/=h,h<0){if(p<o)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>o&&(o=p)}if(p=u-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>o&&(o=p)}else if(h>0){if(p<o)return;p<f&&(f=p)}return o>0&&(n[0]=l+o*c,n[1]=a+o*h),f<1&&(t[0]=l+f*c,t[1]=a+f*h),!0}}}}}var hn=1e9,qn=-hn;function Xi(n,t,r,i){function e(g,o){return n<=g&&g<=r&&t<=o&&o<=i}function u(g,o,f,c){var h=0,p=0;if(g==null||(h=l(g,f))!==(p=l(o,f))||S(g,o)<0^f>0)do c.point(h===0||h===3?n:r,h>1?i:t);while((h=(h+f+4)%4)!==p);else c.point(o[0],o[1])}function l(g,o){return D(g[0]-n)<N?o>0?0:3:D(g[0]-r)<N?o>0?2:1:D(g[1]-t)<N?o>0?1:0:o>0?3:2}function a(g,o){return S(g.x,o.x)}function S(g,o){var f=l(g,1),c=l(o,1);return f!==c?f-c:f===0?o[1]-g[1]:f===1?g[0]-o[0]:f===2?g[1]-o[1]:o[0]-g[0]}return function(g){var o=g,f=jt(),c,h,p,w,d,E,y,v,M,R,m,I={point:F,lineStart:G,lineEnd:C,polygonStart:Y,polygonEnd:P};function F(s,A){e(s,A)&&o.point(s,A)}function T(){for(var s=0,A=0,O=h.length;A<O;++A)for(var B=h[A],J=1,pn=B.length,k=B[0],tn,j,An=k[0],on=k[1];J<pn;++J)tn=An,j=on,k=B[J],An=k[0],on=k[1],j<=i?on>i&&(An-tn)*(i-j)>(on-j)*(n-tn)&&++s:on<=i&&(An-tn)*(i-j)<(on-j)*(n-tn)&&--s;return s}function Y(){o=f,c=[],h=[],m=!0}function P(){var s=T(),A=m&&s,O=(c=Jt(c)).length;(A||O)&&(g.polygonStart(),A&&(g.lineStart(),u(null,null,1,g),g.lineEnd()),O&&bt(c,a,s,u,g),g.polygonEnd()),o=g,c=h=p=null}function G(){I.point=q,h&&h.push(p=[]),R=!0,M=!1,y=v=NaN}function C(){c&&(q(w,d),E&&M&&f.rejoin(),c.push(f.result())),I.point=F,M&&o.lineEnd()}function q(s,A){var O=e(s,A);if(h&&p.push([s,A]),R)w=s,d=A,E=O,R=!1,O&&(o.lineStart(),o.point(s,A));else if(O&&M)o.point(s,A);else{var B=[y=Math.max(qn,Math.min(hn,y)),v=Math.max(qn,Math.min(hn,v))],J=[s=Math.max(qn,Math.min(hn,s)),A=Math.max(qn,Math.min(hn,A))];Di(B,J,n,t,r,i)?(M||(o.lineStart(),o.point(B[0],B[1])),o.point(J[0],J[1]),O||o.lineEnd(),m=!1):O&&(o.lineStart(),o.point(s,A),m=!1)}y=s,v=A,M=O}return I}}var rt=mn(),et,Xn,Yn,an={sphere:x,point:x,lineStart:Yi,lineEnd:x,polygonStart:x,polygonEnd:x};function Yi(){an.point=Oi,an.lineEnd=Ci}function Ci(){an.point=an.lineEnd=x}function Oi(n,t){n*=X,t*=X,et=n,Xn=L(t),Yn=$(t),an.point=xi}function xi(n,t){n*=X,t*=X;var r=L(t),i=$(t),e=D(n-et),u=$(e),l=L(e),a=i*l,S=Yn*r-Xn*i*u,g=Xn*r+Yn*i*u;rt.add(en(Q(a*a+S*S),g)),et=n,Xn=r,Yn=i}function Gi(n){return rt.reset(),rn(n,an),+rt}var ut=[null,null],Zi={type:"LineString",coordinates:ut};function ot(n,t){return ut[0]=n,ut[1]=t,Gi(Zi)}var Ft={Feature:function(n,t){return Gn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)if(Gn(r[i].geometry,t))return!0;return!1}},qt={Sphere:function(){return!0},Point:function(n,t){return Dt(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Dt(r[i],t))return!0;return!1},LineString:function(n,t){return Xt(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Xt(r[i],t))return!0;return!1},Polygon:function(n,t){return Yt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Yt(r[i],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)if(Gn(r[i],t))return!0;return!1}};function Gn(n,t){return n&&qt.hasOwnProperty(n.type)?qt[n.type](n,t):!1}function Dt(n,t){return ot(n,t)===0}function Xt(n,t){for(var r,i,e,u=0,l=n.length;u<l;u++){if(i=ot(n[u],t),i===0||u>0&&(e=ot(n[u],n[u-1]),e>0&&r<=e&&i<=e&&(r+i-e)*(1-Math.pow((r-i)/e,2))<Kt*e))return!0;r=i}return!1}function Yt(n,t){return!!ni(n.map(Bi),ii(t))}function Bi(n){return n=n.map(ii),n.pop(),n}function ii(n){return[n[0]*X,n[1]*X]}function sr(n,t){return(n&&Ft.hasOwnProperty(n.type)?Ft[n.type]:Gn)(n,t)}function Ct(n,t,r){var i=fn(n,t-N,r).concat(t);return function(e){return i.map(function(u){return[e,u]})}}function Ot(n,t,r){var i=fn(n,t-N,r).concat(t);return function(e){return i.map(function(u){return[u,e]})}}function pr(){var n,t,r,i,e,u,l,a,S=10,g=S,o=90,f=360,c,h,p,w,d=2.5;function E(){return{type:"MultiLineString",coordinates:y()}}function y(){return fn($n(i/o)*o,r,o).map(p).concat(fn($n(a/f)*f,l,f).map(w)).concat(fn($n(t/S)*S,n,S).filter(function(v){return D(v%o)>N}).map(c)).concat(fn($n(u/g)*g,e,g).filter(function(v){return D(v%f)>N}).map(h))}return E.lines=function(){return y().map(function(v){return{type:"LineString",coordinates:v}})},E.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(w(l).slice(1),p(r).reverse().slice(1),w(a).reverse().slice(1))]}},E.extent=function(v){return arguments.length?E.extentMajor(v).extentMinor(v):E.extentMinor()},E.extentMajor=function(v){return arguments.length?(i=+v[0][0],r=+v[1][0],a=+v[0][1],l=+v[1][1],i>r&&(v=i,i=r,r=v),a>l&&(v=a,a=l,l=v),E.precision(d)):[[i,a],[r,l]]},E.extentMinor=function(v){return arguments.length?(t=+v[0][0],n=+v[1][0],u=+v[0][1],e=+v[1][1],t>n&&(v=t,t=n,n=v),u>e&&(v=u,u=e,e=v),E.precision(d)):[[t,u],[n,e]]},E.step=function(v){return arguments.length?E.stepMajor(v).stepMinor(v):E.stepMinor()},E.stepMajor=function(v){return arguments.length?(o=+v[0],f=+v[1],E):[o,f]},E.stepMinor=function(v){return arguments.length?(S=+v[0],g=+v[1],E):[S,g]},E.precision=function(v){return arguments.length?(d=+v,c=Ct(u,e,90),h=Ot(t,n,d),p=Ct(a,l,90),w=Ot(i,r,d),E):d},E.extentMajor([[-180,-90+N],[180,90-N]]).extentMinor([[-180,-80-N],[180,80+N]])}function ft(n){return n}var _n=mn(),lt=mn(),ri,ei,ct,at,b={point:x,lineStart:x,lineEnd:x,polygonStart:function(){b.lineStart=Hi,b.lineEnd=Ji},polygonEnd:function(){b.lineStart=b.lineEnd=b.point=x,_n.add(D(lt)),lt.reset()},result:function(){var n=_n/2;return _n.reset(),n}};function Hi(){b.point=Wi}function Wi(n,t){b.point=ui,ri=ct=n,ei=at=t}function ui(n,t){lt.add(at*n-ct*t),ct=n,at=t}function Ji(){ui(ri,ei)}var sn=1/0,Zn=sn,Pn=-sn,Bn=Pn,Hn={point:Ki,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x,result:function(){var n=[[sn,Zn],[Pn,Bn]];return Pn=Bn=-(Zn=sn=1/0),n}};function Ki(n,t){n<sn&&(sn=n),n>Pn&&(Pn=n),t<Zn&&(Zn=t),t>Bn&&(Bn=t)}var st=0,pt=0,gn=0,Wn=0,Jn=0,ln=0,ht=0,gt=0,vn=0,oi,fi,U,V,K={point:un,lineStart:xt,lineEnd:Gt,polygonStart:function(){K.lineStart=Vi,K.lineEnd=_i},polygonEnd:function(){K.point=un,K.lineStart=xt,K.lineEnd=Gt},result:function(){var n=vn?[ht/vn,gt/vn]:ln?[Wn/ln,Jn/ln]:gn?[st/gn,pt/gn]:[NaN,NaN];return st=pt=gn=Wn=Jn=ln=ht=gt=vn=0,n}};function un(n,t){st+=n,pt+=t,++gn}function xt(){K.point=Qi}function Qi(n,t){K.point=Ui,un(U=n,V=t)}function Ui(n,t){var r=n-U,i=t-V,e=Q(r*r+i*i);Wn+=e*(U+n)/2,Jn+=e*(V+t)/2,ln+=e,un(U=n,V=t)}function Gt(){K.point=un}function Vi(){K.point=ki}function _i(){li(oi,fi)}function ki(n,t){K.point=li,un(oi=U=n,fi=V=t)}function li(n,t){var r=n-U,i=t-V,e=Q(r*r+i*i);Wn+=e*(U+n)/2,Jn+=e*(V+t)/2,ln+=e,e=V*n-U*t,ht+=e*(U+n),gt+=e*(V+t),vn+=e*3,un(U=n,V=t)}function ci(n){this._context=n}ci.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,W);break}}},result:x};var vt=mn(),kn,ai,si,Sn,dn,Rn={point:x,lineStart:function(){Rn.point=ji},lineEnd:function(){kn&&pi(ai,si),Rn.point=x},polygonStart:function(){kn=!0},polygonEnd:function(){kn=null},result:function(){var n=+vt;return vt.reset(),n}};function ji(n,t){Rn.point=pi,ai=Sn=n,si=dn=t}function pi(n,t){Sn-=n,dn-=t,vt.add(Q(Sn*Sn+dn*dn)),Sn=n,dn=t}function hi(){this._string=[]}hi.prototype={_radius:4.5,_circle:Zt(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=Zt(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function Zt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function hr(n,t){var r=4.5,i,e;function u(l){return l&&(typeof r=="function"&&e.pointRadius(+r.apply(this,arguments)),rn(l,i(e))),e.result()}return u.area=function(l){return rn(l,i(b)),b.result()},u.measure=function(l){return rn(l,i(Rn)),Rn.result()},u.bounds=function(l){return rn(l,i(Hn)),Hn.result()},u.centroid=function(l){return rn(l,i(K)),K.result()},u.projection=function(l){return arguments.length?(i=l==null?(n=null,ft):(n=l).stream,u):n},u.context=function(l){return arguments.length?(e=l==null?(t=null,new hi):new ci(t=l),typeof r!="function"&&e.pointRadius(r),u):t},u.pointRadius=function(l){return arguments.length?(r=typeof l=="function"?l:(e.pointRadius(+l),+l),u):r},u.projection(n).context(t)}function Et(n){return function(t){var r=new St;for(var i in n)r[i]=n[i];return r.stream=t,r}}function St(){}St.prototype={constructor:St,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function yt(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),rn(r,n.stream(Hn)),t(Hn.result()),i!=null&&n.clipExtent(i),n}function gi(n,t,r){return yt(n,function(i){var e=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(e/(i[1][0]-i[0][0]),u/(i[1][1]-i[0][1])),a=+t[0][0]+(e-l*(i[1][0]+i[0][0]))/2,S=+t[0][1]+(u-l*(i[1][1]+i[0][1]))/2;n.scale(150*l).translate([a,S])},r)}function bi(n,t,r){return gi(n,[[0,0],t],r)}function nr(n,t,r){return yt(n,function(i){var e=+t,u=e/(i[1][0]-i[0][0]),l=(e-u*(i[1][0]+i[0][0]))/2,a=-u*i[0][1];n.scale(150*u).translate([l,a])},r)}function tr(n,t,r){return yt(n,function(i){var e=+t,u=e/(i[1][1]-i[0][1]),l=-u*i[0][0],a=(e-u*(i[1][1]+i[0][1]))/2;n.scale(150*u).translate([l,a])},r)}var Bt=16,ir=$(30*X);function Ht(n,t){return+t?er(n,t):rr(n)}function rr(n){return Et({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function er(n,t){function r(i,e,u,l,a,S,g,o,f,c,h,p,w,d){var E=g-i,y=o-e,v=E*E+y*y;if(v>4*t&&w--){var M=l+c,R=a+h,m=S+p,I=Q(M*M+R*R+m*m),F=_(m/=I),T=D(D(m)-1)<N||D(u-f)<N?(u+f)/2:en(R,M),Y=n(T,F),P=Y[0],G=Y[1],C=P-i,q=G-e,s=y*C-E*q;(s*s/v>t||D((E*C+y*q)/v-.5)>.3||l*c+a*h+S*p<ir)&&(r(i,e,u,l,a,S,P,G,T,M/=I,R/=I,m,w,d),d.point(P,G),r(P,G,T,M,R,m,g,o,f,c,h,p,w,d))}}return function(i){var e,u,l,a,S,g,o,f,c,h,p,w,d={point:E,lineStart:y,lineEnd:M,polygonStart:function(){i.polygonStart(),d.lineStart=R},polygonEnd:function(){i.polygonEnd(),d.lineStart=y}};function E(F,T){F=n(F,T),i.point(F[0],F[1])}function y(){f=NaN,d.point=v,i.lineStart()}function v(F,T){var Y=cn([F,T]),P=n(F,T);r(f,c,o,h,p,w,f=P[0],c=P[1],o=F,h=Y[0],p=Y[1],w=Y[2],Bt,i),i.point(f,c)}function M(){d.point=E,i.lineEnd()}function R(){y(),d.point=m,d.lineEnd=I}function m(F,T){v(e=F,T),u=f,l=c,a=h,S=p,g=w,d.point=v}function I(){r(f,c,o,h,p,w,u,l,e,a,S,g,Bt,i),d.lineEnd=M,M()}return d}}var ur=Et({point:function(n,t){this.stream.point(n*X,t*X)}});function or(n){return Et({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function fr(n,t,r,i,e){function u(l,a){return l*=i,a*=e,[t+n*l,r-n*a]}return u.invert=function(l,a){return[(l-t)/n*i,(r-a)/n*e]},u}function Wt(n,t,r,i,e,u){var l=$(u),a=L(u),S=l*n,g=a*n,o=l/n,f=a/n,c=(a*r-l*t)/n,h=(a*t+l*r)/n;function p(w,d){return w*=i,d*=e,[S*w-g*d+t,r-g*w-S*d]}return p.invert=function(w,d){return[i*(o*w-f*d+c),e*(h-f*w-o*d)]},p}function nn(n){return lr(function(){return n})()}function lr(n){var t,r=150,i=480,e=250,u=0,l=0,a=0,S=0,g=0,o,f=0,c=1,h=1,p=null,w=Tt,d=null,E,y,v,M=ft,R=.5,m,I,F,T,Y;function P(s){return F(s[0]*X,s[1]*X)}function G(s){return s=F.invert(s[0],s[1]),s&&[s[0]*H,s[1]*H]}P.stream=function(s){return T&&Y===s?T:T=ur(or(o)(w(m(M(Y=s)))))},P.preclip=function(s){return arguments.length?(w=s,p=void 0,q()):w},P.postclip=function(s){return arguments.length?(M=s,d=E=y=v=null,q()):M},P.clipAngle=function(s){return arguments.length?(w=+s?qi(p=s*X):(p=null,Tt),q()):p*H},P.clipExtent=function(s){return arguments.length?(M=s==null?(d=E=y=v=null,ft):Xi(d=+s[0][0],E=+s[0][1],y=+s[1][0],v=+s[1][1]),q()):d==null?null:[[d,E],[y,v]]},P.scale=function(s){return arguments.length?(r=+s,C()):r},P.translate=function(s){return arguments.length?(i=+s[0],e=+s[1],C()):[i,e]},P.center=function(s){return arguments.length?(u=s[0]%360*X,l=s[1]%360*X,C()):[u*H,l*H]},P.rotate=function(s){return arguments.length?(a=s[0]%360*X,S=s[1]%360*X,g=s.length>2?s[2]%360*X:0,C()):[a*H,S*H,g*H]},P.angle=function(s){return arguments.length?(f=s%360*X,C()):f*H},P.reflectX=function(s){return arguments.length?(c=s?-1:1,C()):c<0},P.reflectY=function(s){return arguments.length?(h=s?-1:1,C()):h<0},P.precision=function(s){return arguments.length?(m=Ht(I,R=s*s),q()):Q(R)},P.fitExtent=function(s,A){return gi(P,s,A)},P.fitSize=function(s,A){return bi(P,s,A)},P.fitWidth=function(s,A){return nr(P,s,A)},P.fitHeight=function(s,A){return tr(P,s,A)};function C(){var s=Wt(r,0,0,c,h,f).apply(null,t(u,l)),A=(f?Wt:fr)(r,i-s[0],e-s[1],c,h,f);return o=kt(a,S,g),I=tt(t,A),F=tt(o,I),m=Ht(I,R),q()}function q(){return T=Y=null,P}return function(){return t=n.apply(this,arguments),P.invert=t.invert&&G,C()}}function vi(n){return function(t,r){var i=$(t),e=$(r),u=n(i*e);return[u*e*L(t),u*L(r)]}}function Ln(n){return function(t,r){var i=Q(t*t+r*r),e=n(i),u=L(e),l=$(e);return[en(t*u,i*l),_(i&&r*u/i)]}}var Si=vi(function(n){return Q(2/(1+n))});Si.invert=Ln(function(n){return 2*_(n/2)});function gr(){return nn(Si).scale(124.75).clipAngle(180-.001)}var di=vi(function(n){return(n=_t(n))&&n/L(n)});di.invert=Ln(function(n){return n});function vr(){return nn(di).scale(79.4188).clipAngle(180-.001)}function Mt(n,t){return[n,Ut(Vt((Z+t)/2))]}Mt.invert=function(n,t){return[n,2*Nn(Qt(t))-Z]};function Sr(){return Ei(Mt).scale(961/W)}function Ei(n){var t=nn(n),r=t.center,i=t.scale,e=t.translate,u=t.clipExtent,l=null,a,S,g;t.scale=function(f){return arguments.length?(i(f),o()):i()},t.translate=function(f){return arguments.length?(e(f),o()):e()},t.center=function(f){return arguments.length?(r(f),o()):r()},t.clipExtent=function(f){return arguments.length?(f==null?l=a=S=g=null:(l=+f[0][0],a=+f[0][1],S=+f[1][0],g=+f[1][1]),o()):l==null?null:[[l,a],[S,g]]};function o(){var f=z*i(),c=t(Li(t.rotate()).invert([0,0]));return u(l==null?[[c[0]-f,c[1]-f],[c[0]+f,c[1]+f]]:n===Mt?[[Math.max(c[0]-f,l),a],[Math.min(c[0]+f,S),g]]:[[l,Math.max(c[1]-f,a)],[S,Math.min(c[1]+f,g)]])}return o()}function dt(n,t){return[n,t]}dt.invert=dt;function dr(){return nn(dt).scale(152.63)}var En=1.340264,yn=-.081106,Mn=893e-6,wn=.003796,Kn=Q(3)/2,cr=12;function yi(n,t){var r=_(Kn*L(t)),i=r*r,e=i*i*i;return[n*$(r)/(Kn*(En+3*yn*i+e*(7*Mn+9*wn*i))),r*(En+yn*i+e*(Mn+wn*i))]}yi.invert=function(n,t){for(var r=t,i=r*r,e=i*i*i,u=0,l,a,S;u<cr&&(a=r*(En+yn*i+e*(Mn+wn*i))-t,S=En+3*yn*i+e*(7*Mn+9*wn*i),r-=l=a/S,i=r*r,e=i*i*i,!(D(l)<Kt));++u);return[Kn*n*(En+3*yn*i+e*(7*Mn+9*wn*i))/$(r),_(L(r)/Kn)]};function Er(){return nn(yi).scale(177.158)}function Mi(n,t){var r=$(t),i=$(n)*r;return[r*L(n)/i,L(t)/i]}Mi.invert=Ln(Nn);function yr(){return nn(Mi).scale(144.049).clipAngle(60)}function wi(n,t){var r=t*t,i=r*r;return[n*(.8707-.131979*r+i*(-.013791+i*(.003971*r-.001529*i))),t*(1.007226+r*(.015085+i*(-.044475+.028874*r-.005916*i)))]}wi.invert=function(n,t){var r=t,i=25,e;do{var u=r*r,l=u*u;r-=e=(r*(1.007226+u*(.015085+l*(-.044475+.028874*u-.005916*l)))-t)/(1.007226+u*(.015085*3+l*(-.044475*7+.028874*9*u-.005916*11*l)))}while(D(e)>N&&--i>0);return[n/(.8707+(u=r*r)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),r]};function Mr(){return nn(wi).scale(175.295)}function Pi(n,t){return[$(t)*L(n),L(t)]}Pi.invert=Ln(_);function wr(){return nn(Pi).scale(249.5).clipAngle(90+N)}function Ri(n,t){var r=$(t),i=1+$(n)*r;return[r*L(n)/i,L(t)/i]}Ri.invert=Ln(function(n){return 2*Nn(n)});function Pr(){return nn(Ri).scale(250).clipAngle(142)}function mi(n,t){return[Ut(Vt((Z+t)/2)),-n]}mi.invert=function(n,t){return[-t,2*Nn(Qt(n))-Z]};function Rr(){var n=Ei(mi),t=n.center,r=n.rotate;return n.center=function(i){return arguments.length?t([-i[1],i[0]]):(i=t(),[i[1],-i[0]])},n.rotate=function(i){return arguments.length?r([i[0],i[1],i.length>2?i[2]+90:90]):(i=r(),[i[0],i[1],i[2]-90])},r([0,0,90]).scale(159.155)}export{Mr as E,dr as F,Rr as L,wr as M,Sr as O,hr as S,yr as T,Pr as W,pr as g,Er as k,gr as q,vr as w,sr as x};
